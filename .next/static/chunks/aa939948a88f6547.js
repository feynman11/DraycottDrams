(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,t=>{"use strict";let e,n,r,o,i,a,l,s,u;var c=t.i(43476),f=t.i(71645),h=t.i(98358),d={value:()=>{}};function p(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new m(r)}function m(t){this._=t}function g(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=d,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function v(){}function x(t){return null==t?v:function(){return this.querySelector(t)}}function y(){return[]}function b(t){return null==t?y:function(){return this.querySelectorAll(t)}}function w(t){return function(){return this.matches(t)}}function k(t){return function(e){return e.matches(t)}}m.prototype=p.prototype={constructor:m,on:function(t,e){var n,r=this._,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(t=o[i]).type)&&(n=function(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=g(r[n],t.name,e);else if(null==e)for(n in r)r[n]=g(r[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new m(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],i=0,n=r.length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var _=Array.prototype.find;function j(){return this.firstElementChild}var N=Array.prototype.filter;function z(){return Array.from(this.children)}function M(t){return Array(t.length)}function S(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function E(t,e,n,r,o,i){for(var a,l=0,s=e.length,u=i.length;l<u;++l)(a=e[l])?(a.__data__=i[l],r[l]=a):n[l]=new S(t,i[l]);for(;l<s;++l)(a=e[l])&&(o[l]=a)}function A(t,e,n,r,o,i,a){var l,s,u,c=new Map,f=e.length,h=i.length,d=Array(f);for(l=0;l<f;++l)(s=e[l])&&(d[l]=u=a.call(s,s.__data__,l,e)+"",c.has(u)?o[l]=s:c.set(u,s));for(l=0;l<h;++l)u=a.call(t,i[l],l,i)+"",(s=c.get(u))?(r[l]=s,s.__data__=i[l],c.delete(u)):n[l]=new S(t,i[l]);for(l=0;l<f;++l)(s=e[l])&&c.get(d[l])===s&&(o[l]=s)}function C(t){return t.__data__}function $(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}S.prototype={constructor:S,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var P="http://www.w3.org/1999/xhtml";let I={svg:"http://www.w3.org/2000/svg",xhtml:P,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function T(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),I.hasOwnProperty(e)?{space:I[e],local:t}:t}function R(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function O(t,e){return t.style.getPropertyValue(e)||R(t).getComputedStyle(t,null).getPropertyValue(e)}function L(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new q(t)}function q(t){this._node=t,this._names=L(t.getAttribute("class")||"")}function B(t,e){for(var n=D(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function G(t,e){for(var n=D(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function V(){this.textContent=""}function W(){this.innerHTML=""}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function Y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(t){var e=T(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===P&&e.documentElement.namespaceURI===P?e.createElement(t):e.createElementNS(n,t)}})(e)}function F(){return null}function Z(){var t=this.parentNode;t&&t.removeChild(this)}function U(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function K(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Q(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)(n=e[r],t.type&&n.type!==t.type||n.name!==t.name)?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function J(t,e,n){return function(){var r,o=this.__on,i=function(t){e.call(this,t,this.__data__)};if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=e;return}}this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function tt(t,e,n){var r=R(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}q.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var te=[null];function tn(t,e){this._groups=t,this._parents=e}function tr(){return new tn([[document.documentElement]],te)}function to(t){return"string"==typeof t?new tn([[document.querySelector(t)]],[document.documentElement]):new tn([[t]],te)}tn.prototype=tr.prototype={constructor:tn,select:function(t){"function"!=typeof t&&(t=x(t));for(var e=this._groups,n=e.length,r=Array(n),o=0;o<n;++o)for(var i,a,l=e[o],s=l.length,u=r[o]=Array(s),c=0;c<s;++c)(i=l[c])&&(a=t.call(i,i.__data__,c,l))&&("__data__"in i&&(a.__data__=i.__data__),u[c]=a);return new tn(r,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=b(t);for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var l,s=n[a],u=s.length,c=0;c<u;++c)(l=s[c])&&(o.push(t.call(l,l.__data__,c,s)),i.push(l));return new tn(o,i)},selectChild:function(t){var e;return this.select(null==t?j:(e="function"==typeof t?t:k(t),function(){return _.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?z:(e="function"==typeof t?t:k(t),function(){return N.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=w(t));for(var e=this._groups,n=e.length,r=Array(n),o=0;o<n;++o)for(var i,a=e[o],l=a.length,s=r[o]=[],u=0;u<l;++u)(i=a[u])&&t.call(i,i.__data__,u,a)&&s.push(i);return new tn(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,C);var n=e?A:E,r=this._parents,o=this._groups;"function"!=typeof t&&(x=t,t=function(){return x});for(var i=o.length,a=Array(i),l=Array(i),s=Array(i),u=0;u<i;++u){var c=r[u],f=o[u],h=f.length,d="object"==typeof(v=t.call(c,c&&c.__data__,u,r))&&"length"in v?v:Array.from(v),p=d.length,m=l[u]=Array(p),g=a[u]=Array(p);n(c,f,m,g,s[u]=Array(h),d,e);for(var v,x,y,b,w=0,k=0;w<p;++w)if(y=m[w]){for(w>=k&&(k=w+1);!(b=g[k])&&++k<p;);y._next=b||null}}return(a=new tn(a,r))._enter=l,a._exit=s,a},enter:function(){return new tn(this._enter||this._groups.map(M),this._parents)},exit:function(){return new tn(this._exit||this._groups.map(M),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),l=Array(o),s=0;s<a;++s)for(var u,c=n[s],f=r[s],h=c.length,d=l[s]=Array(h),p=0;p<h;++p)(u=c[p]||f[p])&&(d[p]=u);for(;s<o;++s)l[s]=n[s];return new tn(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=$);for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i){for(var a,l=n[i],s=l.length,u=o[i]=Array(s),c=0;c<s;++c)(a=l[c])&&(u[c]=a);u.sort(e)}return new tn(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,l=i.length;a<l;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=T(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):O(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=L(t+"");if(arguments.length<2){for(var r=D(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?B:G)(this,t)}}:e?function(t){return function(){B(this,t)}}:function(t){return function(){G(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(X)},lower:function(){return this.each(Y)},append:function(t){var e="function"==typeof t?t:H(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:H(t),r=null==e?F:"function"==typeof e?e:x(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Z)},clone:function(t){return this.select(t?K:U)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=i.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value}return}for(r=0,l=e?J:Q;r<a;++r)this.each(l(i[r],e,n));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return tt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return tt(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};let ti={capture:!0,passive:!1};function ta(t){t.preventDefault(),t.stopImmediatePropagation()}function tl(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ts(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tu(){}var tc="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",td=/^#([0-9a-f]{3,8})$/,tp=RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),tm=RegExp(`^rgb\\(${th},${th},${th}\\)$`),tg=RegExp(`^rgba\\(${tc},${tc},${tc},${tf}\\)$`),tv=RegExp(`^rgba\\(${th},${th},${th},${tf}\\)$`),tx=RegExp(`^hsl\\(${tf},${th},${th}\\)$`),ty=RegExp(`^hsla\\(${tf},${th},${th},${tf}\\)$`),tb={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function tw(){return this.rgb().formatHex()}function tk(){return this.rgb().formatRgb()}function t_(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=td.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tj(e):3===n?new tM(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?tN(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?tN(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=tp.exec(t))?new tM(e[1],e[2],e[3],1):(e=tm.exec(t))?new tM(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=tg.exec(t))?tN(e[1],e[2],e[3],e[4]):(e=tv.exec(t))?tN(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=tx.exec(t))?tP(e[1],e[2]/100,e[3]/100,1):(e=ty.exec(t))?tP(e[1],e[2]/100,e[3]/100,e[4]):tb.hasOwnProperty(t)?tj(tb[t]):"transparent"===t?new tM(NaN,NaN,NaN,0):null}function tj(t){return new tM(t>>16&255,t>>8&255,255&t,1)}function tN(t,e,n,r){return r<=0&&(t=e=n=NaN),new tM(t,e,n,r)}function tz(t,e,n,r){var o;return 1==arguments.length?((o=t)instanceof tu||(o=t_(o)),o)?new tM((o=o.rgb()).r,o.g,o.b,o.opacity):new tM:new tM(t,e,n,null==r?1:r)}function tM(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function tS(){return`#${t$(this.r)}${t$(this.g)}${t$(this.b)}`}function tE(){let t=tA(this.opacity);return`${1===t?"rgb(":"rgba("}${tC(this.r)}, ${tC(this.g)}, ${tC(this.b)}${1===t?")":`, ${t})`}`}function tA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tC(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function t$(t){return((t=tC(t))<16?"0":"")+t.toString(16)}function tP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tT(t,e,n,r)}function tI(t){if(t instanceof tT)return new tT(t.h,t.s,t.l,t.opacity);if(t instanceof tu||(t=t_(t)),!t)return new tT;if(t instanceof tT)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=e===i?(n-r)/l+(n<r)*6:n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new tT(a,l,s,t.opacity)}function tT(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tR(t){return(t=(t||0)%360)<0?t+360:t}function tO(t){return Math.max(0,Math.min(1,t||0))}function tL(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function tD(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}tl(tu,t_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tw,formatHex:tw,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tI(this).formatHsl()},formatRgb:tk,toString:tk}),tl(tM,tz,ts(tu,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new tM(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new tM(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tM(tC(this.r),tC(this.g),tC(this.b),tA(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tS,formatHex:tS,formatHex8:function(){return`#${t$(this.r)}${t$(this.g)}${t$(this.b)}${t$((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:tE,toString:tE})),tl(tT,function(t,e,n,r){return 1==arguments.length?tI(t):new tT(t,e,n,null==r?1:r)},ts(tu,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new tT(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new tT(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new tM(tL(t>=240?t-240:t+120,o,r),tL(t,o,r),tL(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new tT(tR(this.h),tO(this.s),tO(this.l),tA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=tA(this.opacity);return`${1===t?"hsl(":"hsla("}${tR(this.h)}, ${100*tO(this.s)}%, ${100*tO(this.l)}%${1===t?")":`, ${t})`}`}}));let tq=t=>()=>t;function tB(t,e){var n=e-t;return n?function(e){return t+e*n}:tq(isNaN(t)?e:t)}let tG=function t(e){var n,r=1==(n=+e)?tB:function(t,e){var r,o,i;return e-t?(r=t,o=e,r=Math.pow(r,i=n),o=Math.pow(o,i)-r,i=1/i,function(t){return Math.pow(r+t*o,i)}):tq(isNaN(t)?e:t)};function o(t,e){var n=r((t=tz(t)).r,(e=tz(e)).r),o=r(t.g,e.g),i=r(t.b,e.b),a=tB(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return o.gamma=t,o}(1);function tV(t){return function(e){var n,r,o=e.length,i=Array(o),a=Array(o),l=Array(o);for(n=0;n<o;++n)r=tz(e[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=t(i),a=t(a),l=t(l),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=l(t),r+""}}}function tW(t,e){return t*=1,e*=1,function(n){return t*(1-n)+e*n}}tV(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,l=r<e-1?t[r+2]:2*i-o;return tD((n-r/e)*e,a,o,i,l)}}),tV(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],l=t[(r+2)%e];return tD((n-r/e)*e,o,i,a,l)}});var tX=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tY=RegExp(tX.source,"g");function tH(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var tF,tZ,tU=0,tK=0,tQ=0,tJ=0,t0=0,t1=0,t2="object"==typeof performance&&performance.now?performance:Date,t5="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function t4(){return t0||(t5(t3),t0=t2.now()+t1)}function t3(){t0=0}function t6(){this._call=this._time=this._next=null}function t8(t,e,n){var r=new t6;return r.restart(t,e,n),r}function t9(){t0=(tJ=t2.now())+t1,tU=tK=0;try{t4(),++tU;for(var t,e=tF;e;)(t=t0-e._time)>=0&&e._call.call(void 0,t),e=e._next;--tU}finally{tU=0,function(){for(var t,e,n=tF,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:tF=e);tZ=t,et(r)}(),t0=0}}function t7(){var t=t2.now(),e=t-tJ;e>1e3&&(t1-=e,tJ=t)}function et(t){!tU&&(tK&&(tK=clearTimeout(tK)),t-t0>24?(t<1/0&&(tK=setTimeout(t9,t-t2.now()-t1)),tQ&&(tQ=clearInterval(tQ))):(tQ||(tJ=t2.now(),tQ=setInterval(t7,1e3)),tU=1,t5(t9)))}function ee(t,e,n){var r=new t6;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}t6.prototype=t8.prototype={constructor:t6,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?t4():+n)+(null==e?0:+e),this._next||tZ===this||(tZ?tZ._next=this:tF=this,tZ=this),this._call=t,this._time=n,et()},stop:function(){this._call&&(this._call=null,this._time=1/0,et())}};var en=p("start","end","cancel","interrupt"),er=[];function eo(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(s){var u,c,f,h;if(1!==n.state)return l();for(u in o)if((h=o[u]).name===n.name){if(3===h.state)return ee(i);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[u])}if(ee(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(f=n.tween.length),c=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=t8(function(t){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:o,on:en,tween:er,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ei(t,e){var n=el(t,e);if(n.state>0)throw Error("too late; already scheduled");return n}function ea(t,e){var n=el(t,e);if(n.state>3)throw Error("too late; already running");return n}function el(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}function es(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i){if((n=i[o]).name!==e){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]}a&&delete t.__transition}}var eu=180/Math.PI,ec={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ef(t,e,n,r,o,i){var a,l,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*eu,skewX:Math.atan(s)*eu,scaleX:a,scaleY:l}}function eh(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var l,s,u,c,f=[],h=[];return i=t(i),a=t(a),!function(t,r,o,i,a,l){if(t!==o||r!==i){var s=a.push("translate(",null,e,null,n);l.push({i:s-4,x:tW(t,o)},{i:s-2,x:tW(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,f,h),l=i.rotate,s=a.rotate,l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),h.push({i:f.push(o(f)+"rotate(",null,r)-2,x:tW(l,s)})):s&&f.push(o(f)+"rotate("+s+r),u=i.skewX,c=a.skewX,u!==c?h.push({i:f.push(o(f)+"skewX(",null,r)-2,x:tW(u,c)}):c&&f.push(o(f)+"skewX("+c+r),!function(t,e,n,r,i,a){if(t!==n||e!==r){var l=i.push(o(i)+"scale(",null,",",null,")");a.push({i:l-4,x:tW(t,n)},{i:l-2,x:tW(e,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,f,h),i=a=null,function(t){for(var e,n=-1,r=h.length;++n<r;)f[(e=h[n]).i]=e.x(t);return f.join("")}}}var ed=eh(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ec:ef(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),ep=eh(function(t){return null==t?ec:(nV||(nV=document.createElementNS("http://www.w3.org/2000/svg","g")),nV.setAttribute("transform",t),t=nV.transform.baseVal.consolidate())?ef((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ec},", ",")",")");function em(t,e,n){var r=t._id;return t.each(function(){var t=ea(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return el(t,r).value[e]}}function eg(t,e){var n;return("number"==typeof e?tW:e instanceof t_?tG:(n=t_(e))?(e=n,tG):function(t,e){var n,r,o,i,a,l=tX.lastIndex=tY.lastIndex=0,s=-1,u=[],c=[];for(t+="",e+="";(o=tX.exec(t))&&(i=tY.exec(e));)(a=i.index)>l&&(a=e.slice(l,a),u[s]?u[s]+=a:u[++s]=a),(o=o[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:tW(o,i)})),l=tY.lastIndex;return l<e.length&&(a=e.slice(l),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?(n=c[0].x,function(t){return n(t)+""}):(r=e,function(){return r}):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})})(t,e)}var ev=tr.prototype.constructor;function ex(t){return function(){this.style.removeProperty(t)}}var ey=0;function eb(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var ew=tr.prototype;eb.prototype=(function(t){return tr().transition(t)}).prototype={constructor:eb,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=x(t));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var l,s,u=r[a],c=u.length,f=i[a]=Array(c),h=0;h<c;++h)(l=u[h])&&(s=t.call(l,l.__data__,h,u))&&("__data__"in l&&(s.__data__=l.__data__),f[h]=s,eo(f[h],e,n,h,f,el(l,n)));return new eb(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=b(t));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var s,u=r[l],c=u.length,f=0;f<c;++f)if(s=u[f]){for(var h,d=t.call(s,s.__data__,f,u),p=el(s,n),m=0,g=d.length;m<g;++m)(h=d[m])&&eo(h,e,n,m,d,p);i.push(d),a.push(s)}return new eb(i,a,e,n)},selectChild:ew.selectChild,selectChildren:ew.selectChildren,filter:function(t){"function"!=typeof t&&(t=w(t));for(var e=this._groups,n=e.length,r=Array(n),o=0;o<n;++o)for(var i,a=e[o],l=a.length,s=r[o]=[],u=0;u<l;++u)(i=a[u])&&t.call(i,i.__data__,u,a)&&s.push(i);return new eb(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=Array(r),l=0;l<i;++l)for(var s,u=e[l],c=n[l],f=u.length,h=a[l]=Array(f),d=0;d<f;++d)(s=u[d]||c[d])&&(h[d]=s);for(;l<r;++l)a[l]=e[l];return new eb(a,this._parents,this._name,this._id)},selection:function(){return new ev(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++ey,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,u=0;u<s;++u)if(a=l[u]){var c=el(a,e);eo(a,t,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new eb(r,this._parents,t,n)},call:ew.call,nodes:ew.nodes,node:ew.node,size:ew.size,empty:ew.empty,each:ew.each,on:function(t,e){var n,r,o,i,a,l,s=this._id;return arguments.length<2?el(this.node(),s).on.on(t):this.each((n=s,r=t,o=e,l=(r+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?ei:ea,function(){var t=l(this,n),e=t.on;e!==i&&(a=(i=e).copy()).on(r,o),t.on=a}))},attr:function(t,e){var n=T(t),r="transform"===n?ep:eg;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=e(r=a,s))}}:function(t,e,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=e(r=a,s))}})(n,r,em(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}:function(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=T(t);return this.tween(n,(r.local?function(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e){this.setAttributeNS(t.space,t.local,o.call(this,e))}),n}return o._value=e,o}:function(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e){this.setAttribute(t,o.call(this,e))}),n}return o._value=e,o})(r,e))},style:function(t,e,n){var r,o,i,a,l,s,u,c,f,h,d,p,m,g,v,x,y,b,w,k,_,j="transform"==(t+="")?ed:eg;return null==e?this.styleTween(t,(r=t,function(){var t=O(this,r),e=(this.style.removeProperty(r),O(this,r));return t===e?null:t===o&&e===i?a:a=j(o=t,i=e)})).on("end.style."+t,ex(t)):"function"==typeof e?this.styleTween(t,(l=t,s=em(this,"style."+t,e),function(){var t=O(this,l),e=s(this),n=e+"";return null==e&&(this.style.removeProperty(l),n=e=O(this,l)),t===n?null:t===u&&n===c?f:(c=n,f=j(u=t,e))})).each((h=this._id,y="end."+(x="style."+(d=t)),function(){var t=ea(this,h),e=t.on,n=null==t.value[x]?v||(v=ex(d)):void 0;(e!==p||g!==n)&&(m=(p=e).copy()).on(y,g=n),t.on=m})):this.styleTween(t,(b=t,_=e+"",function(){var t=O(this,b);return t===_?null:t===w?k:k=j(w=t,e)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();return this.tween(r,function(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e){this.style.setProperty(t,i.call(this,e),n)}),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){var e,n;return this.tween("text","function"==typeof t?(e=em(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){this.textContent=r.call(this,t)}),e}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=el(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var o=ea(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(t,e,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=ea(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=l;break}s===u&&o.push(l)}i.tween=o}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ei(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e*=1,function(){ei(this,t).delay=e}})(e,t)):el(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ea(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e*=1,function(){ea(this,t).duration=e}})(e,t)):el(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){ea(this,t).ease=e}}(e,t)):el(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw Error();ea(this,e).ease=n}))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){0==--o&&i()}};n.each(function(){var n=ea(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e}),0===o&&i()})},[Symbol.iterator]:ew[Symbol.iterator]};var ek={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};tr.prototype.interrupt=function(t){return this.each(function(){es(this,t)})},tr.prototype.transition=function(t){var e,n;t instanceof eb?(e=t._id,t=t._name):(e=++ey,(n=ek).time=t4(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,u=0;u<s;++u)(a=l[u])&&eo(a,t,e,u,l,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}(a,e));return new eb(r,this._parents,t,e)};let{abs:e_,max:ej,min:eN}=Math;function ez(t){return{type:t}}function eM(t){return((t=Math.exp(t))+1/t)/2}["w","e"].map(ez),["n","s"].map(ez),["n","w","e","s","nw","ne","sw","se"].map(ez);let eS=function t(e,n,r){function o(t,o){var i,a,l=t[0],s=t[1],u=t[2],c=o[0],f=o[1],h=o[2],d=c-l,p=f-s,m=d*d+p*p;if(m<1e-12)a=Math.log(h/u)/e,i=function(t){return[l+t*d,s+t*p,u*Math.exp(e*t*a)]};else{var g=Math.sqrt(m),v=(h*h-u*u+r*m)/(2*u*n*g),x=(h*h-u*u-r*m)/(2*h*n*g),y=Math.log(Math.sqrt(v*v+1)-v);a=(Math.log(Math.sqrt(x*x+1)-x)-y)/e,i=function(t){var r,o,i=t*a,c=eM(y),f=u/(n*g)*(c*(((r=Math.exp(2*(r=e*i+y)))-1)/(r+1))-((o=Math.exp(o=y))-1/o)/2);return[l+f*d,s+f*p,u*c/eM(e*i+y)]}}return i.duration=1e3*a*e/Math.SQRT2,i}return o.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},o}(Math.SQRT2,2,4),eE=t=>()=>t;function eA(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function eC(t,e,n){this.k=t,this.x=e,this.y=n}eC.prototype={constructor:eC,scale:function(t){return 1===t?this:new eC(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new eC(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var e$=new eC(1,0,0);function eP(t){for(;!t.__zoom;)if(!(t=t.parentNode))return e$;return t.__zoom}function eI(t){t.stopImmediatePropagation()}function eT(t){t.preventDefault(),t.stopImmediatePropagation()}function eR(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function eO(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function eL(){return this.__zoom||e$}function eD(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function eq(){return navigator.maxTouchPoints||"ontouchstart"in this}function eB(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}eP.prototype=eC.prototype,t.s([],85664);var eG=Math.PI,eV=eG/2,eW=eG/4,eX=2*eG,eY=180/eG,eH=eG/180,eF=Math.abs,eZ=Math.atan,eU=Math.atan2,eK=Math.cos,eQ=Math.exp,eJ=Math.log,e0=Math.sin,e1=Math.sign||function(t){return t>0?1:t<0?-1:0},e2=Math.sqrt,e5=Math.tan;function e4(t){return t>1?eV:t<-1?-eV:Math.asin(t)}function e3(t,e){function n(n,r){return e((n=t(n,r))[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function e6(t,e){return eF(t)>eG&&(t-=Math.round(t/eX)*eX),[t,e]}function e8(t,e,n){return(t%=eX)?e||n?e3(e7(t),nt(e,n)):e7(t):e||n?nt(e,n):e6}function e9(t){return function(e,n){return eF(e+=t)>eG&&(e-=Math.round(e/eX)*eX),[e,n]}}function e7(t){var e=e9(t);return e.invert=e9(-t),e}function nt(t,e){var n=eK(t),r=e0(t),o=eK(e),i=e0(e);function a(t,e){var a=eK(e),l=eK(t)*a,s=e0(t)*a,u=e0(e),c=u*n+l*r;return[eU(s*o-c*i,l*n-u*r),e4(c*o+s*i)]}return a.invert=function(t,e){var a=eK(e),l=eK(t)*a,s=e0(t)*a,u=e0(e),c=u*o-s*i;return[eU(s*o+u*i,l*n+c*r),e4(c*n-l*r)]},a}function ne(){}function nn(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:ne,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function nr(t,e){return 1e-6>eF(t[0]-e[0])&&1e-6>eF(t[1]-e[1])}function no(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ni(t,e,n,r,o){var i,a,l=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(nr(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);o.lineEnd();return}a[0]+=2e-6}l.push(n=new no(r,t,null,!0)),s.push(n.o=new no(r,null,n,!1)),l.push(n=new no(a,t,null,!1)),s.push(n.o=new no(a,null,n,!0))}}),l.length){for(s.sort(e),na(l),na(s),i=0,a=s.length;i<a;++i)s[i].e=n=!n;for(var u,c,f=l[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;u=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(i=0,a=u.length;i<a;++i)o.point((c=u[i])[0],c[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d)for(i=(u=h.p.z).length-1;i>=0;--i)o.point((c=u[i])[0],c[1]);else r(h.x,h.p.x,-1,o);h=h.p}u=(h=h.o).z,d=!d}while(!h.v)o.lineEnd()}}}function na(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}e6.invert=e6;class nl{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let e=this._partials,n=0;for(let r=0;r<this._n&&r<32;r++){let o=e[r],i=t+o,a=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);a&&(e[n++]=a),t=i}return e[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,e=this._n,n,r,o,i=0;if(e>0){for(i=t[--e];e>0&&(i=(n=i)+(r=t[--e]),!(o=r-(i-n))););e>0&&(o<0&&t[e-1]<0||o>0&&t[e-1]>0)&&(n=i+(r=2*o),r==n-i&&(i=n))}return i}}function ns(t){return[eU(t[1],t[0]),e4(t[2])]}function nu(t){var e=t[0],n=t[1],r=eK(n);return[r*eK(e),r*e0(e),e0(n)]}function nc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function nf(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function nh(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function nd(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function np(t){var e=e2(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function nm(t){return eF(t[0])<=eG?t[0]:e1(t[0])*((eF(t[0])+eG)%eX-eG)}function ng(t){return Array.from(function*(t){for(let e of t)yield*e}(t))}function nv(t,e,n,r){return function(o){var i,a,l,s=e(o),u=nn(),c=e(u),f=!1,h={point:d,lineStart:m,lineEnd:g,polygonStart:function(){h.point=v,h.lineStart=x,h.lineEnd=y,a=[],i=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=g,a=ng(a);var t=function(t,e){var n=nm(e),r=e[1],o=e0(r),i=[e0(n),-eK(n),0],a=0,l=0,s=new nl;1===o?r=eV+1e-6:-1===o&&(r=-eV-1e-6);for(var u=0,c=t.length;u<c;++u)if(h=(f=t[u]).length)for(var f,h,d=f[h-1],p=nm(d),m=d[1]/2+eW,g=e0(m),v=eK(m),x=0;x<h;++x,p=b,g=k,v=_,d=y){var y=f[x],b=nm(y),w=y[1]/2+eW,k=e0(w),_=eK(w),j=b-p,N=j>=0?1:-1,z=N*j,M=z>eG,S=g*k;if(s.add(eU(S*N*e0(z),v*_+S*eK(z))),a+=M?j+N*eX:j,M^p>=n^b>=n){var E=nf(nu(d),nu(y));np(E);var A=nf(i,E);np(A);var C=(M^j>=0?-1:1)*e4(A[2]);(r>C||r===C&&(E[0]||E[1]))&&(l+=M^j>=0?1:-1)}}return(a<-1e-6||a<1e-6&&s<-1e-12)^1&l}(i,r);a.length?(f||(o.polygonStart(),f=!0),ni(a,ny,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(e,n){t(e,n)&&o.point(e,n)}function p(t,e){s.point(t,e)}function m(){h.point=p,s.lineStart()}function g(){h.point=d,s.lineEnd()}function v(t,e){l.push([t,e]),c.point(t,e)}function x(){c.lineStart(),l=[]}function y(){v(l[0][0],l[0][1]),c.lineEnd();var t,e,n,r,s=c.clean(),h=u.result(),d=h.length;if(l.pop(),i.push(l),l=null,d){if(1&s){if((e=(n=h[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}return}d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(nx))}}return h}}function nx(t){return t.length>1}function ny(t,e){return((t=t.x)[0]<0?t[1]-eV-1e-6:eV-t[1])-((e=e.x)[0]<0?e[1]-eV-1e-6:eV-e[1])}let nb=nv(function(){return!0},function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l,s,u,c,f,h,d,p=i>0?eG:-eG,m=eF(i-n);1e-6>eF(m-eG)?(t.point(n,r=(r+a)/2>0?eV:-eV),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(p,r),t.point(i,r),e=0):o!==p&&m>=eG&&(1e-6>eF(n-o)&&(n-=1e-6*o),1e-6>eF(i-p)&&(i-=1e-6*p),l=n,s=r,u=i,c=a,r=eF(d=e0(l-u))>1e-6?eZ((e0(s)*(h=eK(c))*e0(u)-e0(c)*(f=eK(s))*e0(l))/(f*h*d)):(s+c)/2,t.point(o,r),t.lineEnd(),t.lineStart(),t.point(p,r),e=0),t.point(n=i,r=a),o=p},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var o;if(null==t)o=n*eV,r.point(-eG,o),r.point(0,o),r.point(eG,o),r.point(eG,0),r.point(eG,-o),r.point(0,-o),r.point(-eG,-o),r.point(-eG,0),r.point(-eG,o);else if(eF(t[0]-e[0])>1e-6){var i=t[0]<e[0]?eG:-eG;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])},[-eG,-eV]);function nw(t,e){e=nu(e),e[0]-=t,np(e);var n,r=(n=-e[1])>1?0:n<-1?eG:Math.acos(n);return((0>-e[2]?-r:r)+eX-1e-6)%eX}let nk=t=>t;function n_(t){return function(e){var n=new nj;for(var r in t)n[r]=t[r];return n.stream=e,n}}function nj(){}function nN(t,e){t&&nM.hasOwnProperty(t.type)&&nM[t.type](t,e)}nj.prototype={constructor:nj,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var nz={Feature:function(t,e){nN(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)nN(n[r].geometry,e)}},nM={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){nS(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)nS(n[r],e,0)},Polygon:function(t,e){nE(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)nE(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)nN(n[r],e)}};function nS(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function nE(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)nS(t[n],e,1);e.polygonEnd()}function nA(t,e){t&&nz.hasOwnProperty(t.type)?nz[t.type](t,e):nN(t,e)}var nC=1/0,n$=1/0,nP=-1/0,nI=nP;let nT={point:function(t,e){t<nC&&(nC=t),t>nP&&(nP=t),e<n$&&(n$=e),e>nI&&(nI=e)},lineStart:ne,lineEnd:ne,polygonStart:ne,polygonEnd:ne,result:function(){var t=[[nC,n$],[nP,nI]];return nP=nI=-(n$=nC=1/0),t}};function nR(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),nA(n,t.stream(nT)),e(nT.result()),null!=r&&t.clipExtent(r),t}function nO(t,e,n){return nR(t,function(n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+e[0][0]+(r-i*(n[1][0]+n[0][0]))/2,l=+e[0][1]+(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,l])},n)}var nL=eK(30*eH);function nD(t,e){var n;return+e?function(t,e){function n(r,o,i,a,l,s,u,c,f,h,d,p,m,g){var v=u-r,x=c-o,y=v*v+x*x;if(y>4*e&&m--){var b=a+h,w=l+d,k=s+p,_=e2(b*b+w*w+k*k),j=e4(k/=_),N=1e-6>eF(eF(k)-1)||1e-6>eF(i-f)?(i+f)/2:eU(w,b),z=t(N,j),M=z[0],S=z[1],E=M-r,A=S-o,C=x*E-v*A;(C*C/y>e||eF((v*E+x*A)/y-.5)>.3||a*h+l*d+s*p<nL)&&(n(r,o,i,a,l,s,M,S,N,b/=_,w/=_,k,m,g),g.point(M,S),n(M,S,N,b,w,k,u,c,f,h,d,p,m,g))}}return function(e){var r,o,i,a,l,s,u,c,f,h,d,p,m={point:g,lineStart:v,lineEnd:y,polygonStart:function(){e.polygonStart(),m.lineStart=b},polygonEnd:function(){e.polygonEnd(),m.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){c=NaN,m.point=x,e.lineStart()}function x(r,o){var i=nu([r,o]),a=t(r,o);n(c,f,u,h,d,p,c=a[0],f=a[1],u=r,h=i[0],d=i[1],p=i[2],16,e),e.point(c,f)}function y(){m.point=g,e.lineEnd()}function b(){v(),m.point=w,m.lineEnd=k}function w(t,e){x(r=t,e),o=c,i=f,a=h,l=d,s=p,m.point=x}function k(){n(c,f,u,h,d,p,o,i,r,a,l,s,16,e),m.lineEnd=y,y()}return m}}(t,e):(n=t,n_({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}))}var nq=n_({point:function(t,e){this.stream.point(t*eH,e*eH)}});function nB(t,e,n,r,o,i){if(!i){function a(i,a){return[e+t*(i*=r),n-t*(a*=o)]}return a.invert=function(i,a){return[(i-e)/t*r,(n-a)/t*o]},a}var l=eK(i),s=e0(i),u=l*t,c=s*t,f=l/t,h=s/t,d=(s*n-l*e)/t,p=(s*e+l*n)/t;function m(t,i){return[u*(t*=r)-c*(i*=o)+e,n-c*t-u*i]}return m.invert=function(t,e){return[r*(f*t-h*e+d),o*(p-h*t-f*e)]},m}function nG(t,e){return[t,eJ(e5((eV+e)/2))]}nG.invert=function(t,e){return[t,2*eZ(eQ(e))-eV]};var nV,nW,nX,nY,nH,nF=new nl,nZ=new nl,nU={point:ne,lineStart:ne,lineEnd:ne,polygonStart:function(){nU.lineStart=nK,nU.lineEnd=n0},polygonEnd:function(){nU.lineStart=nU.lineEnd=nU.point=ne,nF.add(eF(nZ)),nZ=new nl},result:function(){var t=nF/2;return nF=new nl,t}};function nK(){nU.point=nQ}function nQ(t,e){nU.point=nJ,nW=nY=t,nX=nH=e}function nJ(t,e){nZ.add(nH*t-nY*e),nY=t,nH=e}function n0(){nJ(nW,nX)}var n1,n2,n5,n4,n3=0,n6=0,n8=0,n9=0,n7=0,rt=0,re=0,rn=0,rr=0,ro={point:ri,lineStart:ra,lineEnd:ru,polygonStart:function(){ro.lineStart=rc,ro.lineEnd=rf},polygonEnd:function(){ro.point=ri,ro.lineStart=ra,ro.lineEnd=ru},result:function(){var t=rr?[re/rr,rn/rr]:rt?[n9/rt,n7/rt]:n8?[n3/n8,n6/n8]:[NaN,NaN];return n3=n6=n8=n9=n7=rt=re=rn=rr=0,t}};function ri(t,e){n3+=t,n6+=e,++n8}function ra(){ro.point=rl}function rl(t,e){ro.point=rs,ri(n5=t,n4=e)}function rs(t,e){var n=t-n5,r=e-n4,o=e2(n*n+r*r);n9+=o*(n5+t)/2,n7+=o*(n4+e)/2,rt+=o,ri(n5=t,n4=e)}function ru(){ro.point=ri}function rc(){ro.point=rh}function rf(){rd(n1,n2)}function rh(t,e){ro.point=rd,ri(n1=n5=t,n2=n4=e)}function rd(t,e){var n=t-n5,r=e-n4,o=e2(n*n+r*r);n9+=o*(n5+t)/2,n7+=o*(n4+e)/2,rt+=o,re+=(o=n4*t-n5*e)*(n5+t),rn+=o*(n4+e),rr+=3*o,ri(n5=t,n4=e)}function rp(t){this._context=t}rp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,eX)}},result:ne};var rm,rg,rv,rx,ry,rb=new nl,rw={point:ne,lineStart:function(){rw.point=rk},lineEnd:function(){rm&&r_(rg,rv),rw.point=ne},polygonStart:function(){rm=!0},polygonEnd:function(){rm=null},result:function(){var t=+rb;return rb=new nl,t}};function rk(t,e){rw.point=r_,rg=rx=t,rv=ry=e}function r_(t,e){rx-=t,ry-=e,rb.add(e2(rx*rx+ry*ry)),rx=t,ry=e}class rj{constructor(t){this._append=null==t?rN:function(t){let r=Math.floor(t);if(!(r>=0))throw RangeError(`invalid digits: ${t}`);if(r>15)return rN;if(r!==e){let t=10**r;e=r,n=function(e){let n=1;this._+=e[0];for(let r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return n}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==r||this._append!==n){let t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,r=t,n=this._append,o=this._,this._=e}this._+=o}}result(){let t=this._;return this._="",t.length?t:null}}function rN(t){let e=1;this._+=t[0];for(let n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rz(t){return t}function rM(t,e){var n=e.id,r=e.bbox,o=null==e.properties?{}:e.properties,i=function(t,e){var n=function(t){if(null==t)return rz;var e,n,r=t.scale[0],o=t.scale[1],i=t.translate[0],a=t.translate[1];return function(t,l){l||(e=n=0);var s=2,u=t.length,c=Array(u);for(c[0]=(e+=t[0])*r+i,c[1]=(n+=t[1])*o+a;s<u;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function o(t){return n(t)}function i(t){for(var e=[],o=0,i=t.length;o<i;++o)!function(t,e){e.length&&e.pop();for(var o=r[t<0?~t:t],i=0,a=o.length;i<a;++i)e.push(n(o[i],i));t<0&&function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n}(e,a)}(t[o],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(a)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}(t,e);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}t.i(85664);let rS=t=>{let e=t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase());return e.charAt(0).toUpperCase()+e.slice(1)},rE=(...t)=>t.filter((t,e,n)=>!!t&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim();var rA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let rC=(0,f.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...l},s)=>(0,f.createElement)("svg",{ref:s,...rA,width:e,height:e,stroke:t,strokeWidth:r?24*Number(n)/Number(e):n,className:rE("lucide",o),...!i&&!(t=>{for(let e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0})(l)&&{"aria-hidden":"true"},...l},[...a.map(([t,e])=>(0,f.createElement)(t,e)),...Array.isArray(i)?i:[i]])),r$=(t,e)=>{let n=(0,f.forwardRef)(({className:n,...r},o)=>(0,f.createElement)(rC,{ref:o,iconNode:e,className:rE(`lucide-${rS(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,n),...r}));return n.displayName=rS(t),n},rP=r$("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),rI=r$("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),rT=r$("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),rR=({whiskies:t,onSelect:e,selectedId:n})=>{let[r,o]=(0,f.useState)(null),i=(0,f.useRef)(null),a=(0,f.useRef)(null),l=(0,f.useRef)(null);(0,f.useEffect)(()=>{fetch("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(t=>t.json()).then(t=>{var e;o(("string"==typeof(e=t.objects.countries)&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return rM(t,e)})}:rM(t,e)))}).catch(t=>console.error("Failed to load map data",t))},[]);let s=(0,f.useMemo)(()=>(function(t){var e,n,r,o=(function(t){var e,n,r,o,i,a,l,s,u,c,f=150,h=480,d=250,p=0,m=0,g=0,v=0,x=0,y=0,b=1,w=1,k=null,_=nb,j=null,N=nk,z=.5;function M(t){return s(t[0]*eH,t[1]*eH)}function S(t){return(t=s.invert(t[0],t[1]))&&[t[0]*eY,t[1]*eY]}function E(){var t=nB(f,0,0,b,w,y).apply(null,e(p,m)),r=nB(f,h-t[0],d-t[1],b,w,y);return n=e8(g,v,x),l=e3(e,r),s=e3(n,l),a=nD(l,z),A()}function A(){return u=c=null,M}return M.stream=function(t){var e;return u&&c===t?u:u=nq((e=n,n_({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}}))(_(a(N(c=t)))))},M.preclip=function(t){return arguments.length?(_=t,k=void 0,A()):_},M.postclip=function(t){return arguments.length?(N=t,j=r=o=i=null,A()):N},M.clipAngle=function(t){return arguments.length?(_=+t?function(t){var e=eK(t),n=2*eH,r=e>0,o=eF(e)>1e-6;function i(t,n){return eK(t)*eK(n)>e}function a(t,n,r){var o=nu(t),i=nu(n),a=[1,0,0],l=nf(o,i),s=nc(l,l),u=l[0],c=s-u*u;if(!c)return!r&&t;var f=nf(a,l),h=nd(a,e*s/c);nh(h,nd(l,-e*u/c));var d=nc(h,f),p=nc(f,f),m=d*d-p*(nc(h,h)-1);if(!(m<0)){var g=e2(m),v=nd(f,(-d-g)/p);if(nh(v,h),v=ns(v),!r)return v;var x,y=t[0],b=n[0],w=t[1],k=n[1];b<y&&(x=y,y=b,b=x);var _=b-y,j=1e-6>eF(_-eG);if(!j&&k<w&&(x=w,w=k,k=x),j||_<1e-6?j?w+k>0^v[1]<(1e-6>eF(v[0]-y)?w:k):w<=v[1]&&v[1]<=k:_>eG^(y<=v[0]&&v[0]<=b)){var N=nd(f,(-d+g)/p);return nh(N,h),[v,ns(N)]}}}function l(e,n){var o=r?t:eG-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return nv(i,function(t){var e,n,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(f,h){var d,p,m=[f,h],g=i(f,h),v=r?g?0:l(f,h):g?l(f+(f<0?eG:-eG),h):0;!e&&(u=s=g)&&t.lineStart(),g!==s&&(!(p=a(e,m))||nr(e,p)||nr(m,p))&&(m[2]=1),g!==s?(c=0,g?(t.lineStart(),p=a(m,e),t.point(p[0],p[1])):(p=a(e,m),t.point(p[0],p[1],2),t.lineEnd()),e=p):o&&e&&r^g&&!(v&n)&&(d=a(m,e,!0))&&(c=0,r?(t.lineStart(),t.point(d[0][0],d[0][1]),t.point(d[1][0],d[1][1]),t.lineEnd()):(t.point(d[1][0],d[1][1]),t.lineEnd(),t.lineStart(),t.point(d[0][0],d[0][1],3))),!g||e&&nr(e,m)||t.point(m[0],m[1]),e=m,s=g,n=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(u&&s)<<1}}},function(e,r,o,i){!function(t,e,n,r,o,i){if(n){var a=eK(e),l=e0(e),s=r*n;null==o?(o=e+r*eX,i=e-s/2):(o=nw(a,o),i=nw(a,i),(r>0?o<i:o>i)&&(o+=r*eX));for(var u,c=o;r>0?c>i:c<i;c-=s)u=ns([a,-l*eK(c),-l*e0(c)]),t.point(u[0],u[1])}}(i,t,n,o,e,r)},r?[0,-t]:[-eG,t-eG])}(k=t*eH):(k=null,nb),A()):k*eY},M.clipExtent=function(t){return arguments.length?(N=null==t?(j=r=o=i=null,nk):function(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,l,u){var c=0,f=0;if(null==o||(c=a(o,l))!==(f=a(i,l))||0>s(o,i)^l>0)do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==f)else u.point(i[0],i[1])}function a(r,o){return 1e-6>eF(r[0]-t)?o>0?0:3:1e-6>eF(r[0]-n)?o>0?2:1:1e-6>eF(r[1]-e)?+(o>0):o>0?3:2}function l(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,u,c,f,h,d,p,m,g,v,x,y=a,b=nn(),w={point:k,lineStart:function(){w.point=_,u&&u.push(c=[]),v=!0,g=!1,p=m=NaN},lineEnd:function(){s&&(_(f,h),d&&g&&b.rejoin(),s.push(b.result())),w.point=k,g&&y.lineEnd()},polygonStart:function(){y=b,s=[],u=[],x=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=u.length;n<o;++n)for(var i,a,l=u[n],s=1,c=l.length,f=l[0],h=f[0],d=f[1];s<c;++s)i=h,a=d,h=(f=l[s])[0],d=f[1],a<=r?d>r&&(h-i)*(r-a)>(d-a)*(t-i)&&++e:d<=r&&(h-i)*(r-a)<(d-a)*(t-i)&&--e;return e}(),n=x&&e,o=(s=ng(s)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&ni(s,l,e,i,a),a.polygonEnd()),y=a,s=u=c=null}};function k(t,e){o(t,e)&&y.point(t,e)}function _(i,a){var l=o(i,a);if(u&&c.push([i,a]),v)f=i,h=a,d=l,v=!1,l&&(y.lineStart(),y.point(i,a));else if(l&&g)y.point(i,a);else{var s=[p=Math.max(-1e9,Math.min(1e9,p)),m=Math.max(-1e9,Math.min(1e9,m))],b=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,e,n,r,o,i){var a,l=t[0],s=t[1],u=e[0],c=e[1],f=0,h=1,d=u-l,p=c-s;if(a=n-l,!d&&a>0)return;if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}if(a=r-s,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=l+f*d,t[1]=s+f*p),h<1&&(e[0]=l+h*d,e[1]=s+h*p),!0}}}}(s,b,t,e,n,r)?l&&(y.lineStart(),y.point(i,a),x=!1):(g||(y.lineStart(),y.point(s[0],s[1])),y.point(b[0],b[1]),l||y.lineEnd(),x=!1)}p=i,m=a,g=l}return w}}(j=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),A()):null==j?null:[[j,r],[o,i]]},M.scale=function(t){return arguments.length?(f=+t,E()):f},M.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},M.center=function(t){return arguments.length?(p=t[0]%360*eH,m=t[1]%360*eH,E()):[p*eY,m*eY]},M.rotate=function(t){return arguments.length?(g=t[0]%360*eH,v=t[1]%360*eH,x=t.length>2?t[2]%360*eH:0,E()):[g*eY,v*eY,x*eY]},M.angle=function(t){return arguments.length?(y=t%360*eH,E()):y*eY},M.reflectX=function(t){return arguments.length?(b=t?-1:1,E()):b<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,E()):w<0},M.precision=function(t){return arguments.length?(a=nD(l,z=t*t),A()):e2(z)},M.fitExtent=function(t,e){return nO(M,t,e)},M.fitSize=function(t,e){return nO(M,[[0,0],t],e)},M.fitWidth=function(t,e){return nR(M,function(e){var n=+t,r=n/(e[1][0]-e[0][0]),o=(n-r*(e[1][0]+e[0][0]))/2,i=-r*e[0][1];M.scale(150*r).translate([o,i])},e)},M.fitHeight=function(t,e){return nR(M,function(e){var n=+t,r=n/(e[1][1]-e[0][1]),o=-r*e[0][0],i=(n-r*(e[1][1]+e[0][1]))/2;M.scale(150*r).translate([o,i])},e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&S,E()}})(function(){return t})(),i=o.center,a=o.scale,l=o.translate,s=o.clipExtent,u=null;function c(){var i=eG*a(),l=o((function(t){function e(e){return e=t(e[0]*eH,e[1]*eH),e[0]*=eY,e[1]*=eY,e}return t=e8(t[0]*eH,t[1]*eH,t.length>2?t[2]*eH:0),e.invert=function(e){return e=t.invert(e[0]*eH,e[1]*eH),e[0]*=eY,e[1]*=eY,e},e})(o.rotate()).invert([0,0]));return s(null==u?[[l[0]-i,l[1]-i],[l[0]+i,l[1]+i]]:t===nG?[[Math.max(l[0]-i,u),e],[Math.min(l[0]+i,n),r]]:[[u,Math.max(l[1]-i,e)],[n,Math.min(l[1]+i,r)]])}return o.scale=function(t){return arguments.length?(a(t),c()):a()},o.translate=function(t){return arguments.length?(l(t),c()):l()},o.center=function(t){return arguments.length?(i(t),c()):i()},o.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==u?null:[[u,e],[n,r]]},c()})(nG).scale(961/eX).scale(150).translate([600,375]),[]),u=(0,f.useMemo)(()=>(function(t,e){let n=3,r=4.5,o,i;function a(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),nA(t,o(i))),i.result()}return a.area=function(t){return nA(t,o(nU)),nU.result()},a.measure=function(t){return nA(t,o(rw)),rw.result()},a.bounds=function(t){return nA(t,o(nT)),nT.result()},a.centroid=function(t){return nA(t,o(ro)),ro.result()},a.projection=function(e){return arguments.length?(o=null==e?(t=null,nk):(t=e).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(e=null,new rj(n)):new rp(e=t),"function"!=typeof r&&i.pointRadius(r),a):e},a.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),a):r},a.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{let e=Math.floor(t);if(!(e>=0))throw RangeError(`invalid digits: ${t}`);n=e}return null===e&&(i=new rj(n)),a},a.projection(t).digits(n).context(e)})().projection(s),[s]),h=t=>{if(!a.current)return;let e=to(a.current);e.selectAll("path.country-path").attr("stroke-width",.5/t),e.selectAll(".whisky-pin-circle").each(function(){let e=to(this),n=parseFloat(e.attr("data-base-r")||"4");e.attr("r",n/t)}),e.selectAll(".whisky-pin-ring").each(function(){to(this).attr("stroke-width",2/t)}),e.selectAll(".whisky-tooltip").attr("transform",`scale(${1/t})`)};return((0,f.useEffect)(()=>{if(!i.current||!a.current||!r)return;let t=(function(){var t,e,n,r=eR,o=eO,i=eB,a=eD,l=eq,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=eS,h=p("start","zoom","end"),d=0,m=10;function g(t){t.property("__zoom",eL).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",N).filter(l).on("touchstart.zoom",z).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",S).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new eC(e,t.x,t.y)}function x(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new eC(t.k,r,o)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n,r){t.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var t=arguments,i=w(this,t).event(r),a=o.apply(this,t),l=null==n?y(a):"function"==typeof n?n.apply(this,t):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=this.__zoom,c="function"==typeof e?e.apply(this,t):e,h=f(u.invert(l).concat(s/u.k),c.invert(l).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=h(t),n=s/e[2];t=new eC(n,l[0]-e[0]*n,l[1]-e[1]*n)}i.zoom(null,t)}})}function w(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=o.apply(t,e),this.taps=0}function _(t,...e){if(r.apply(this,arguments)){var n=w(this,e).event(t),o=this.__zoom,l=Math.max(s[0],Math.min(s[1],o.k*Math.pow(2,a.apply(this,arguments)))),c=tH(t);if(n.wheel)(n.mouse[0][0]!==c[0]||n.mouse[0][1]!==c[1])&&(n.mouse[1]=o.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(o.k===l)return;n.mouse=[c,o.invert(c)],es(this),n.start()}eT(t),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",i(x(v(o,l),n.mouse[0],n.mouse[1]),n.extent,u))}}function j(t,...e){if(!n&&r.apply(this,arguments)){var o,a,l,s=t.currentTarget,c=w(this,e,!0).event(t),f=to(t.view).on("mousemove.zoom",function(t){if(eT(t),!c.moved){var e=t.clientX-p,n=t.clientY-m;c.moved=e*e+n*n>d}c.event(t).zoom("mouse",i(x(c.that.__zoom,c.mouse[0]=tH(t,s),c.mouse[1]),c.extent,u))},!0).on("mouseup.zoom",function(t){var e,n,r,o;f.on("mousemove.zoom mouseup.zoom",null),e=t.view,n=c.moved,r=e.document.documentElement,o=to(e).on("dragstart.drag",null),n&&(o.on("click.drag",ta,ti),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),eT(t),c.event(t).end()},!0),h=tH(t,s),p=t.clientX,m=t.clientY;a=(o=t.view).document.documentElement,l=to(o).on("dragstart.drag",ta,ti),"onselectstart"in a?l.on("selectstart.drag",ta,ti):(a.__noselect=a.style.MozUserSelect,a.style.MozUserSelect="none"),eI(t),c.mouse=[h,this.__zoom.invert(h)],es(this),c.start()}}function N(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=tH(t.changedTouches?t.changedTouches[0]:t,this),l=n.invert(a),s=n.k*(t.shiftKey?.5:2),f=i(x(v(n,s),a,l),o.apply(this,e),u);eT(t),c>0?to(this).transition().duration(c).call(b,f,a,t):to(this).call(g.transform,f,a,t)}}function z(n,...o){if(r.apply(this,arguments)){var i,a,l,s,u=n.touches,c=u.length,f=w(this,o,n.changedTouches.length===c).event(n);for(eI(n),a=0;a<c;++a)s=[s=tH(l=u[a],this),this.__zoom.invert(s),l.identifier],f.touch0?f.touch1||f.touch0[2]===s[2]||(f.touch1=s,f.taps=0):(f.touch0=s,i=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(f.taps<2&&(e=s[0],t=setTimeout(function(){t=null},500)),es(this),f.start())}}function M(t,...e){if(this.__zooming){var n,r,o,a,l=w(this,e).event(t),s=t.changedTouches,c=s.length;for(eT(t),n=0;n<c;++n)o=tH(r=s[n],this),l.touch0&&l.touch0[2]===r.identifier?l.touch0[0]=o:l.touch1&&l.touch1[2]===r.identifier&&(l.touch1[0]=o);if(r=l.that.__zoom,l.touch1){var f=l.touch0[0],h=l.touch0[1],d=l.touch1[0],p=l.touch1[1],m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;r=v(r,Math.sqrt(m/g)),o=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!l.touch0)return;o=l.touch0[0],a=l.touch0[1]}l.zoom("touch",i(x(r,o,a),l.extent,u))}}function S(t,...r){if(this.__zooming){var o,i,a=w(this,r).event(t),l=t.changedTouches,s=l.length;for(eI(t),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<s;++o)i=l[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=tH(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<m)){var u=to(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var o=t.selection?t.selection():t;o.property("__zoom",eL),t!==o?b(t,e,n,r):o.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},g.scaleBy=function(t,e,n,r){g.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,function(){var t=o.apply(this,arguments),r=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(a),s="function"==typeof e?e.apply(this,arguments):e;return i(x(v(r,s),a,l),t,u)},n,r)},g.translateBy=function(t,e,n,r){g.transform(t,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),u)},null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,function(){var t=o.apply(this,arguments),a=this.__zoom,l=null==r?y(t):"function"==typeof r?r.apply(this,arguments):r;return i(e$.translate(l[0],l[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)},r,a)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=to(this.that).datum();h.call(t,this.that,new eA(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:eE(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:eE(!!t),g):r},g.touchable=function(t){return arguments.length?(l="function"==typeof t?t:eE(!!t),g):l},g.extent=function(t){return arguments.length?(o="function"==typeof t?t:eE([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):o},g.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],g):[s[0],s[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(f=t,g):f},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(d=(t*=1)*t,g):Math.sqrt(d)},g.tapDistance=function(t){return arguments.length?(m=+t,g):m},g})().scaleExtent([1,12]).translateExtent([[0,0],[1200,600]]).on("zoom",t=>{if(!a.current)return;let{transform:e}=t;to(a.current).attr("transform",e.toString()),h(e.k)});l.current=t,to(i.current).call(t)},[r]),(0,f.useEffect)(()=>{i.current&&l.current&&h(eP(i.current).k)},[r,t,n]),r)?(0,c.jsxs)("div",{className:"w-full h-full bg-slate-950 relative overflow-hidden group/map",children:[(0,c.jsx)("svg",{ref:i,viewBox:"0 0 1200 600",className:"w-full h-full cursor-move active:cursor-grabbing",children:(0,c.jsxs)("g",{ref:a,children:[(0,c.jsx)("g",{children:r.features.map((t,e)=>(0,c.jsx)("path",{d:u(t)||"",fill:"#1e293b",stroke:"#334155",strokeWidth:.5,className:"country-path transition-colors hover:fill-slate-700"},e))}),(0,c.jsx)("g",{children:t.map(t=>{let[r,o]=s(t.coordinates)||[0,0],i=n===t.id,a=i?8:4;return(0,c.jsxs)("g",{transform:`translate(${r}, ${o})`,onClick:n=>{n.stopPropagation(),e(t)},className:"cursor-pointer group/pin",children:[i&&(0,c.jsx)("circle",{r:"12",fill:"none",stroke:"#d97706",strokeWidth:"2",className:"whisky-pin-ring animate-ping opacity-75"}),(0,c.jsx)("circle",{className:"whisky-pin-circle transition-all duration-300","data-base-r":a,r:a,fill:i?"#fbbf24":"#d97706",fillOpacity:i?1:.8,stroke:i?"#fff":"none",strokeWidth:+!!i}),(0,c.jsx)("g",{className:"whisky-tooltip opacity-0 group-hover/pin:opacity-100 transition-opacity duration-200 pointer-events-none",children:(0,c.jsxs)("g",{transform:"translate(0, -15)",children:[(0,c.jsx)("rect",{x:"-70",y:"-40",width:"140",height:"40",rx:"4",fill:"#0f172a",stroke:"#d97706",strokeWidth:"1",fillOpacity:"0.95"}),(0,c.jsx)("text",{x:"0",y:"-22",textAnchor:"middle",fill:"#e2e8f0",fontSize:"10",fontWeight:"bold",children:t.name}),(0,c.jsxs)("text",{x:"0",y:"-8",textAnchor:"middle",fill:"#94a3b8",fontSize:"8",children:[t.region,", ",t.country]})]})})]},t.id)})})]})}),(0,c.jsxs)("div",{className:"absolute top-6 right-6 flex flex-col gap-2 bg-slate-900/90 backdrop-blur-md border border-slate-700/50 p-2 rounded-xl shadow-2xl z-10",children:[(0,c.jsx)("button",{onClick:()=>{i.current&&l.current&&to(i.current).transition().duration(500).call(l.current.scaleBy,1.5)},className:"p-2 text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-colors border border-transparent hover:border-slate-600",title:"Zoom In",children:(0,c.jsx)(rP,{size:20})}),(0,c.jsx)("button",{onClick:()=>{i.current&&l.current&&to(i.current).transition().duration(500).call(l.current.scaleBy,.66)},className:"p-2 text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg transition-colors border border-transparent hover:border-slate-600",title:"Zoom Out",children:(0,c.jsx)(rI,{size:20})}),(0,c.jsx)("div",{className:"h-px bg-slate-700 my-1 mx-2"}),(0,c.jsx)("button",{onClick:()=>{i.current&&l.current&&to(i.current).transition().duration(750).call(l.current.transform,e$)},className:"p-2 text-amber-500 hover:text-amber-400 hover:bg-slate-800 rounded-lg transition-colors border border-transparent hover:border-slate-600",title:"Reset View",children:(0,c.jsx)(rT,{size:20})})]})]}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-500 bg-slate-950",children:(0,c.jsx)("div",{className:"animate-pulse flex flex-col items-center",children:(0,c.jsx)("span",{className:"text-xl font-serif text-amber-600",children:"Loading Atlas..."})})})},rO=r$("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rL=r$("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),rD=r$("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),rq=r$("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),rB=r$("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function rG({whisky:t,onClose:e}){return t?(0,c.jsx)("div",{className:"absolute inset-y-0 right-0 w-full md:w-[480px] bg-slate-900/95 backdrop-blur-xl shadow-2xl border-l border-slate-700 transform transition-transform duration-300 z-40 overflow-y-auto",children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full text-slate-400 hover:text-white hover:bg-slate-700 transition-colors z-50",children:(0,c.jsx)(rO,{size:20})}),(0,c.jsxs)("div",{className:"h-48 w-full bg-gradient-to-br from-amber-900 to-slate-900 relative p-8 flex flex-col justify-end",children:[(0,c.jsx)("div",{className:"absolute inset-0 opacity-20 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIxLjUiLz48L2c+PC9nPjwvc3ZnPg==')]"}),(0,c.jsx)("h4",{className:"text-amber-400 text-sm font-bold tracking-widest uppercase mb-1",children:t.distillery}),(0,c.jsx)("h2",{className:"text-4xl font-serif font-bold text-white shadow-sm",children:t.name})]}),(0,c.jsxs)("div",{className:"p-8 space-y-8",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700 flex items-center gap-3",children:[(0,c.jsx)(rL,{className:"text-amber-500",size:20}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-slate-400",children:"Region"}),(0,c.jsxs)("p",{className:"text-sm font-bold text-slate-200",children:[t.region,", ",t.country]})]})]}),(0,c.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700 flex items-center gap-3",children:[(0,c.jsx)(rD,{className:"text-amber-500",size:20}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-slate-400",children:"ABV / Type"}),(0,c.jsxs)("p",{className:"text-sm font-bold text-slate-200",children:[t.abv,"%  ",t.type]})]})]}),(0,c.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700 flex items-center gap-3",children:[(0,c.jsx)(rB,{className:"text-amber-500",size:20}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-slate-400",children:"Age Statement"}),(0,c.jsx)("p",{className:"text-sm font-bold text-slate-200",children:t.age?`${t.age} years`:"NAS"})]})]}),(0,c.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700 flex items-center gap-3",children:[(0,c.jsx)(rq,{className:"text-amber-500",size:20}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-xs text-slate-400",children:"Price Range"}),(0,c.jsx)("p",{className:"text-sm font-bold text-slate-200",children:t.priceRange})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-bold text-amber-400 mb-3",children:"About"}),(0,c.jsx)("p",{className:"text-slate-300 leading-relaxed",children:t.description})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-bold text-amber-400 mb-3",children:"Tasting Notes"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tastingNotes.map((t,e)=>(0,c.jsx)("span",{className:"px-3 py-1 bg-amber-950/50 border border-amber-800/50 rounded-full text-sm text-amber-300",children:t},e))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-bold text-amber-400 mb-3",children:"Flavor Profile"}),(0,c.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[(0,c.jsx)("p",{className:"text-slate-400 text-sm",children:"Flavor radar visualization will be implemented here."}),(0,c.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:["Peat: ",t.flavorProfile.peat," | Fruit: ",t.flavorProfile.fruit," | Floral: ",t.flavorProfile.floral," | Spice: ",t.flavorProfile.spice," | Wood: ",t.flavorProfile.wood," | Sweetness: ",t.flavorProfile.sweetness]})]})]})]})]})}):null}function rV(){let[t,e]=(0,f.useState)(null),{data:n,isLoading:r}=h.api.whisky.getAll.useQuery();return r?(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-slate-950",children:(0,c.jsx)("div",{className:"text-amber-500",children:"Loading whisky atlas..."})}):n?(0,c.jsxs)("div",{className:"w-full h-full relative",children:[(0,c.jsx)(rR,{whiskies:n,onSelect:t=>{e(t)},selectedId:t?.id}),(0,c.jsx)(rG,{whisky:t,onClose:()=>{e(null)}})]}):(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-slate-950",children:(0,c.jsx)("div",{className:"text-red-500",children:"Failed to load whiskies"})})}function rW(t,e){if("function"==typeof t)return t(e);null!=t&&(t.current=e)}var rX=Symbol.for("react.lazy"),rY=f[" use ".trim().toString()];function rH(t){var e;return null!=t&&"object"==typeof t&&"$$typeof"in t&&t.$$typeof===rX&&"_payload"in t&&"object"==typeof(e=t._payload)&&null!==e&&"then"in e}var rF=((u=f.forwardRef((t,e)=>{let{children:n,...r}=t;if(rH(n)&&"function"==typeof rY&&(n=rY(n._payload)),f.isValidElement(n)){var o;let t,i,a=(o=n,(i=(t=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?o.ref:(i=(t=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?o.props.ref:o.props.ref||o.ref),l=function(t,e){let n={...e};for(let r in e){let o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...t)=>{let e=i(...t);return o(...t),e}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}(r,n.props);return n.type!==f.Fragment&&(l.ref=e?function(...t){return e=>{let n=!1,r=t.map(t=>{let r=rW(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){let n=r[e];"function"==typeof n?n():rW(t[e],null)}}}}(e,a):a),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null})).displayName="Slot.SlotClone",i=u,(a=f.forwardRef((t,e)=>{let{children:n,...r}=t;rH(n)&&"function"==typeof rY&&(n=rY(n._payload));let o=f.Children.toArray(n),a=o.find(rU);if(a){let t=a.props.children,n=o.map(e=>e!==a?e:f.Children.count(t)>1?f.Children.only(null):f.isValidElement(t)?t.props.children:null);return(0,c.jsx)(i,{...r,ref:e,children:f.isValidElement(t)?f.cloneElement(t,void 0,n):null})}return(0,c.jsx)(i,{...r,ref:e,children:n})})).displayName="Slot.Slot",a),rZ=Symbol("radix.slottable");function rU(t){return f.isValidElement(t)&&"function"==typeof t.type&&"__radixId"in t.type&&t.type.__radixId===rZ}function rK(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=function t(e){var n,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(r=t(e[n]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}(t))&&(r&&(r+=" "),r+=e);return r}let rQ=t=>"boolean"==typeof t?`${t}`:0===t?"0":t,rJ=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),r0=[],r1=(t,e,n)=>{if(0==t.length-e)return n.classGroupId;let r=t[e],o=n.nextPart.get(r);if(o){let n=r1(t,e+1,o);if(n)return n}let i=n.validators;if(null===i)return;let a=0===e?t.join("-"):t.slice(e).join("-"),l=i.length;for(let t=0;t<l;t++){let e=i[t];if(e.validator(a))return e.classGroupId}},r2=(t,e)=>{let n=rJ();for(let r in t)r5(t[r],n,r,e);return n},r5=(t,e,n,r)=>{let o=t.length;for(let i=0;i<o;i++)r4(t[i],e,n,r)},r4=(t,e,n,r)=>{"string"==typeof t?r3(t,e,n):"function"==typeof t?r6(t,e,n,r):r8(t,e,n,r)},r3=(t,e,n)=>{(""===t?e:r9(e,t)).classGroupId=n},r6=(t,e,n,r)=>{r7(t)?r5(t(r),e,n,r):(null===e.validators&&(e.validators=[]),e.validators.push({classGroupId:n,validator:t}))},r8=(t,e,n,r)=>{let o=Object.entries(t),i=o.length;for(let t=0;t<i;t++){let[i,a]=o[t];r5(a,r9(e,i),n,r)}},r9=(t,e)=>{let n=t,r=e.split("-"),o=r.length;for(let t=0;t<o;t++){let e=r[t],o=n.nextPart.get(e);o||(o=rJ(),n.nextPart.set(e,o)),n=o}return n},r7=t=>"isThemeGetter"in t&&!0===t.isThemeGetter,ot=[],oe=(t,e,n,r,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),on=/\s+/,or=t=>{let e;if("string"==typeof t)return t;let n="";for(let r=0;r<t.length;r++)t[r]&&(e=or(t[r]))&&(n&&(n+=" "),n+=e);return n},oo=[],oi=t=>{let e=e=>e[t]||oo;return e.isThemeGetter=!0,e},oa=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ol=/^\((?:(\w[\w-]*):)?(.+)\)$/i,os=/^\d+\/\d+$/,ou=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,of=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,od=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,op=t=>os.test(t),om=t=>!!t&&!Number.isNaN(Number(t)),og=t=>!!t&&Number.isInteger(Number(t)),ov=t=>t.endsWith("%")&&om(t.slice(0,-1)),ox=t=>ou.test(t),oy=()=>!0,ob=t=>oc.test(t)&&!of.test(t),ow=()=>!1,ok=t=>oh.test(t),o_=t=>od.test(t),oj=t=>!oz(t)&&!o$(t),oN=t=>oD(t,oV,ow),oz=t=>oa.test(t),oM=t=>oD(t,oW,ob),oS=t=>oD(t,oX,om),oE=t=>oD(t,oB,ow),oA=t=>oD(t,oG,o_),oC=t=>oD(t,oH,ok),o$=t=>ol.test(t),oP=t=>oq(t,oW),oI=t=>oq(t,oY),oT=t=>oq(t,oB),oR=t=>oq(t,oV),oO=t=>oq(t,oG),oL=t=>oq(t,oH,!0),oD=(t,e,n)=>{let r=oa.exec(t);return!!r&&(r[1]?e(r[1]):n(r[2]))},oq=(t,e,n=!1)=>{let r=ol.exec(t);return!!r&&(r[1]?e(r[1]):n)},oB=t=>"position"===t||"percentage"===t,oG=t=>"image"===t||"url"===t,oV=t=>"length"===t||"size"===t||"bg-size"===t,oW=t=>"length"===t,oX=t=>"number"===t,oY=t=>"family-name"===t,oH=t=>"shadow"===t,oF=((t,...e)=>{let n,r,o,i,a=t=>{let e=r(t);if(e)return e;let i=((t,e)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=e,a=[],l=t.trim().split(on),s="";for(let t=l.length-1;t>=0;t-=1){let e=l[t],{isExternal:u,modifiers:c,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:d}=n(e);if(u){s=e+(s.length>0?" "+s:s);continue}let p=!!d,m=r(p?h.substring(0,d):h);if(!m){if(!p||!(m=r(h))){s=e+(s.length>0?" "+s:s);continue}p=!1}let g=0===c.length?"":1===c.length?c[0]:i(c).join(":"),v=f?g+"!":g,x=v+m;if(a.indexOf(x)>-1)continue;a.push(x);let y=o(m,p);for(let t=0;t<y.length;++t){let e=y[t];a.push(v+e)}s=e+(s.length>0?" "+s:s)}return s})(t,n);return o(t,i),i};return i=l=>{var s;let u;return r=(n={cache:(t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null),o=(o,i)=>{n[o]=i,++e>t&&(e=0,r=n,n=Object.create(null))};return{get(t){let e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(o(t,e),e):void 0},set(t,e){t in n?n[t]=e:o(t,e)}}})((s=e.reduce((t,e)=>e(t),t())).cacheSize),parseClassName:(t=>{let{prefix:e,experimentalParseClassName:n}=t,r=t=>{let e,n=[],r=0,o=0,i=0,a=t.length;for(let l=0;l<a;l++){let a=t[l];if(0===r&&0===o){if(":"===a){n.push(t.slice(i,l)),i=l+1;continue}if("/"===a){e=l;continue}}"["===a?r++:"]"===a?r--:"("===a?o++:")"===a&&o--}let l=0===n.length?t:t.slice(i),s=l,u=!1;return l.endsWith("!")?(s=l.slice(0,-1),u=!0):l.startsWith("!")&&(s=l.slice(1),u=!0),oe(n,u,s,e&&e>i?e-i:void 0)};if(e){let t=e+":",n=r;r=e=>e.startsWith(t)?n(e.slice(t.length)):oe(ot,!1,e,void 0,!0)}if(n){let t=r;r=e=>n({className:e,parseClassName:t})}return r})(s),sortModifiers:(u=new Map,s.orderSensitiveModifiers.forEach((t,e)=>{u.set(t,1e6+e)}),t=>{let e=[],n=[];for(let r=0;r<t.length;r++){let o=t[r],i="["===o[0],a=u.has(o);i||a?(n.length>0&&(n.sort(),e.push(...n),n=[]),e.push(o)):n.push(o)}return n.length>0&&(n.sort(),e.push(...n)),e}),...(t=>{let e=(t=>{let{theme:e,classGroups:n}=t;return r2(n,e)})(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:t=>{if(t.startsWith("[")&&t.endsWith("]")){var n;let e,r,o;return -1===(n=t).slice(1,-1).indexOf(":")?void 0:(r=(e=n.slice(1,-1)).indexOf(":"),(o=e.slice(0,r))?"arbitrary.."+o:void 0)}let r=t.split("-"),o=+(""===r[0]&&r.length>1);return r1(r,o,e)},getConflictingClassGroupIds:(t,e)=>{if(e){let e=r[t],o=n[t];if(e){if(o){let t=Array(o.length+e.length);for(let e=0;e<o.length;e++)t[e]=o[e];for(let n=0;n<e.length;n++)t[o.length+n]=e[n];return t}return e}return o||r0}return n[t]||r0}}})(s)}).cache.get,o=n.cache.set,i=a,a(l)},(...t)=>i(((...t)=>{let e,n,r=0,o="";for(;r<t.length;)(e=t[r++])&&(n=or(e))&&(o&&(o+=" "),o+=n);return o})(...t))})(()=>{let t=oi("color"),e=oi("font"),n=oi("text"),r=oi("font-weight"),o=oi("tracking"),i=oi("leading"),a=oi("breakpoint"),l=oi("container"),s=oi("spacing"),u=oi("radius"),c=oi("shadow"),f=oi("inset-shadow"),h=oi("text-shadow"),d=oi("drop-shadow"),p=oi("blur"),m=oi("perspective"),g=oi("aspect"),v=oi("ease"),x=oi("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...b(),o$,oz],k=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],j=()=>[o$,oz,s],N=()=>[op,"full","auto",...j()],z=()=>[og,"none","subgrid",o$,oz],M=()=>["auto",{span:["full",og,o$,oz]},og,o$,oz],S=()=>[og,"auto",o$,oz],E=()=>["auto","min","max","fr",o$,oz],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...j()],P=()=>[op,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],I=()=>[t,o$,oz],T=()=>[...b(),oT,oE,{position:[o$,oz]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",oR,oN,{size:[o$,oz]}],L=()=>[ov,oP,oM],D=()=>["","none","full",u,o$,oz],q=()=>["",om,oP,oM],B=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[om,ov,oT,oE],W=()=>["","none",p,o$,oz],X=()=>["none",om,o$,oz],Y=()=>["none",om,o$,oz],H=()=>[om,o$,oz],F=()=>[op,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ox],breakpoint:[ox],color:[oy],container:[ox],"drop-shadow":[ox],ease:["in","out","in-out"],font:[oj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ox],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ox],shadow:[ox],spacing:["px",om],text:[ox],"text-shadow":[ox],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",op,oz,o$,g]}],container:["container"],columns:[{columns:[om,oz,o$,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[og,"auto",o$,oz]}],basis:[{basis:[op,"full","auto",l,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[om,op,"auto","initial","none",oz]}],grow:[{grow:["",om,o$,oz]}],shrink:[{shrink:["",om,o$,oz]}],order:[{order:[og,"first","last","none",o$,oz]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[l,"screen",...P()]}],"min-w":[{"min-w":[l,"screen","none",...P()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,oP,oM]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,o$,oS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ov,oz]}],"font-family":[{font:[oI,oz,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,o$,oz]}],"line-clamp":[{"line-clamp":[om,"none",o$,oS]}],leading:[{leading:[i,...j()]}],"list-image":[{"list-image":["none",o$,oz]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",o$,oz]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:[om,"from-font","auto",o$,oM]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[om,"auto",o$,oz]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",o$,oz]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",o$,oz]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},og,o$,oz],radial:["",o$,oz],conic:[og,o$,oz]},oO,oA]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...B(),"hidden","none"]}],"divide-style":[{divide:[...B(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...B(),"none","hidden"]}],"outline-offset":[{"outline-offset":[om,o$,oz]}],"outline-w":[{outline:["",om,oP,oM]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",c,oL,oC]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",f,oL,oC]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[om,oM]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",h,oL,oC]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[om,o$,oz]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[om]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[o$,oz]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[om]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",o$,oz]}],filter:[{filter:["","none",o$,oz]}],blur:[{blur:W()}],brightness:[{brightness:[om,o$,oz]}],contrast:[{contrast:[om,o$,oz]}],"drop-shadow":[{"drop-shadow":["","none",d,oL,oC]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",om,o$,oz]}],"hue-rotate":[{"hue-rotate":[om,o$,oz]}],invert:[{invert:["",om,o$,oz]}],saturate:[{saturate:[om,o$,oz]}],sepia:[{sepia:["",om,o$,oz]}],"backdrop-filter":[{"backdrop-filter":["","none",o$,oz]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[om,o$,oz]}],"backdrop-contrast":[{"backdrop-contrast":[om,o$,oz]}],"backdrop-grayscale":[{"backdrop-grayscale":["",om,o$,oz]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[om,o$,oz]}],"backdrop-invert":[{"backdrop-invert":["",om,o$,oz]}],"backdrop-opacity":[{"backdrop-opacity":[om,o$,oz]}],"backdrop-saturate":[{"backdrop-saturate":[om,o$,oz]}],"backdrop-sepia":[{"backdrop-sepia":["",om,o$,oz]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",o$,oz]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[om,"initial",o$,oz]}],ease:[{ease:["linear","initial",v,o$,oz]}],delay:[{delay:[om,o$,oz]}],animate:[{animate:["none",x,o$,oz]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,o$,oz]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:H()}],"skew-x":[{"skew-x":H()}],"skew-y":[{"skew-y":H()}],transform:[{transform:[o$,oz,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",o$,oz]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",o$,oz]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[om,oP,oM,oS]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),oZ=(l="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},t=>{var e;if((null==s?void 0:s.variants)==null)return rK(l,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:r}=s,o=Object.keys(n).map(e=>{let o=null==t?void 0:t[e],i=null==r?void 0:r[e];if(null===o)return null;let a=rQ(o)||rQ(i);return n[e][a]}),i=t&&Object.entries(t).reduce((t,e)=>{let[n,r]=e;return void 0===r||(t[n]=r),t},{});return rK(l,o,null==s||null==(e=s.compoundVariants)?void 0:e.reduce((t,e)=>{let{class:n,className:o,...a}=e;return Object.entries(a).every(t=>{let[e,n]=t;return Array.isArray(n)?n.includes({...r,...i}[e]):({...r,...i})[e]===n})?[...t,n,o]:t},[]),null==t?void 0:t.class,null==t?void 0:t.className)}),oU=f.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},i)=>(0,c.jsx)(r?rF:"button",{className:function(...t){return oF(rK(t))}(oZ({variant:e,size:n,className:t})),ref:i,...o}));function oK({whisky:t,onClick:e}){return(0,c.jsxs)("div",{onClick:e,className:"group bg-slate-900 border border-slate-800 rounded-xl p-0 overflow-hidden hover:border-amber-600/50 transition-all cursor-pointer shadow-lg hover:shadow-amber-900/10 flex flex-col",children:[(0,c.jsx)("div",{className:"h-3 bg-gradient-to-r from-amber-700 to-amber-500 w-full"}),(0,c.jsxs)("div",{className:"p-5 flex-1 flex flex-col",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,c.jsx)("span",{className:"text-xs font-bold text-amber-500 bg-amber-950/50 px-2 py-1 rounded uppercase tracking-wider",children:t.region}),(0,c.jsxs)("span",{className:"text-xs text-slate-500",children:[t.abv,"% ABV"]})]}),(0,c.jsx)("h3",{className:"text-xl font-bold text-slate-100 group-hover:text-amber-400 transition-colors mb-1",children:t.name}),(0,c.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:t.distillery}),(0,c.jsxs)("div",{className:"mt-auto pt-4 border-t border-slate-800 flex justify-between items-center",children:[(0,c.jsx)("span",{className:"text-xs text-slate-500",children:t.type}),(0,c.jsx)("span",{className:"text-amber-600 font-bold text-sm",children:"View Details "})]})]})]})}function oQ(){let[t,e]=(0,f.useState)(""),[n,r]=(0,f.useState)(""),[o,i]=(0,f.useState)(""),{data:a,isLoading:l}=h.api.whisky.getAll.useQuery({search:t||void 0,region:n||void 0,type:o||void 0}),{data:s}=h.api.whisky.getStats.useQuery(),u=s?.regions||[],d=s?.types||[];return l?(0,c.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-slate-950",children:(0,c.jsx)("div",{className:"text-amber-500",children:"Loading whisky library..."})}):(0,c.jsx)("div",{className:"w-full h-full overflow-y-auto p-6 lg:p-12 bg-slate-950",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,c.jsx)("h2",{className:"text-3xl font-bold mb-8 text-amber-50 border-b border-slate-800 pb-4",children:"The Library"}),(0,c.jsx)("div",{className:"mb-8 space-y-4",children:(0,c.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,c.jsx)("input",{type:"text",placeholder:"Search whiskies...",value:t,onChange:t=>e(t.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500"}),(0,c.jsxs)("select",{value:n,onChange:t=>r(t.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,c.jsx)("option",{value:"",children:"All Regions"}),u.map(t=>(0,c.jsxs)("option",{value:t.region,children:[t.region," (",t.count,")"]},t.region))]}),(0,c.jsxs)("select",{value:o,onChange:t=>i(t.target.value),className:"px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-amber-500",children:[(0,c.jsx)("option",{value:"",children:"All Types"}),d.map(t=>(0,c.jsxs)("option",{value:t.type,children:[t.type," (",t.count,")"]},t.type))]}),(t||n||o)&&(0,c.jsx)(oU,{variant:"outline",onClick:()=>{e(""),r(""),i("")},className:"text-slate-400 border-slate-700 hover:bg-slate-800",children:"Clear Filters"})]})}),(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a?.map(t=>(0,c.jsx)(oK,{whisky:t},t.id))}),a?.length===0&&(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("p",{className:"text-slate-400 text-lg",children:"No whiskies found matching your criteria."}),(0,c.jsx)(oU,{variant:"outline",onClick:()=>{e(""),r(""),i("")},className:"mt-4 text-slate-400 border-slate-700 hover:bg-slate-800",children:"Clear Filters"})]})]})})}oU.displayName="Button";let oJ=r$("glass-water",[["path",{d:"M5.116 4.104A1 1 0 0 1 6.11 3h11.78a1 1 0 0 1 .994 1.105L17.19 20.21A2 2 0 0 1 15.2 22H8.8a2 2 0 0 1-2-1.79z",key:"p55z4y"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]),o0=r$("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),o1=r$("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),o2=r$("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),o5=r$("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var o4=t.i(17255);function o3({viewMode:t,onViewModeChange:e}){let{data:n,status:r}=(0,o4.useSession)();return(0,c.jsxs)("header",{className:"flex-none h-16 bg-slate-900 border-b border-amber-900/30 flex items-center justify-between px-6 shadow-lg z-20 relative",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"p-2 bg-amber-600/20 rounded-full border border-amber-600/50",children:(0,c.jsx)(oJ,{className:"w-6 h-6 text-amber-500"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-xl font-bold text-amber-50 tracking-wide",children:"Draycott Drams"}),(0,c.jsx)("p",{className:"text-xs text-amber-500/80 uppercase tracking-widest",children:"Est. 2023"})]})]}),(0,c.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,c.jsxs)(oU,{variant:"map"===t?"default":"ghost",size:"sm",onClick:()=>e("map"),className:"map"===t?"bg-amber-700 text-white shadow-amber-900/20 shadow-lg":"hover:bg-slate-800 text-slate-400",children:[(0,c.jsx)(o0,{size:18,className:"mr-2"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"World Map"})]}),(0,c.jsxs)(oU,{variant:"library"===t?"default":"ghost",size:"sm",onClick:()=>e("library"),className:"library"===t?"bg-amber-700 text-white shadow-amber-900/20 shadow-lg":"hover:bg-slate-800 text-slate-400",children:[(0,c.jsx)(o1,{size:18,className:"mr-2"}),(0,c.jsx)("span",{className:"hidden sm:inline",children:"Library"})]}),(0,c.jsx)("div",{className:"w-px h-8 bg-slate-700 mx-2"}),"loading"===r?(0,c.jsx)("div",{className:"w-8 h-8 bg-slate-700 rounded-full animate-pulse"}):n?.user?(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[n.user.image&&(0,c.jsx)("img",{src:n.user.image,alt:n.user.name||"User",className:"w-8 h-8 rounded-full"}),(0,c.jsx)(oU,{variant:"ghost",size:"sm",onClick:()=>(0,o4.signOut)(),className:"text-slate-400 hover:text-slate-200",children:(0,c.jsx)(o5,{size:18})})]}):(0,c.jsxs)(oU,{variant:"ghost",size:"sm",onClick:()=>(0,o4.signIn)("google"),className:"text-slate-400 hover:text-slate-200",children:[(0,c.jsx)(o2,{size:18,className:"mr-2"}),"Sign In"]})]})]})}let o6=r$("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);function o8({onClick:t,isOpen:e}){return(0,c.jsx)("button",{onClick:t,className:`absolute bottom-6 right-6 z-30 p-4 rounded-full shadow-lg transition-all transform hover:scale-105 flex items-center justify-center ${e?"bg-amber-700 text-white shadow-amber-900/40":"bg-amber-600 hover:bg-amber-500 text-white shadow-amber-900/40"}`,title:"Ask the AI Sommelier",children:(0,c.jsx)(o6,{className:"w-6 h-6"})})}let o9=r$("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),o7=r$("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);function it({isOpen:t,onClose:e}){let[n,r]=(0,f.useState)([{id:"1",role:"assistant",content:"Hello! I'm your AI sommelier. I can help you discover whiskies, provide recommendations, or answer questions about whisky tasting and production. What would you like to know?",timestamp:new Date}]),[o,i]=(0,f.useState)(""),a=h.api.ai.chat.useMutation(),l=async()=>{if(!o.trim())return;let t={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};r(e=>[...e,t]),i("");try{let t=await a.mutateAsync({message:o,context:n.slice(-5).map(t=>({role:t.role,content:t.content}))}),e={id:(Date.now()+1).toString(),role:"assistant",content:t.response,timestamp:new Date};r(t=>[...t,e])}catch(e){let t={id:(Date.now()+1).toString(),role:"assistant",content:"I'm sorry, I encountered an error. Please try again later.",timestamp:new Date};r(e=>[...e,t])}};return t?(0,c.jsxs)("div",{className:"absolute bottom-20 right-6 w-96 max-h-96 bg-slate-900/95 backdrop-blur-xl shadow-2xl border border-slate-700 rounded-xl overflow-hidden z-40",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("div",{className:"p-2 bg-amber-600/20 rounded-full",children:(0,c.jsx)(o7,{className:"w-4 h-4 text-amber-500"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-amber-400 font-bold",children:"AI Sommelier"}),(0,c.jsx)("p",{className:"text-xs text-slate-400",children:"Your whisky expert"})]})]}),(0,c.jsx)("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white hover:bg-slate-800 rounded",children:(0,c.jsx)(rO,{size:16})})]}),(0,c.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 max-h-64",children:[n.map(t=>(0,c.jsx)("div",{className:`flex ${"user"===t.role?"justify-end":"justify-start"}`,children:(0,c.jsxs)("div",{className:`max-w-[80%] p-3 rounded-lg ${"user"===t.role?"bg-amber-600 text-white":"bg-slate-800 text-slate-200"}`,children:[(0,c.jsx)("p",{className:"text-sm",children:t.content}),(0,c.jsx)("p",{className:"text-xs opacity-70 mt-1",children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},t.id)),a.isPending&&(0,c.jsx)("div",{className:"flex justify-start",children:(0,c.jsx)("div",{className:"bg-slate-800 p-3 rounded-lg",children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-bounce"}),(0,c.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,c.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),(0,c.jsx)("div",{className:"p-4 border-t border-slate-700",children:(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("input",{type:"text",value:o,onChange:t=>i(t.target.value),onKeyPress:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),l())},placeholder:"Ask about whisky...",className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-500 text-sm",disabled:a.isPending}),(0,c.jsx)(oU,{onClick:l,disabled:!o.trim()||a.isPending,size:"sm",className:"bg-amber-600 hover:bg-amber-500 text-white",children:(0,c.jsx)(o9,{size:16})})]})})]}):null}function ie(){let[t,e]=(0,f.useState)("map"),[n,r]=(0,f.useState)(!1);return(0,c.jsxs)("div",{className:"flex flex-col h-screen overflow-hidden bg-slate-950 text-slate-200",children:[(0,c.jsx)(o3,{viewMode:t,onViewModeChange:e}),(0,c.jsxs)("main",{className:"flex-1 relative overflow-hidden",children:["map"===t?(0,c.jsxs)("div",{className:"w-full h-full relative bg-slate-950",children:[(0,c.jsx)(rV,{}),(0,c.jsx)("div",{className:"absolute bottom-6 left-6 max-w-sm pointer-events-none",children:(0,c.jsxs)("div",{className:"bg-slate-900/80 backdrop-blur-md p-4 rounded-xl border border-slate-700/50 shadow-2xl pointer-events-auto",children:[(0,c.jsx)("h3",{className:"text-amber-500 font-bold mb-1",children:"Interactive Atlas"}),(0,c.jsx)("p",{className:"text-sm text-slate-300",children:"Explore the origins of the whiskies tasted by the club. Click a pin to view tasting notes and flavor profiles."})]})})]}):(0,c.jsx)(oQ,{}),(0,c.jsx)(o8,{onClick:()=>r(!n),isOpen:n}),(0,c.jsx)(it,{isOpen:n,onClose:()=>r(!1)})]})]})}t.s(["default",()=>ie],31713)}]);