module.exports=[61724,(e,t,r)=>{t.exports=e.x("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-route-turbo.runtime.prod.js"))},47909,(e,t,r)=>{t.exports=e.r(61724)},17413,(e,t,r)=>{(()=>{"use strict";let r,n,i,a,o;var s,l,u,c,d,f,p,h,m,g,y,v,_,b,w,S,x={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),a=r(930),o="context",s=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(o)||s}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),a=r(957),o=r(172);class s{constructor(){function e(e){return function(...t){let r=(0,o.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:a.DiagLogLevel.INFO})=>{var n,s,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,o.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!=(s=r.logLevel)?s:a.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!=(l=Error().stack)?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,o.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,o.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new s),this._instance}}t.DiagAPI=s},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),a=r(930),o="metrics";class s{constructor(){}static getInstance(){return this._instance||(this._instance=new s),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(o,e,a.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(o)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(o,a.DiagAPI.instance())}}t.MetricsAPI=s},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),a=r(194),o=r(277),s=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=s.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=a.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=a.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),a=r(139),o=r(607),s=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=a.wrapSpanContext,this.isSpanContextValid=a.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,s.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,s.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function a(e){return e.getValue(i)||void 0}t.getBaggage=a,t.getActiveBaggage=function(){return a(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),a=r(830),o=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:a.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,(r=t.DiagLogLevel||(t.DiagLogLevel={}))[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),a=r(130),o=i.VERSION.split(".")[0],s=Symbol.for(`opentelemetry.js.api.${o}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var a;let o=l[s]=null!=(a=l[s])?a:{version:i.VERSION};if(!n&&o[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(o.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${o.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return o[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=l[s])?void 0:t.version;if(n&&(0,a.isCompatible)(n))return null==(r=l[s])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[s];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function a(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=a.prerelease)return function(t){return t===e};function o(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return o(e);let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease||a.major!==s.major)return o(e);if(0===a.major)return a.minor===s.minor&&a.patch<=s.patch?(t.add(e),!0):o(e);return a.minor<=s.minor?(t.add(e),!0):o(e)}}t._makeCompatibilityCheck=a,t.isCompatible=a(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class a extends n{add(e,t){}}t.NoopUpDownCounterMetric=a;class o extends n{record(e,t){}}t.NoopHistogramMetric=o;class s{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=s;class l extends s{}t.NoopObservableCounterMetric=l;class u extends s{}t.NoopObservableGaugeMetric=u;class c extends s{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new o,t.NOOP_UP_DOWN_COUNTER_METRIC=new a,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),a=r(403),o=r(139),s=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=s.active()){var n;if(null==t?void 0:t.root)return new a.NonRecordingSpan;let l=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=l)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,o.isSpanContextValid)(l)?new a.NonRecordingSpan(l):new a.NonRecordingSpan}startActiveSpan(e,t,r,n){let a,o,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(a=t,l=r):(a=t,o=r,l=n);let u=null!=o?o:s.active(),c=this.startSpan(e,a,u),d=(0,i.setSpan)(u,c);return s.with(d,l,void 0,c)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),a=r(491),o=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function s(e){return e.getValue(o)||void 0}function l(e,t){return e.setValue(o,t)}t.getSpan=s,t.getActiveSpan=function(){return s(a.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(o)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=s(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let a=r.slice(0,i),o=r.slice(i+1,t.length);(0,n.validateKey)(a)&&(0,n.validateValue)(o)&&e.set(a,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,a=RegExp(`^(?:${n}|${i})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;t.validateKey=function(e){return a.test(e)},t.validateValue=function(e){return o.test(e)&&!s.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),a=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function s(e){return a.test(e)&&e!==n.INVALID_TRACEID}function l(e){return o.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=s,t.isValidSpanId=l,t.isSpanContextValid=function(e){return s(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},E={};function k(e){var t=E[e];if(void 0!==t)return t.exports;var r=E[e]={exports:{}},n=!0;try{x[e].call(r.exports,r,r.exports,k),n=!1}finally{n&&delete E[e]}return r.exports}k.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var $={};Object.defineProperty($,"__esModule",{value:!0}),$.trace=$.propagation=$.metrics=$.diag=$.context=$.INVALID_SPAN_CONTEXT=$.INVALID_TRACEID=$.INVALID_SPANID=$.isValidSpanId=$.isValidTraceId=$.isSpanContextValid=$.createTraceState=$.TraceFlags=$.SpanStatusCode=$.SpanKind=$.SamplingDecision=$.ProxyTracerProvider=$.ProxyTracer=$.defaultTextMapSetter=$.defaultTextMapGetter=$.ValueType=$.createNoopMeter=$.DiagLogLevel=$.DiagConsoleLogger=$.ROOT_CONTEXT=$.createContextKey=$.baggageEntryMetadataFromString=void 0,s=k(369),Object.defineProperty($,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return s.baggageEntryMetadataFromString}}),l=k(780),Object.defineProperty($,"createContextKey",{enumerable:!0,get:function(){return l.createContextKey}}),Object.defineProperty($,"ROOT_CONTEXT",{enumerable:!0,get:function(){return l.ROOT_CONTEXT}}),u=k(972),Object.defineProperty($,"DiagConsoleLogger",{enumerable:!0,get:function(){return u.DiagConsoleLogger}}),c=k(957),Object.defineProperty($,"DiagLogLevel",{enumerable:!0,get:function(){return c.DiagLogLevel}}),d=k(102),Object.defineProperty($,"createNoopMeter",{enumerable:!0,get:function(){return d.createNoopMeter}}),f=k(901),Object.defineProperty($,"ValueType",{enumerable:!0,get:function(){return f.ValueType}}),p=k(194),Object.defineProperty($,"defaultTextMapGetter",{enumerable:!0,get:function(){return p.defaultTextMapGetter}}),Object.defineProperty($,"defaultTextMapSetter",{enumerable:!0,get:function(){return p.defaultTextMapSetter}}),h=k(125),Object.defineProperty($,"ProxyTracer",{enumerable:!0,get:function(){return h.ProxyTracer}}),m=k(846),Object.defineProperty($,"ProxyTracerProvider",{enumerable:!0,get:function(){return m.ProxyTracerProvider}}),g=k(996),Object.defineProperty($,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}}),y=k(357),Object.defineProperty($,"SpanKind",{enumerable:!0,get:function(){return y.SpanKind}}),v=k(847),Object.defineProperty($,"SpanStatusCode",{enumerable:!0,get:function(){return v.SpanStatusCode}}),_=k(475),Object.defineProperty($,"TraceFlags",{enumerable:!0,get:function(){return _.TraceFlags}}),b=k(98),Object.defineProperty($,"createTraceState",{enumerable:!0,get:function(){return b.createTraceState}}),w=k(139),Object.defineProperty($,"isSpanContextValid",{enumerable:!0,get:function(){return w.isSpanContextValid}}),Object.defineProperty($,"isValidTraceId",{enumerable:!0,get:function(){return w.isValidTraceId}}),Object.defineProperty($,"isValidSpanId",{enumerable:!0,get:function(){return w.isValidSpanId}}),S=k(476),Object.defineProperty($,"INVALID_SPANID",{enumerable:!0,get:function(){return S.INVALID_SPANID}}),Object.defineProperty($,"INVALID_TRACEID",{enumerable:!0,get:function(){return S.INVALID_TRACEID}}),Object.defineProperty($,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return S.INVALID_SPAN_CONTEXT}}),r=k(67),Object.defineProperty($,"context",{enumerable:!0,get:function(){return r.context}}),n=k(506),Object.defineProperty($,"diag",{enumerable:!0,get:function(){return n.diag}}),i=k(886),Object.defineProperty($,"metrics",{enumerable:!0,get:function(){return i.metrics}}),a=k(939),Object.defineProperty($,"propagation",{enumerable:!0,get:function(){return a.propagation}}),o=k(845),Object.defineProperty($,"trace",{enumerable:!0,get:function(){return o.trace}}),$.default={context:r.context,diag:n.diag,metrics:i.metrics,propagation:a.propagation,trace:o.trace},t.exports=$})()},42315,(e,t,r)=>{"use strict";t.exports=e.r(18622)},47540,(e,t,r)=>{"use strict";t.exports=e.r(42315).vendored["react-rsc"].React},19481,(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={},l={RequestCookies:()=>m,ResponseCookies:()=>g,parseCookie:()=>d,parseSetCookie:()=>f,stringifyCookie:()=>c};for(var u in l)n(s,u,{get:l[u],enumerable:!0});function c(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function d(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function f(e){if(!e)return;let[[t,r],...n]=d(e),{domain:i,expires:a,httponly:o,maxage:s,path:l,samesite:u,secure:c,partitioned:f,priority:m}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var g,y,v={name:t,value:decodeURIComponent(r),domain:i,...a&&{expires:new Date(a)},...o&&{httpOnly:!0},..."string"==typeof s&&{maxAge:Number(s)},path:l,...u&&{sameSite:p.includes(g=(g=u).toLowerCase())?g:void 0},...c&&{secure:!0},...m&&{priority:h.includes(y=(y=m).toLowerCase())?y:void 0},...f&&{partitioned:!0}};let e={};for(let t in v)v[t]&&(e[t]=v[t]);return e}}t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))o.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(s=i(t,l))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s);var p=["strict","lax","none"],h=["low","medium","high"],m=class{constructor(e){this._parsed=new Map,this._headers=e;const t=e.get("cookie");if(t)for(const[e,r]of d(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>c(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>c(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},g=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;const i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(const e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}(i)){const t=f(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=c(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(c).join("; ")}}},93118,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e,r,n,i,a={};a.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},a=t.split(n),o=(r||{}).decode||e,s=0;s<a.length;s++){var l=a[s],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),d=l.substr(++u,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[c]&&(i[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,o))}}return i},a.serialize=function(e,t,n){var a=n||{},o=a.encode||r;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var s=o(t);if(s&&!i.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=a.maxAge){var u=a.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(a.domain){if(!i.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!i.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l},e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,t.exports=a})()},16020,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},64348,(e,t,r)=>{t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},7290,(e,t,r)=>{t.exports=function(e,t){this.v=e,this.k=t},t.exports.__esModule=!0,t.exports.default=t.exports},1900,(e,t,r)=>{function n(e,r,i,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t.exports=n=function(e,t,r,i){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r,i,a)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},58629,(e,t,r)=>{var n=e.r(1900);function i(){var e,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.toStringTag||"@@toStringTag";function l(t,i,a,o){var s=Object.create((i&&i.prototype instanceof c?i:c).prototype);return n(s,"_invoke",function(t,n,i){var a,o,s,l=0,c=i||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,o=0,s=e,f.n=r,u}};function p(t,n){for(o=t,s=n,r=0;!d&&l&&!i&&r<c.length;r++){var i,a=c[r],p=f.p,h=a[2];t>3?(i=h===n)&&(s=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((i=t<2&&p<a[1])?(o=0,f.v=n,f.n=a[1]):p<h&&(i=t<3||a[0]>n||n>h)&&(a[4]=t,a[5]=n,f.n=h,o=0))}if(i||t>1)return u;throw d=!0,n}return function(i,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),o=c,s=h;(r=o<2?e:s)||!d;){a||(o?o<3?(o>1&&(f.n=-1),p(o,s)):f.n=s:f.v=s);try{if(l=2,a){if(o||(i="next"),r=a[i]){if(!(r=r.call(a,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,o<2&&(o=0)}else 1===o&&(r=a.return)&&r.call(a),o<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=e}else if((r=(d=f.n<0)?s:t.call(n,f))!==u)break}catch(t){a=e,o=1,s=t}finally{l=1}}return{value:r,done:d}}}(t,a,o),!0),s}var u={};function c(){}function d(){}function f(){}r=Object.getPrototypeOf;var p=f.prototype=c.prototype=Object.create([][o]?r(r([][o]())):(n(r={},o,function(){return this}),r));function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,s,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=f,n(p,"constructor",f),n(f,"constructor",d),d.displayName="GeneratorFunction",n(f,s,"GeneratorFunction"),n(p),n(p,s,"Generator"),n(p,o,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(t.exports=i=function(){return{w:l,m:h}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},18973,(e,t,r)=>{var n=e.r(7290),i=e.r(1900);t.exports=function e(t,r){var a;this.next||(i(e.prototype),i(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),i(this,"_invoke",function(e,i,o){function s(){return new r(function(i,a){!function e(i,a,o,s){try{var l=t[i](a),u=l.value;return u instanceof n?r.resolve(u.v).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):r.resolve(u).then(function(e){l.value=e,o(l)},function(t){return e("throw",t,o,s)})}catch(e){s(e)}}(e,o,i,a)})}return a=a?a.then(s,s):s()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},61982,(e,t,r)=>{var n=e.r(58629),i=e.r(18973);t.exports=function(e,t,r,a,o){return new i(n().w(e,t,r,a),o||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},4252,(e,t,r)=>{var n=e.r(61982);t.exports=function(e,t,r,i,a){var o=n(e,t,r,i,a);return o.next().then(function(e){return e.done?e.value:o.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},29915,(e,t,r)=>{t.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.exports.__esModule=!0,t.exports.default=t.exports},85754,(e,t,r)=>{function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},82995,(e,t,r)=>{var n=e.r(85754).default;t.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw TypeError(n(e)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},13031,(e,t,r)=>{var n=e.r(7290),i=e.r(58629),a=e.r(4252),o=e.r(61982),s=e.r(18973),l=e.r(29915),u=e.r(82995);function c(){"use strict";var e=i(),r=e.m(c),d=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function f(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var p={throw:1,return:2,break:3,continue:3};function h(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,p[e],t)},delegateYield:function(e,i,a){return t.resultName=i,r(n.d,u(e),a)},finish:function(e){return r(n.f,e)}},r=function(e,r,i){n.p=t.prev,n.n=t.next;try{return e(r,i)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(t.exports=c=function(){return{wrap:function(t,r,n,i){return e.w(h(t),r,n,i&&i.reverse())},isGeneratorFunction:f,mark:e.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:s,async:function(e,t,r,n,i){return(f(t)?o:a)(h(e),t,r,n,i)},keys:l,values:u}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},81415,(e,t,r)=>{var n=e.r(13031)();t.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},40766,(e,t,r)=>{var n=e.r(85754).default;t.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports},91776,(e,t,r)=>{var n=e.r(85754).default,i=e.r(40766);t.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},t.exports.__esModule=!0,t.exports.default=t.exports},72762,(e,t,r)=>{var n=e.r(91776);t.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.exports.__esModule=!0,t.exports.default=t.exports},61932,(e,t,r)=>{function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}t.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},32173,(e,t,r)=>{t.exports=function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},52046,(e,t,r)=>{var n=e.r(91776);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}t.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},8431,(e,t,r)=>{t.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports},13366,(e,t,r)=>{var n=e.r(85754).default,i=e.r(8431);t.exports=function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)},t.exports.__esModule=!0,t.exports.default=t.exports},98993,(e,t,r)=>{function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},12619,(e,t,r)=>{function n(e,r){return t.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},30873,(e,t,r)=>{var n=e.r(12619);t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports},12786,(e,t,r)=>{t.exports=function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},t.exports.__esModule=!0,t.exports.default=t.exports},26462,(e,t,r)=>{function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t.exports=n=function(){return!!e},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},69542,(e,t,r)=>{var n=e.r(26462),i=e.r(12619);t.exports=function(e,t,r){if(n())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var o=new(e.bind.apply(e,a));return r&&i(o,r.prototype),o},t.exports.__esModule=!0,t.exports.default=t.exports},50268,(e,t,r)=>{var n=e.r(98993),i=e.r(12619),a=e.r(12786),o=e.r(69542);function s(e){var r="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},90383,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.UnsupportedStrategy=r.UnknownError=r.OAuthCallbackError=r.MissingSecret=r.MissingAuthorize=r.MissingAdapterMethods=r.MissingAdapter=r.MissingAPIRoute=r.InvalidCallbackUrl=r.AccountNotLinkedError=void 0,r.adapterErrorHandler=function(e,t){if(e)return Object.keys(e).reduce(function(r,n){return r[n]=(0,a.default)(i.default.mark(function r(){var a,o,s,l,u,c=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,o=Array(a=c.length),s=0;s<a;s++)o[s]=c[s];return t.debug("adapter_".concat(n),{args:o}),l=e[n],r.next=6,l.apply(void 0,o);case 6:return r.abrupt("return",r.sent);case 9:throw r.prev=9,r.t0=r.catch(0),t.error("adapter_error_".concat(n),r.t0),(u=new h(r.t0)).name="".concat(g(n),"Error"),u;case 15:case"end":return r.stop()}},r,null,[[0,9]])})),r},{})},r.capitalize=g,r.eventsErrorHandler=function(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=(0,a.default)(i.default.mark(function r(){var a,o=arguments;return i.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=e[n],r.next=4,a.apply(void 0,o);case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(0),t.error("".concat(m(n),"_EVENT_ERROR"),r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])})),r},{})},r.upperSnake=m;var i=n(e.r(81415)),a=n(e.r(61932)),o=n(e.r(72762)),s=n(e.r(32173)),l=n(e.r(52046)),u=n(e.r(13366)),c=n(e.r(98993)),d=n(e.r(30873));function f(e,t,r){return t=(0,c.default)(t),(0,u.default)(e,p()?Reflect.construct(t,r||[],(0,c.default)(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}var h=r.UnknownError=function(e){function t(e){var r,n;return(0,s.default)(this,t),(n=f(this,t,[null!=(r=null==e?void 0:e.message)?r:e])).name="UnknownError",n.code=e.code,e instanceof Error&&(n.stack=e.stack),n}return(0,d.default)(t,e),(0,l.default)(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,n(e.r(50268)).default)(Error));function m(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function g(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}r.OAuthCallbackError=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","OAuthCallbackError"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.AccountNotLinkedError=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","AccountNotLinkedError"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.MissingAPIRoute=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","MissingAPIRouteError"),(0,o.default)(e,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.MissingSecret=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","MissingSecretError"),(0,o.default)(e,"code","NO_SECRET"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.MissingAuthorize=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","MissingAuthorizeError"),(0,o.default)(e,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.MissingAdapter=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","MissingAdapterError"),(0,o.default)(e,"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.MissingAdapterMethods=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","MissingAdapterMethodsError"),(0,o.default)(e,"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.UnsupportedStrategy=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","UnsupportedStrategyError"),(0,o.default)(e,"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h),r.InvalidCallbackUrl=function(e){function t(){var e;(0,s.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=f(this,t,[].concat(n)),(0,o.default)(e,"name","InvalidCallbackUrl"),(0,o.default)(e,"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(h)},966,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;arguments.length>1&&arguments[1];try{return e}catch(e){return a}},r.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t||(a.debug=function(){}),e.error&&(a.error=e.error),e.warn&&(a.warn=e.warn),e.debug&&(a.debug=e.debug)},n(e.r(81415)),n(e.r(72762)),n(e.r(61932));var i=e.r(90383),a={error:function(e,t){t=function e(t){var r,n;if(t instanceof Error&&!(t instanceof i.UnknownError))return{message:t.message,stack:t.stack,name:t.name};if(null!=(r=t)&&r.error){t.error=e(t.error),t.message=null!=(n=t.message)?n:t.error.message}return t}(t),console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};r.default=a},32483,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.detectOrigin=function(e,t){var r;return(null!=(r=process.env.VERCEL)?r:process.env.AUTH_TRUST_HOST)?`${"http"===t?"http":"https"}://${e}`:process.env.NEXTAUTH_URL}},92509,(e,t,r)=>{t.exports=e.x("url",()=>require("url"))},65585,(e,t,r)=>{let{format:n}=e.r(24361);t.exports={OPError:class extends Error{constructor({error_description:e,error:t,error_uri:r,session_state:n,state:i,scope:a},o){super(e?`${t} (${e})`:t),Object.assign(this,{error:t},e&&{error_description:e},r&&{error_uri:r},i&&{state:i},a&&{scope:a},n&&{session_state:n}),o&&Object.defineProperty(this,"response",{value:o}),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}},RPError:class extends Error{constructor(...e){if("string"==typeof e[0])super(n(...e));else{const{message:t,printf:r,response:i,...a}=e[0];r?super(n(...r)):super(t),Object.assign(this,a),i&&Object.defineProperty(this,"response",{value:i})}this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}}},21517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},54799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},49719,(e,t,r)=>{t.exports=e.x("assert",()=>require("assert"))},45706,(e,t,r)=>{t.exports=e.x("querystring",()=>require("querystring"))},874,(e,t,r)=>{t.exports=e.x("buffer",()=>require("buffer"))},39684,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799);r.default=(e,t)=>(0,n.createHash)(e).update(t).digest()},979,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.concatKdf=r.lengthAndInput=r.uint32be=r.uint64be=r.p2s=r.concat=r.decoder=r.encoder=void 0;let n=e.r(39684);function i(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;return e.forEach(e=>{t.set(e,r),r+=e.length}),t}function a(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function o(e){let t=new Uint8Array(4);return a(t,e),t}r.encoder=new TextEncoder,r.decoder=new TextDecoder,r.concat=i,r.p2s=function(e,t){return i(r.encoder.encode(e),new Uint8Array([0]),t)},r.uint64be=function(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return a(r,t,0),a(r,e%0x100000000,4),r},r.uint32be=o,r.lengthAndInput=function(e){return i(o(e.length),e)},r.concatKdf=async function(e,t,r){let i=Math.ceil((t>>3)/32),a=new Uint8Array(32*i);for(let t=0;t<i;t++){let i=new Uint8Array(4+e.length+r.length);i.set(o(t+1)),i.set(e,4),i.set(r,4+e.length),a.set(await (0,n.default)("sha256",i),32*t)}return a.slice(0,t>>3)}},14882,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=r.encodeBase64=r.decodeBase64=void 0;let n=e.r(874),i=e.r(979);n.Buffer.isEncoding("base64url")?r.encode=e=>n.Buffer.from(e).toString("base64url"):r.encode=e=>n.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),r.decodeBase64=e=>n.Buffer.from(e,"base64"),r.encodeBase64=e=>n.Buffer.from(e).toString("base64"),r.decode=e=>{let t;return n.Buffer.from(((t=e)instanceof Uint8Array&&(t=i.decoder.decode(t)),t),"base64")}},86325,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JWSSignatureVerificationFailed=r.JWKSTimeout=r.JWKSMultipleMatchingKeys=r.JWKSNoMatchingKey=r.JWKSInvalid=r.JWKInvalid=r.JWTInvalid=r.JWSInvalid=r.JWEInvalid=r.JWEDecompressionFailed=r.JWEDecryptionFailed=r.JOSENotSupported=r.JOSEAlgNotAllowed=r.JWTExpired=r.JWTClaimValidationFailed=r.JOSEError=void 0;class n extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}r.JOSEError=n,r.JWTClaimValidationFailed=class extends n{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}},r.JWTExpired=class extends n{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}},r.JOSEAlgNotAllowed=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}},r.JOSENotSupported=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}},r.JWEDecryptionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}},r.JWEDecompressionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}},r.JWEInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}},r.JWSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}},r.JWTInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}},r.JWKInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}},r.JWKSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}},r.JWKSNoMatchingKey=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}},r.JWKSMultipleMatchingKeys=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}},r.JWKSTimeout=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}},r.JWSSignatureVerificationFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},69874,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=e.r(54799);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n.randomFillSync}})},3049,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let n=e.r(86325),i=e.r(69874);function a(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=a,r.default=e=>(0,i.default)(new Uint8Array(a(e)>>3))},96442,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325),i=e.r(3049);r.default=(e,t)=>{if(t.length<<3!==(0,i.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")}},55548,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(24361);r.default=i.types.isKeyObject?e=>i.types.isKeyObject(e):e=>null!=e&&e instanceof n.KeyObject},60120,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325),i=e.r(55548);r.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new n.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}if((0,i.default)(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")}},37404,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(54799).timingSafeEqual},86369,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(979);r.default=function(e,t,r,a,o,s){let l=(0,i.concat)(e,t,r,(0,i.uint64be)(e.length<<3)),u=(0,n.createHmac)(`sha${a}`,o);return u.update(l),u.digest().slice(0,s>>3)}},9412,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isCryptoKey=void 0;let n=e.r(54799),i=e.r(24361);r.default=n.webcrypto,r.isCryptoKey=i.types.isCryptoKey?e=>i.types.isCryptoKey(e):e=>!1},77109,(e,t,r)=>{"use strict";function n(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function i(e,t){return e.name===t}function a(e){return parseInt(e.name.slice(4),10)}function o(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}Object.defineProperty(r,"__esModule",{value:!0}),r.checkEncCryptoKey=r.checkSigCryptoKey=void 0,r.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!i(e.algorithm,"HMAC"))throw n("HMAC");let r=parseInt(t.slice(2),10);if(a(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i(e.algorithm,"RSASSA-PKCS1-v1_5"))throw n("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(a(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i(e.algorithm,"RSA-PSS"))throw n("RSA-PSS");let r=parseInt(t.slice(2),10);if(a(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw n("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!i(e.algorithm,"ECDSA"))throw n("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw n(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}o(e,r)},r.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!i(e.algorithm,"AES-GCM"))throw n("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!i(e.algorithm,"AES-KW"))throw n("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw n("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!i(e.algorithm,"PBKDF2"))throw n("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!i(e.algorithm,"RSA-OAEP"))throw n("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(a(e.algorithm.hash)!==r)throw n(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}o(e,r)}},26859,(e,t,r)=>{"use strict";function n(e,t,...r){if(r.length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}Object.defineProperty(r,"__esModule",{value:!0}),r.withAlg=void 0,r.default=(e,...t)=>n("Key must be ",e,...t),r.withAlg=function(e,t,...r){return n(`Key for the ${e} algorithm must be `,t,...r)}},4111,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799);r.default=e=>(n||(n=new Set((0,i.getCiphers)())),n.has(e))},65893,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.types=void 0;let n=e.r(9412),i=e.r(55548);r.default=e=>(0,i.default)(e)||(0,n.isCryptoKey)(e);let a=["KeyObject"];r.types=a,(globalThis.CryptoKey||(null===n.default||void 0===n.default?void 0:n.default.CryptoKey))&&a.push("CryptoKey")},97899,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(96442),a=e.r(60120),o=e.r(979),s=e.r(86325),l=e.r(37404),u=e.r(86369),c=e.r(9412),d=e.r(77109),f=e.r(55548),p=e.r(26859),h=e.r(4111),m=e.r(65893);r.default=(e,t,r,g,y,v)=>{let _;if((0,c.isCryptoKey)(t))(0,d.checkEncCryptoKey)(t,e,"decrypt"),_=n.KeyObject.from(t);else if(t instanceof Uint8Array||(0,f.default)(t))_=t;else throw TypeError((0,p.default)(t,...m.types,"Uint8Array"));switch((0,a.default)(e,_),(0,i.default)(e,g),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,a,c){let d,p,m=parseInt(e.slice(1,4),10);(0,f.default)(t)&&(t=t.export());let g=t.subarray(m>>3),y=t.subarray(0,m>>3),v=parseInt(e.slice(-3),10),_=`aes-${m}-cbc`;if(!(0,h.default)(_))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let b=(0,u.default)(c,i,r,v,y,m);try{d=(0,l.default)(a,b)}catch{}if(!d)throw new s.JWEDecryptionFailed;try{let e=(0,n.createDecipheriv)(_,g,i);p=(0,o.concat)(e.update(r),e.final())}catch{}if(!p)throw new s.JWEDecryptionFailed;return p}(e,_,r,g,y,v);case"A128GCM":case"A192GCM":case"A256GCM":var b=_;let w=parseInt(e.slice(1,4),10),S=`aes-${w}-gcm`;if(!(0,h.default)(S))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,n.createDecipheriv)(S,b,g,{authTagLength:16});e.setAuthTag(y),v.byteLength&&e.setAAD(v,{plaintextLength:r.length});let t=e.update(r);return e.final(),t}catch{throw new s.JWEDecryptionFailed}default:throw new s.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},6461,(e,t,r)=>{t.exports=e.x("zlib",()=>require("zlib"))},96825,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deflate=r.inflate=void 0;let n=e.r(24361),i=e.r(6461),a=e.r(86325),o=(0,n.promisify)(i.inflateRaw),s=(0,n.promisify)(i.deflateRaw);r.inflate=e=>o(e,{maxOutputLength:25e4}).catch(()=>{throw new a.JWEDecompressionFailed}),r.deflate=e=>s(e)},78410,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0}},80275,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},66389,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let n=e.r(874),i=e.r(54799),a=e.r(86325),o=e.r(979),s=e.r(9412),l=e.r(77109),u=e.r(55548),c=e.r(26859),d=e.r(4111),f=e.r(65893);function p(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function h(e,t,r){if((0,u.default)(e))return e;if(e instanceof Uint8Array)return(0,i.createSecretKey)(e);if((0,s.isCryptoKey)(e))return(0,l.checkEncCryptoKey)(e,t,r),i.KeyObject.from(e);throw TypeError((0,c.default)(e,...f.types,"Uint8Array"))}r.wrap=(e,t,r)=>{let s=parseInt(e.slice(1,4),10),l=`aes${s}-wrap`;if(!(0,d.default)(l))throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let u=h(t,e,"wrapKey");p(u,e);let c=(0,i.createCipheriv)(l,u,n.Buffer.alloc(8,166));return(0,o.concat)(c.update(r),c.final())},r.unwrap=(e,t,r)=>{let s=parseInt(e.slice(1,4),10),l=`aes${s}-wrap`;if(!(0,d.default)(l))throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);let u=h(t,e,"unwrapKey");p(u,e);let c=(0,i.createDecipheriv)(l,u,n.Buffer.alloc(8,166));return(0,o.concat)(c.update(r),c.final())}},7586,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setCurve=r.weakMap=void 0;let n=e.r(874),i=e.r(54799),a=e.r(86325),o=e.r(9412),s=e.r(55548),l=e.r(26859),u=e.r(65893),c=n.Buffer.from([42,134,72,206,61,3,1,7]),d=n.Buffer.from([43,129,4,0,34]),f=n.Buffer.from([43,129,4,0,35]),p=n.Buffer.from([43,129,4,0,10]);r.weakMap=new WeakMap;let h=(e,t)=>{var n;let m;if((0,o.isCryptoKey)(e))m=i.KeyObject.from(e);else if((0,s.default)(e))m=e;else throw TypeError((0,l.default)(e,...u.types));if("secret"===m.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(m.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${m.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${m.asymmetricKeyType.slice(1)}`;case"ec":{if(r.weakMap.has(m))return r.weakMap.get(m);let e=null==(n=m.asymmetricKeyDetails)?void 0:n.namedCurve;if(e||"private"!==m.type){if(!e){let t=m.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],i=t.slice(r+1,r+1+n);if(i.equals(c))e="prime256v1";else if(i.equals(d))e="secp384r1";else if(i.equals(f))e="secp521r1";else if(i.equals(p))e="secp256k1";else throw new a.JOSENotSupported("Unsupported key curve for this operation")}}else e=h((0,i.createPublicKey)(m),!0);if(t)return e;let o=(e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new a.JOSENotSupported("Unsupported key curve for this operation")}})(e);return r.weakMap.set(m,o),o}default:throw TypeError("Invalid asymmetric key type for this operation")}};r.setCurve=function(e,t){r.weakMap.set(e,t)},r.default=h},89026,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ecdhAllowed=r.generateEpk=r.deriveKey=void 0;let n=e.r(54799),i=e.r(24361),a=e.r(7586),o=e.r(979),s=e.r(86325),l=e.r(9412),u=e.r(77109),c=e.r(55548),d=e.r(26859),f=e.r(65893),p=(0,i.promisify)(n.generateKeyPair);r.deriveKey=async function(e,t,r,i,a=new Uint8Array(0),s=new Uint8Array(0)){let p,h;if((0,l.isCryptoKey)(e))(0,u.checkEncCryptoKey)(e,"ECDH"),p=n.KeyObject.from(e);else if((0,c.default)(e))p=e;else throw TypeError((0,d.default)(e,...f.types));if((0,l.isCryptoKey)(t))(0,u.checkEncCryptoKey)(t,"ECDH","deriveBits"),h=n.KeyObject.from(t);else if((0,c.default)(t))h=t;else throw TypeError((0,d.default)(t,...f.types));let m=(0,o.concat)((0,o.lengthAndInput)(o.encoder.encode(r)),(0,o.lengthAndInput)(a),(0,o.lengthAndInput)(s),(0,o.uint32be)(i)),g=(0,n.diffieHellman)({privateKey:h,publicKey:p});return(0,o.concatKdf)(g,i,m)},r.generateEpk=async function(e){let t;if((0,l.isCryptoKey)(e))t=n.KeyObject.from(e);else if((0,c.default)(e))t=e;else throw TypeError((0,d.default)(e,...f.types));switch(t.asymmetricKeyType){case"x25519":return p("x25519");case"x448":return p("x448");case"ec":return p("ec",{namedCurve:(0,a.default)(t)});default:throw new s.JOSENotSupported("Invalid or unsupported EPK")}},r.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,a.default)(e))},98393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325);r.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},89925,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let n=e.r(24361),i=e.r(54799),a=e.r(69874),o=e.r(979),s=e.r(14882),l=e.r(66389),u=e.r(98393),c=e.r(9412),d=e.r(77109),f=e.r(55548),p=e.r(26859),h=e.r(65893),m=(0,n.promisify)(i.pbkdf2);function g(e,t){if((0,f.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,c.isCryptoKey)(e))return(0,d.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),i.KeyObject.from(e).export();throw TypeError((0,p.default)(e,...h.types,"Uint8Array"))}r.encrypt=async(e,t,r,n=2048,i=(0,a.default)(new Uint8Array(16)))=>{(0,u.default)(i);let c=(0,o.p2s)(e,i),d=parseInt(e.slice(13,16),10)>>3,f=g(t,e),p=await m(f,c,n,d,`sha${e.slice(8,11)}`);return{encryptedKey:await (0,l.wrap)(e.slice(-6),p,r),p2c:n,p2s:(0,s.encode)(i)}},r.decrypt=async(e,t,r,n,i)=>{(0,u.default)(i);let a=(0,o.p2s)(e,i),s=parseInt(e.slice(13,16),10)>>3,c=g(t,e),d=await m(c,a,n,s,`sha${e.slice(8,11)}`);return(0,l.unwrap)(e.slice(-6),d,r)}},64870,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setModulusLength=r.weakMap=void 0,r.weakMap=new WeakMap;let n=(e,t)=>{let r=e.readUInt8(1);if((128&r)==0)return 0===t?r:n(e.subarray(2+r),t-1);let i=127&r;r=0;for(let t=0;t<i;t++)r<<=8,r|=e.readUInt8(2+t);return 0===t?r:n(e.subarray(2+r),t-1)};r.setModulusLength=(e,t)=>{r.weakMap.set(e,t)},r.default=(e,t)=>{if(2048>(e=>{var t,i,a,o;let s;if(r.weakMap.has(e))return r.weakMap.get(e);let l=null!=(i=null==(t=e.asymmetricKeyDetails)?void 0:t.modulusLength)?i:(a=e.export({format:"der",type:"pkcs1"}),o=+("private"===e.type),((128&(s=a.readUInt8(1)))==0?n(a.subarray(2),o):n(a.subarray(2+(127&s)),o))-1<<3);return r.weakMap.set(e,l),l})(e))throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}},3077,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;let n=e.r(54799),i=e.r(64870),a=e.r(9412),o=e.r(77109),s=e.r(55548),l=e.r(26859),u=e.r(65893),c=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,i.default)(e,t)},d=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return n.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return n.constants.RSA_PKCS1_PADDING;default:return}},f=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function p(e,t,...r){if((0,s.default)(e))return e;if((0,a.isCryptoKey)(e))return(0,o.checkEncCryptoKey)(e,t,...r),n.KeyObject.from(e);throw TypeError((0,l.default)(e,...u.types))}r.encrypt=(e,t,r)=>{let i=d(e),a=f(e),o=p(t,e,"wrapKey","encrypt");return c(o,e),(0,n.publicEncrypt)({key:o,oaepHash:a,padding:i},r)},r.decrypt=(e,t,r)=>{let i=d(e),a=f(e),o=p(t,e,"unwrapKey","decrypt");return c(o,e),(0,n.privateDecrypt)({key:o,oaepHash:a,padding:i},r)}},30630,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.bitLength=void 0;let n=e.r(86325),i=e.r(69874);function a(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}r.bitLength=a,r.default=e=>(0,i.default)(new Uint8Array(a(e)>>3))},14133,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromX509=r.fromSPKI=r.fromPKCS8=r.toPKCS8=r.toSPKI=void 0;let n=e.r(54799),i=e.r(874),a=e.r(9412),o=e.r(55548),s=e.r(26859),l=e.r(65893),u=(e,t,r)=>{let i;if((0,a.isCryptoKey)(r)){if(!r.extractable)throw TypeError("CryptoKey is not extractable");i=n.KeyObject.from(r)}else if((0,o.default)(r))i=r;else throw TypeError((0,s.default)(r,...l.types));if(i.type!==e)throw TypeError(`key is not a ${e} key`);return i.export({format:"pem",type:t})};r.toSPKI=e=>u("public","spki",e),r.toPKCS8=e=>u("private","pkcs8",e),r.fromPKCS8=e=>(0,n.createPrivateKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"}),r.fromSPKI=e=>(0,n.createPublicKey)({key:i.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"}),r.fromX509=e=>(0,n.createPublicKey)({key:e,type:"spki",format:"pem"})},81879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(874),i=e.r(86325),a=n.Buffer.from([0]),o=n.Buffer.from([2]),s=n.Buffer.from([3]),l=n.Buffer.from([48]),u=n.Buffer.from([4]),c=e=>{if(e<128)return n.Buffer.from([e]);let t=n.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},d=new Map([["P-256",n.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",n.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",n.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",n.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",n.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",n.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",n.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",n.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",n.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);r.default=class{constructor(){this.length=0,this.elements=[]}oidFor(e){let t=d.get(e);if(!t)throw new i.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(o,n.Buffer.from([1]),a),this.length+=3}one(){this.elements.push(o,n.Buffer.from([1]),n.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){let t=c(e.length+1);this.elements.push(o,t,a,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&(128&e[t+1])==0;)t++;let r=c(e.length-t);this.elements.push(o,c(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){let t=c(e.length);this.elements.push(u,c(e.length),e),this.length+=1+t.length+e.length}bitStr(e){let t=c(e.length+1);this.elements.push(s,c(e.length+1),a,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=l){let t=c(this.length);return n.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}},37584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwkImport=r.jwkExport=r.rsaPssParams=r.oneShotCallback=void 0;let[n,i]=process.versions.node.split(".").map(e=>parseInt(e,10));r.oneShotCallback=n>=16||15===n&&i>=13,r.rsaPssParams=!("electron"in process.versions)&&(n>=17||16===n&&i>=9),r.jwkExport=n>=16||15===n&&i>=9,r.jwkImport=n>=16||15===n&&i>=12},75420,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(874),i=e.r(54799),a=e.r(14882),o=e.r(86325),s=e.r(7586),l=e.r(64870),u=e.r(81879),c=e.r(37584);r.default=e=>{if(c.jwkImport&&"oct"!==e.kty)return e.d?(0,i.createPrivateKey)({format:"jwk",key:e}):(0,i.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,i.createSecretKey)((0,a.decode)(e.k));case"RSA":{let t=new u.default,r=void 0!==e.d,a=n.Buffer.from(e.n,"base64"),o=n.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(a),t.unsignedInteger(o),t.unsignedInteger(n.Buffer.from(e.d,"base64")),t.unsignedInteger(n.Buffer.from(e.p,"base64")),t.unsignedInteger(n.Buffer.from(e.q,"base64")),t.unsignedInteger(n.Buffer.from(e.dp,"base64")),t.unsignedInteger(n.Buffer.from(e.dq,"base64")),t.unsignedInteger(n.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(a),t.unsignedInteger(o));let s={key:t.end(),format:"der",type:"pkcs1"},c=r?(0,i.createPrivateKey)(s):(0,i.createPublicKey)(s);return(0,l.setModulusLength)(c,a.length<<3),c}case"EC":{let t=new u.default,r=void 0!==e.d,a=n.Buffer.concat([n.Buffer.alloc(1,4),n.Buffer.from(e.x,"base64"),n.Buffer.from(e.y,"base64")]);if(r){t.zero();let r=new u.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());let o=new u.default;o.one(),o.octStr(n.Buffer.from(e.d,"base64"));let l=new u.default;l.bitStr(a);let c=l.end(n.Buffer.from([161]));o.add(c);let d=o.end(),f=new u.default;f.add(d);let p=f.end(n.Buffer.from([4]));t.add(p);let h=t.end(),m=(0,i.createPrivateKey)({key:h,format:"der",type:"pkcs8"});return(0,s.setCurve)(m,e.crv),m}let o=new u.default;o.oidFor("ecPublicKey"),o.oidFor(e.crv),t.add(o.end()),t.bitStr(a);let l=t.end(),c=(0,i.createPublicKey)({key:l,format:"der",type:"spki"});return(0,s.setCurve)(c,e.crv),c}case"OKP":{let t=new u.default;if(void 0!==e.d){t.zero();let r=new u.default;r.oidFor(e.crv),t.add(r.end());let a=new u.default;a.octStr(n.Buffer.from(e.d,"base64"));let o=a.end(n.Buffer.from([4]));t.add(o);let s=t.end();return(0,i.createPrivateKey)({key:s,format:"der",type:"pkcs8"})}let r=new u.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(n.Buffer.from(e.x,"base64"));let a=t.end();return(0,i.createPublicKey)({key:a,format:"der",type:"spki"})}default:throw new o.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}}},9132,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.importJWK=r.importPKCS8=r.importX509=r.importSPKI=void 0;let n=e.r(14882),i=e.r(14133),a=e.r(75420),o=e.r(86325),s=e.r(80275);r.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw TypeError('"spki" must be SPKI formatted string');return(0,i.fromSPKI)(e,t,r)},r.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw TypeError('"x509" must be X.509 formatted string');return(0,i.fromX509)(e,t,r)},r.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,i.fromPKCS8)(e,t,r)},r.importJWK=async function(e,t,r){var i;if(!(0,s.default)(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');if(null!=r||(r=!0!==e.ext),r)return(0,a.default)({...e,alg:t,ext:null!=(i=e.ext)&&i});return(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new o.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,a.default)({...e,alg:t});default:throw new o.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},89875,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(26859),i=e.r(65893);r.default=(e,t,r)=>{if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)){if(!(t instanceof Uint8Array)){if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types,"Uint8Array"));if("secret"!==t.type)throw TypeError(`${i.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}}else{if(!(0,i.default)(t))throw TypeError((0,n.withAlg)(e,t,...i.types));if("secret"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===r&&"public"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw TypeError(`${i.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)}}},72161,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(96442),a=e.r(60120),o=e.r(979),s=e.r(86369),l=e.r(9412),u=e.r(77109),c=e.r(55548),d=e.r(26859),f=e.r(86325),p=e.r(4111),h=e.r(65893);r.default=(e,t,r,m,g)=>{let y;if((0,l.isCryptoKey)(r))(0,u.checkEncCryptoKey)(r,e,"encrypt"),y=n.KeyObject.from(r);else if(r instanceof Uint8Array||(0,c.default)(r))y=r;else throw TypeError((0,d.default)(r,...h.types,"Uint8Array"));switch((0,a.default)(e,y),(0,i.default)(e,m),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,i,a){let l=parseInt(e.slice(1,4),10);(0,c.default)(r)&&(r=r.export());let u=r.subarray(l>>3),d=r.subarray(0,l>>3),h=`aes-${l}-cbc`;if(!(0,p.default)(h))throw new f.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let m=(0,n.createCipheriv)(h,u,i),g=(0,o.concat)(m.update(t),m.final()),y=parseInt(e.slice(-3),10),v=(0,s.default)(a,i,g,y,d,l);return{ciphertext:g,tag:v}}(e,t,y,m,g);case"A128GCM":case"A192GCM":case"A256GCM":var v=y;let _=parseInt(e.slice(1,4),10),b=`aes-${_}-gcm`;if(!(0,p.default)(b))throw new f.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);let w=(0,n.createCipheriv)(b,v,m,{authTagLength:16});g.byteLength&&w.setAAD(g,{plaintextLength:t.length});let S=w.update(t);return w.final(),{ciphertext:S,tag:w.getAuthTag()};default:throw new f.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},37623,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unwrap=r.wrap=void 0;let n=e.r(72161),i=e.r(97899),a=e.r(3049),o=e.r(14882);r.wrap=async function(e,t,r,i){let s=e.slice(0,7);i||(i=(0,a.default)(s));let{ciphertext:l,tag:u}=await (0,n.default)(s,r,t,i,new Uint8Array(0));return{encryptedKey:l,iv:(0,o.encode)(i),tag:(0,o.encode)(u)}},r.unwrap=async function(e,t,r,n,a){let o=e.slice(0,7);return(0,i.default)(o,t,r,n,a,new Uint8Array(0))}},36228,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(66389),i=e.r(89026),a=e.r(89925),o=e.r(3077),s=e.r(14882),l=e.r(86325),u=e.r(30630),c=e.r(9132),d=e.r(89875),f=e.r(80275),p=e.r(37623);r.default=async function(e,t,r,h,m){switch((0,d.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new l.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let a,o;if(!(0,f.default)(h.epk))throw new l.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!i.ecdhAllowed(t))throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let d=await (0,c.importJWK)(h.epk,e);if(void 0!==h.apu){if("string"!=typeof h.apu)throw new l.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{a=(0,s.decode)(h.apu)}catch{throw new l.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==h.apv){if("string"!=typeof h.apv)throw new l.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{o=(0,s.decode)(h.apv)}catch{throw new l.JWEInvalid("Failed to base64url decode the apv")}}let p=await i.deriveKey(d,t,"ECDH-ES"===e?h.enc:e,"ECDH-ES"===e?(0,u.bitLength)(h.enc):parseInt(e.slice(-5,-2),10),a,o);if("ECDH-ES"===e)return p;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),p,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,o.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let n;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof h.p2c)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');let i=(null==m?void 0:m.maxPBES2Count)||1e4;if(h.p2c>i)throw new l.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof h.p2s)throw new l.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{n=(0,s.decode)(h.p2s)}catch{throw new l.JWEInvalid("Failed to base64url decode the p2s")}return(0,a.decrypt)(e,t,r,h.p2c,n)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let n,i;if(void 0===r)throw new l.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof h.iv)throw new l.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof h.tag)throw new l.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');try{n=(0,s.decode)(h.iv)}catch{throw new l.JWEInvalid("Failed to base64url decode the iv")}try{i=(0,s.decode)(h.tag)}catch{throw new l.JWEInvalid("Failed to base64url decode the tag")}return(0,p.unwrap)(e,t,r,n,i)}default:throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},71322,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325);r.default=function(e,t,r,i,a){let o;if(void 0!==a.crit&&void 0===i.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||void 0===i.crit)return new Set;if(!Array.isArray(i.crit)||0===i.crit.length||i.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,i.crit)){if(!o.has(s))throw new n.JOSENotSupported(`Extension Header Parameter "${s}" is not recognized`);if(void 0===a[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&void 0===i[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(i.crit)}},1243,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},21084,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedDecrypt=void 0;let n=e.r(14882),i=e.r(97899),a=e.r(96825),o=e.r(86325),s=e.r(78410),l=e.r(80275),u=e.r(36228),c=e.r(979),d=e.r(30630),f=e.r(71322),p=e.r(1243);r.flattenedDecrypt=async function(e,t,r){var h;let m,g,y,v,_,b,w;if(!(0,l.default)(e))throw new o.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new o.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new o.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new o.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new o.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new o.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new o.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new o.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new o.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,l.default)(e.unprotected))throw new o.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=(0,n.decode)(e.protected);m=JSON.parse(c.decoder.decode(t))}catch{throw new o.JWEInvalid("JWE Protected Header is invalid")}if(!(0,s.default)(m,e.header,e.unprotected))throw new o.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let S={...m,...e.header,...e.unprotected};if((0,f.default)(o.JWEInvalid,new Map,null==r?void 0:r.crit,m,S),void 0!==S.zip){if(!m||!m.zip)throw new o.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==S.zip)throw new o.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:x,enc:E}=S;if("string"!=typeof x||!x)throw new o.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof E||!E)throw new o.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");let k=r&&(0,p.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),$=r&&(0,p.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(k&&!k.has(x))throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if($&&!$.has(E))throw new o.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');if(void 0!==e.encrypted_key)try{g=(0,n.decode)(e.encrypted_key)}catch{throw new o.JWEInvalid("Failed to base64url decode the encrypted_key")}let O=!1;"function"==typeof t&&(t=await t(m,e),O=!0);try{y=await (0,u.default)(x,t,g,S,r)}catch(e){if(e instanceof TypeError||e instanceof o.JWEInvalid||e instanceof o.JOSENotSupported)throw e;y=(0,d.default)(E)}try{v=(0,n.decode)(e.iv)}catch{throw new o.JWEInvalid("Failed to base64url decode the iv")}try{_=(0,n.decode)(e.tag)}catch{throw new o.JWEInvalid("Failed to base64url decode the tag")}let P=c.encoder.encode(null!=(h=e.protected)?h:"");b=void 0!==e.aad?(0,c.concat)(P,c.encoder.encode("."),c.encoder.encode(e.aad)):P;try{w=(0,n.decode)(e.ciphertext)}catch{throw new o.JWEInvalid("Failed to base64url decode the ciphertext")}let T=await (0,i.default)(E,y,w,v,_,b);"DEF"===S.zip&&(T=await ((null==r?void 0:r.inflateRaw)||a.inflate)(T));let I={plaintext:T};if(void 0!==e.protected&&(I.protectedHeader=m),void 0!==e.aad)try{I.additionalAuthenticatedData=(0,n.decode)(e.aad)}catch{throw new o.JWEInvalid("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(I.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(I.unprotectedHeader=e.header),O)?{...I,key:t}:I}},37958,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactDecrypt=void 0;let n=e.r(21084),i=e.r(86325),a=e.r(979);r.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=a.decoder.decode(e)),"string"!=typeof e)throw new i.JWEInvalid("Compact JWE must be a string or Uint8Array");let{0:o,1:s,2:l,3:u,4:c,length:d}=e.split(".");if(5!==d)throw new i.JWEInvalid("Invalid Compact JWE");let f=await (0,n.flattenedDecrypt)({ciphertext:u,iv:l||void 0,protected:o||void 0,tag:c||void 0,encrypted_key:s||void 0},t,r),p={plaintext:f.plaintext,protectedHeader:f.protectedHeader};return"function"==typeof t?{...p,key:f.key}:p}},2067,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalDecrypt=void 0;let n=e.r(21084),i=e.r(86325),a=e.r(80275);r.generalDecrypt=async function(e,t,r){if(!(0,a.default)(e))throw new i.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(a.default))throw new i.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new i.JWEInvalid("JWE Recipients has no members");for(let i of e.recipients)try{return await (0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:i.encrypted_key,header:i.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new i.JWEDecryptionFailed}},61225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(e){if(48!==e[0]||(this.buffer=e,this.offset=1,this.decodeLength()!==e.length-this.offset))throw TypeError()}decodeLength(){let e=this.buffer[this.offset++];if(128&e){let t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(2!==this.buffer[this.offset++])throw TypeError();let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw TypeError()}}},13155,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(14882),a=e.r(61225),o=e.r(86325),s=e.r(7586),l=e.r(9412),u=e.r(55548),c=e.r(26859),d=e.r(65893),f=e.r(37584),p=e=>{let t;if((0,l.isCryptoKey)(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=n.KeyObject.from(e)}else if((0,u.default)(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:(0,i.encode)(e)};else throw TypeError((0,c.default)(e,...d.types,"Uint8Array"));if(f.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new o.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,i.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{let e,r=t.export({format:"der",type:"pkcs1"}),n=new a.default(r);"private"===t.type&&n.unsignedInteger();let o=(0,i.encode)(n.unsignedInteger()),s=(0,i.encode)(n.unsignedInteger());return"private"===t.type&&(e={d:(0,i.encode)(n.unsignedInteger()),p:(0,i.encode)(n.unsignedInteger()),q:(0,i.encode)(n.unsignedInteger()),dp:(0,i.encode)(n.unsignedInteger()),dq:(0,i.encode)(n.unsignedInteger()),qi:(0,i.encode)(n.unsignedInteger())}),n.end(),{kty:"RSA",n:o,e:s,...e}}case"ec":{let e,r,a,l=(0,s.default)(t);switch(l){case"secp256k1":e=64,r=33,a=-1;break;case"P-256":e=64,r=36,a=-1;break;case"P-384":e=96,r=35,a=-3;break;case"P-521":e=132,r=35,a=-3;break;default:throw new o.JOSENotSupported("Unsupported curve")}if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"EC",crv:l,x:(0,i.encode)(r.subarray(-e,-e/2)),y:(0,i.encode)(r.subarray(-e/2))}}let u=t.export({type:"pkcs8",format:"der"});return u.length<100&&(r+=a),{...p((0,n.createPublicKey)(t)),d:(0,i.encode)(u.subarray(r,r+e/2))}}case"ed25519":case"x25519":{let e=(0,s.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray(-32))}}let r=t.export({type:"pkcs8",format:"der"});return{...p((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray(-32))}}case"ed448":case"x448":{let e=(0,s.default)(t);if("public"===t.type){let r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}let r=t.export({type:"pkcs8",format:"der"});return{...p((0,n.createPublicKey)(t)),d:(0,i.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new o.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new o.JOSENotSupported("Unsupported key type")}};r.default=p},93514,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.exportJWK=r.exportPKCS8=r.exportSPKI=void 0;let n=e.r(14133),i=e.r(14133),a=e.r(13155);r.exportSPKI=async function(e){return(0,n.toSPKI)(e)},r.exportPKCS8=async function(e){return(0,i.toPKCS8)(e)},r.exportJWK=async function(e){return(0,a.default)(e)}},75358,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(66389),i=e.r(89026),a=e.r(89925),o=e.r(3077),s=e.r(14882),l=e.r(30630),u=e.r(86325),c=e.r(93514),d=e.r(89875),f=e.r(37623);r.default=async function(e,t,r,p,h={}){let m,g,y;switch((0,d.default)(e,r,"encrypt"),e){case"dir":y=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!i.ecdhAllowed(r))throw new u.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:a,apv:o}=h,{epk:d}=h;d||(d=(await i.generateEpk(r)).privateKey);let{x:f,y:v,crv:_,kty:b}=await (0,c.exportJWK)(d),w=await i.deriveKey(r,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,l.bitLength)(t):parseInt(e.slice(-5,-2),10),a,o);if(g={epk:{x:f,crv:_,kty:b}},"EC"===b&&(g.epk.y=v),a&&(g.apu=(0,s.encode)(a)),o&&(g.apv=(0,s.encode)(o)),"ECDH-ES"===e){y=w;break}y=p||(0,l.default)(t);let S=e.slice(-6);m=await (0,n.wrap)(S,w,y);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":y=p||(0,l.default)(t),m=await (0,o.encrypt)(e,r,y);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{y=p||(0,l.default)(t);let{p2c:n,p2s:i}=h;({encryptedKey:m,...g}=await (0,a.encrypt)(e,r,y,n,i));break}case"A128KW":case"A192KW":case"A256KW":y=p||(0,l.default)(t),m=await (0,n.wrap)(e,r,y);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{y=p||(0,l.default)(t);let{iv:n}=h;({encryptedKey:m,...g}=await (0,f.wrap)(e,r,y,n));break}default:throw new u.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:y,encryptedKey:m,parameters:g}}},18168,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedEncrypt=r.unprotected=void 0;let n=e.r(14882),i=e.r(72161),a=e.r(96825),o=e.r(3049),s=e.r(75358),l=e.r(86325),u=e.r(78410),c=e.r(979),d=e.r(71322);r.unprotected=Symbol(),r.FlattenedEncrypt=class{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let f,p,h,m,g,y,v;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new l.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,u.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new l.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let _={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,d.default)(l.JWEInvalid,new Map,null==t?void 0:t.crit,this._protectedHeader,_),void 0!==_.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new l.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==_.zip)throw new l.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:b,enc:w}=_;if("string"!=typeof b||!b)throw new l.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof w||!w)throw new l.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if("dir"===b){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===b&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:p,encryptedKey:f,parameters:n}=await (0,s.default)(b,w,e,this._cek,this._keyManagementParameters)),n&&(t&&r.unprotected in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=(0,o.default)(w)),m=this._protectedHeader?c.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):c.encoder.encode(""),this._aad?(g=(0,n.encode)(this._aad),h=(0,c.concat)(m,c.encoder.encode("."),c.encoder.encode(g))):h=m,"DEF"===_.zip){let e=await ((null==t?void 0:t.deflateRaw)||a.deflate)(this._plaintext);({ciphertext:y,tag:v}=await (0,i.default)(w,e,p,this._iv,h))}else({ciphertext:y,tag:v}=await (0,i.default)(w,this._plaintext,p,this._iv,h));let S={ciphertext:(0,n.encode)(y),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(v)};return f&&(S.encrypted_key=(0,n.encode)(f)),g&&(S.aad=g),this._protectedHeader&&(S.protected=c.decoder.decode(m)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}}},776,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralEncrypt=void 0;let n=e.r(18168),i=e.r(86325),a=e.r(30630),o=e.r(78410),s=e.r(75358),l=e.r(14882),u=e.r(71322);class c{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}r.GeneralEncrypt=class{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){let r=new c(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,c;let d;if(!this._recipients.length)throw new i.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){let[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e}),i={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(i.aad=r.aad),r.protected&&(i.protected=r.protected),r.unprotected&&(i.unprotected=r.unprotected),r.encrypted_key&&(i.recipients[0].encrypted_key=r.encrypted_key),r.header&&(i.recipients[0].header=r.header),i}for(let e=0;e<this._recipients.length;e++){let t=this._recipients[e];if(!(0,o.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new i.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new i.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new i.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(d){if(d!==r.enc)throw new i.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else d=r.enc;if((0,u.default)(i.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),void 0!==r.zip&&(!this._protectedHeader||!this._protectedHeader.zip))throw new i.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let f=(0,a.default)(d),p={ciphertext:"",iv:"",recipients:[],tag:""};for(let i=0;i<this._recipients.length;i++){let a=this._recipients[i],o={};p.recipients.push(o);let u=({...this._protectedHeader,...this._unprotectedHeader,...a.unprotectedHeader}).alg.startsWith("PBES2")?2048+i:void 0;if(0===i){let t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(f).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(a.unprotectedHeader).setKeyManagementParameters({p2c:u}).encrypt(a.key,{...a.options,...e,[n.unprotected]:!0});p.ciphertext=t.ciphertext,p.iv=t.iv,p.tag=t.tag,t.aad&&(p.aad=t.aad),t.protected&&(p.protected=t.protected),t.unprotected&&(p.unprotected=t.unprotected),o.encrypted_key=t.encrypted_key,t.header&&(o.header=t.header);continue}let{encryptedKey:h,parameters:m}=await (0,s.default)((null==(t=a.unprotectedHeader)?void 0:t.alg)||(null==(r=this._protectedHeader)?void 0:r.alg)||(null==(c=this._unprotectedHeader)?void 0:c.alg),d,a.key,f,{p2c:u});o.encrypted_key=(0,l.encode)(h),(a.unprotectedHeader||m)&&(o.header={...a.unprotectedHeader,...m})}return p}}},45499,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325);r.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},20535,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(7586),a=e.r(86325),o=e.r(64870),s=e.r(37584),l={padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},u=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);r.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,o.default)(t,e),t;case s.rsaPssParams&&"PS256":case s.rsaPssParams&&"PS384":case s.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){let{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:i}=t.asymmetricKeyDetails,a=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${a}`||n!==r))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>a>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,o.default)(t,e),{key:t,...l};case!s.rsaPssParams&&"PS256":case!s.rsaPssParams&&"PS384":case!s.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,o.default)(t,e),{key:t,...l};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=(0,i.default)(t),n=u.get(e);if(r!==n)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new a.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},71899,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325);r.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},12073,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799),i=e.r(9412),a=e.r(77109),o=e.r(26859),s=e.r(65893);r.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,o.default)(t,...s.types));return(0,n.createSecretKey)(t)}if(t instanceof n.KeyObject)return t;if((0,i.isCryptoKey)(t))return(0,a.checkSigCryptoKey)(t,e,r),n.KeyObject.from(t);throw TypeError((0,o.default)(t,...s.types,"Uint8Array"))}},13282,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799),a=e.r(24361),o=e.r(45499),s=e.r(71899),l=e.r(20535),u=e.r(12073);n=i.sign.length>3?(0,a.promisify)(i.sign):i.sign,r.default=async(e,t,r)=>{let a=(0,u.default)(e,t,"sign");if(e.startsWith("HS")){let t=i.createHmac((0,s.default)(e),a);return t.update(r),t.digest()}return n((0,o.default)(e),r,(0,l.default)(e,a))}},61292,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799),a=e.r(24361),o=e.r(45499),s=e.r(20535),l=e.r(13282),u=e.r(12073),c=e.r(37584);n=i.verify.length>4&&c.oneShotCallback?(0,a.promisify)(i.verify):i.verify,r.default=async(e,t,r,a)=>{let c=(0,u.default)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,l.default)(e,c,a);try{return i.timingSafeEqual(r,t)}catch{return!1}}let d=(0,o.default)(e),f=(0,s.default)(e,c);try{return await n(d,a,f,r)}catch{return!1}}},25693,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flattenedVerify=void 0;let n=e.r(14882),i=e.r(61292),a=e.r(86325),o=e.r(979),s=e.r(78410),l=e.r(80275),u=e.r(89875),c=e.r(71322),d=e.r(1243);r.flattenedVerify=async function(e,t,r){var f;let p,h;if(!(0,l.default)(e))throw new a.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new a.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new a.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new a.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new a.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,l.default)(e.header))throw new a.JWSInvalid("JWS Unprotected Header incorrect type");let m={};if(e.protected)try{let t=(0,n.decode)(e.protected);m=JSON.parse(o.decoder.decode(t))}catch{throw new a.JWSInvalid("JWS Protected Header is invalid")}if(!(0,s.default)(m,e.header))throw new a.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let g={...m,...e.header},y=(0,c.default)(a.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,m,g),v=!0;if(y.has("b64")&&"boolean"!=typeof(v=m.b64))throw new a.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:_}=g;if("string"!=typeof _||!_)throw new a.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');let b=r&&(0,d.default)("algorithms",r.algorithms);if(b&&!b.has(_))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(v){if("string"!=typeof e.payload)throw new a.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new a.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let w=!1;"function"==typeof t&&(t=await t(m,e),w=!0),(0,u.default)(_,t,"verify");let S=(0,o.concat)(o.encoder.encode(null!=(f=e.protected)?f:""),o.encoder.encode("."),"string"==typeof e.payload?o.encoder.encode(e.payload):e.payload);try{p=(0,n.decode)(e.signature)}catch{throw new a.JWSInvalid("Failed to base64url decode the signature")}if(!await (0,i.default)(_,t,p,S))throw new a.JWSSignatureVerificationFailed;if(v)try{h=(0,n.decode)(e.payload)}catch{throw new a.JWSInvalid("Failed to base64url decode the payload")}else h="string"==typeof e.payload?o.encoder.encode(e.payload):e.payload;let x={payload:h};return(void 0!==e.protected&&(x.protectedHeader=m),void 0!==e.header&&(x.unprotectedHeader=e.header),w)?{...x,key:t}:x}},99418,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compactVerify=void 0;let n=e.r(25693),i=e.r(86325),a=e.r(979);r.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=a.decoder.decode(e)),"string"!=typeof e)throw new i.JWSInvalid("Compact JWS must be a string or Uint8Array");let{0:o,1:s,2:l,length:u}=e.split(".");if(3!==u)throw new i.JWSInvalid("Invalid Compact JWS");let c=await (0,n.flattenedVerify)({payload:s,protected:o,signature:l},t,r),d={payload:c.payload,protectedHeader:c.protectedHeader};return"function"==typeof t?{...d,key:c.key}:d}},71621,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generalVerify=void 0;let n=e.r(25693),i=e.r(86325),a=e.r(80275);r.generalVerify=async function(e,t,r){if(!(0,a.default)(e))throw new i.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(a.default))throw new i.JWSInvalid("JWS Signatures missing or incorrect type");for(let i of e.signatures)try{return await (0,n.flattenedVerify)({header:i.header,payload:e.payload,protected:i.protected,signature:i.signature},t,r)}catch{}throw new i.JWSSignatureVerificationFailed}},25417,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e=>Math.floor(e.getTime()/1e3)},114,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;r.default=e=>{let t=n.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(0x1e187e0*r)}}},74953,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(86325),i=e.r(979),a=e.r(25417),o=e.r(114),s=e.r(80275),l=e=>e.toLowerCase().replace(/^application\//,"");r.default=(e,t,r={})=>{var u,c;let d,f,{typ:p}=r;if(p&&("string"!=typeof e.typ||l(e.typ)!==l(p)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");try{d=JSON.parse(i.decoder.decode(t))}catch{}if(!(0,s.default)(d))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");let{requiredClaims:h=[],issuer:m,subject:g,audience:y,maxTokenAge:v}=r;for(let e of(void 0!==v&&h.push("iat"),void 0!==y&&h.push("aud"),void 0!==g&&h.push("sub"),void 0!==m&&h.push("iss"),new Set(h.reverse())))if(!(e in d))throw new n.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(m&&!(Array.isArray(m)?m:[m]).includes(d.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(g&&d.sub!==g)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(y&&(u=d.aud,c="string"==typeof y?[y]:y,"string"==typeof u?!c.includes(u):!(Array.isArray(u)&&c.some(Set.prototype.has.bind(new Set(u))))))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":f=(0,o.default)(r.clockTolerance);break;case"number":f=r.clockTolerance;break;case"undefined":f=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:_}=r,b=(0,a.default)(_||new Date);if((void 0!==d.iat||v)&&"number"!=typeof d.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==d.nbf){if("number"!=typeof d.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(d.nbf>b+f)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==d.exp){if("number"!=typeof d.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(d.exp<=b-f)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(v){let e=b-d.iat;if(e-f>("number"==typeof v?v:(0,o.default)(v)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-f)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return d}},99697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtVerify=void 0;let n=e.r(99418),i=e.r(74953),a=e.r(86325);r.jwtVerify=async function(e,t,r){var o;let s=await (0,n.compactVerify)(e,t,r);if((null==(o=s.protectedHeader.crit)?void 0:o.includes("b64"))&&!1===s.protectedHeader.b64)throw new a.JWTInvalid("JWTs MUST NOT use unencoded payload");let l={payload:(0,i.default)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return"function"==typeof t?{...l,key:s.key}:l}},7082,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.jwtDecrypt=void 0;let n=e.r(37958),i=e.r(74953),a=e.r(86325);r.jwtDecrypt=async function(e,t,r){let o=await (0,n.compactDecrypt)(e,t,r),s=(0,i.default)(o.protectedHeader,o.plaintext,r),{protectedHeader:l}=o;if(void 0!==l.iss&&l.iss!==s.iss)throw new a.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==l.sub&&l.sub!==s.sub)throw new a.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==l.aud&&JSON.stringify(l.aud)!==JSON.stringify(s.aud))throw new a.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");let u={payload:s,protectedHeader:l};return"function"==typeof t?{...u,key:o.key}:u}},89564,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactEncrypt=void 0;let n=e.r(18168);r.CompactEncrypt=class{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},50833,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FlattenedSign=void 0;let n=e.r(14882),i=e.r(13282),a=e.r(78410),o=e.r(86325),s=e.r(979),l=e.r(89875),u=e.r(71322);r.FlattenedSign=class{constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let r;if(!this._protectedHeader&&!this._unprotectedHeader)throw new o.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,a.default)(this._protectedHeader,this._unprotectedHeader))throw new o.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let c={...this._protectedHeader,...this._unprotectedHeader},d=(0,u.default)(o.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,c),f=!0;if(d.has("b64")&&"boolean"!=typeof(f=this._protectedHeader.b64))throw new o.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:p}=c;if("string"!=typeof p||!p)throw new o.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,l.default)(p,e,"sign");let h=this._payload;f&&(h=s.encoder.encode((0,n.encode)(h))),r=this._protectedHeader?s.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):s.encoder.encode("");let m=(0,s.concat)(r,s.encoder.encode("."),h),g=await (0,i.default)(p,e,m),y={signature:(0,n.encode)(g),payload:""};return f&&(y.payload=s.decoder.decode(h)),this._unprotectedHeader&&(y.header=this._unprotectedHeader),this._protectedHeader&&(y.protected=s.decoder.decode(r)),y}}},42430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CompactSign=void 0;let n=e.r(50833);r.CompactSign=class{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let r=await this._flattened.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},21760,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralSign=void 0;let n=e.r(50833),i=e.r(86325);class a{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}r.GeneralSign=class{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){let r=new a(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new i.JWSInvalid("at least one signature must be added");let e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){let r=this._signatures[t],a=new n.FlattenedSign(this._payload);a.setProtectedHeader(r.protectedHeader),a.setUnprotectedHeader(r.unprotectedHeader);let{payload:o,...s}=await a.sign(r.key,r.options);if(0===t)e.payload=o;else if(e.payload!==o)throw new i.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(s)}return e}}},97764,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProduceJWT=void 0;let n=e.r(25417),i=e.r(80275),a=e.r(114);r.ProduceJWT=class{constructor(e){if(!(0,i.default)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:e}:this._payload={...this._payload,nbf:(0,n.default)(new Date)+(0,a.default)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:e}:this._payload={...this._payload,exp:(0,n.default)(new Date)+(0,a.default)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,n.default)(new Date)}:this._payload={...this._payload,iat:e},this}}},25021,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SignJWT=void 0;let n=e.r(42430),i=e.r(86325),a=e.r(979),o=e.r(97764);class s extends o.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;let o=new n.CompactSign(a.encoder.encode(JSON.stringify(this._payload)));if(o.setProtectedHeader(this._protectedHeader),Array.isArray(null==(r=this._protectedHeader)?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");return o.sign(e,t)}}r.SignJWT=s},71181,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EncryptJWT=void 0;let n=e.r(89564),i=e.r(979),a=e.r(97764);class o extends a.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let r=new n.CompactEncrypt(i.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}r.EncryptJWT=o},21518,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=void 0;let n=e.r(39684),i=e.r(14882),a=e.r(86325),o=e.r(979),s=e.r(80275),l=(e,t)=>{if("string"!=typeof e||!e)throw new a.JWKInvalid(`${t} missing or invalid`)};async function u(e,t){let r;if(!(0,s.default)(e))throw TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":l(e.crv,'"crv" (Curve) Parameter'),l(e.x,'"x" (X Coordinate) Parameter'),l(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":l(e.crv,'"crv" (Subtype of Key Pair) Parameter'),l(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":l(e.e,'"e" (Exponent) Parameter'),l(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":l(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new a.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}let u=o.encoder.encode(JSON.stringify(r));return(0,i.encode)(await (0,n.default)(t,u))}r.calculateJwkThumbprint=u,r.calculateJwkThumbprintUri=async function(e,t){null!=t||(t="sha256");let r=await u(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},1853,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EmbeddedJWK=void 0;let n=e.r(9132),i=e.r(80275),a=e.r(86325);r.EmbeddedJWK=async function(e,t){let r={...e,...null==t?void 0:t.header};if(!(0,i.default)(r.jwk))throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let o=await (0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(o instanceof Uint8Array||"public"!==o.type)throw new a.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return o}},13911,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createLocalJWKSet=r.LocalJWKSet=r.isJWKSLike=void 0;let n=e.r(9132),i=e.r(86325),a=e.r(80275);function o(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(s)}function s(e){return(0,a.default)(e)}r.isJWKSLike=o;class l{constructor(e){if(this._cached=new WeakMap,!o(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks=function(e){return"function"==typeof structuredClone?structuredClone(e):JSON.parse(JSON.stringify(e))}(e)}async getKey(e,t){let{alg:r,kid:n}={...e,...null==t?void 0:t.header},a=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new i.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),o=this._jwks.keys.filter(e=>{let t=a===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:s,length:l}=o;if(0===l)throw new i.JWKSNoMatchingKey;if(1!==l){let e=new i.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(let e of o)try{yield await u(t,e,r)}catch{continue}},e}return u(this._cached,s,r)}}async function u(e,t,r){let a=e.get(t)||e.set(t,{}).get(t);if(void 0===a[r]){let e=await (0,n.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new i.JWKSInvalid("JSON Web Key Set members must be public keys");a[r]=e}return a[r]}r.LocalJWKSet=l,r.createLocalJWKSet=function(e){let t=new l(e);return async function(e,r){return t.getKey(e,r)}}},24836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},27699,(e,t,r)=>{t.exports=e.x("events",()=>require("events"))},29863,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(21517),i=e.r(24836),a=e.r(27699),o=e.r(86325),s=e.r(979);r.default=async(e,t,r)=>{let l;switch(e.protocol){case"https:":l=i.get;break;case"http:":l=n.get;break;default:throw TypeError("Unsupported URL protocol.")}let{agent:u,headers:c}=r,d=l(e.href,{agent:u,timeout:t,headers:c}),[f]=await Promise.race([(0,a.once)(d,"response"),(0,a.once)(d,"timeout")]);if(!f)throw d.destroy(),new o.JWKSTimeout;if(200!==f.statusCode)throw new o.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");let p=[];for await(let e of f)p.push(e);try{return JSON.parse(s.decoder.decode((0,s.concat)(...p)))}catch{throw new o.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},76943,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createRemoteJWKSet=void 0;let n=e.r(29863),i=e.r(86325),a=e.r(13911);class o extends a.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof i.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,a.isJWKSLike)(e))throw new i.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}r.createRemoteJWKSet=function(e,t){let r=new o(e,t);return async function(e,t){return r.getKey(e,t)}}},71754,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnsecuredJWT=void 0;let n=e.r(14882),i=e.r(979),a=e.r(86325),o=e.r(74953),s=e.r(97764);class l extends s.ProduceJWT{encode(){let e=n.encode(JSON.stringify({alg:"none"})),t=n.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){let r;if("string"!=typeof e)throw new a.JWTInvalid("Unsecured JWT must be a string");let{0:s,1:l,2:u,length:c}=e.split(".");if(3!==c||""!==u)throw new a.JWTInvalid("Invalid Unsecured JWT");try{if(r=JSON.parse(i.decoder.decode(n.decode(s))),"none"!==r.alg)throw Error()}catch{throw new a.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,o.default)(r,n.decode(l),t),header:r}}}r.UnsecuredJWT=l},48891,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=void 0;let n=e.r(14882);r.encode=n.encode,r.decode=n.decode},80096,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeProtectedHeader=void 0;let n=e.r(48891),i=e.r(979),a=e.r(80275);r.decodeProtectedHeader=function(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(i.decoder.decode((0,n.decode)(t)));if(!(0,a.default)(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}},21953,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeJwt=void 0;let n=e.r(48891),i=e.r(979),a=e.r(80275),o=e.r(86325);r.decodeJwt=function(e){let t,r;if("string"!=typeof e)throw new o.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");let{1:s,length:l}=e.split(".");if(5===l)throw new o.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==l)throw new o.JWTInvalid("Invalid JWT");if(!s)throw new o.JWTInvalid("JWTs must contain a payload");try{t=(0,n.decode)(s)}catch{throw new o.JWTInvalid("Failed to base64url decode the payload")}try{r=JSON.parse(i.decoder.decode(t))}catch{throw new o.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,a.default)(r))throw new o.JWTInvalid("Invalid JWT Claims Set");return r}},58905,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=r.generateSecret=void 0;let n=e.r(54799),i=e.r(24361),a=e.r(69874),o=e.r(64870),s=e.r(86325),l=(0,i.promisify)(n.generateKeyPair);r.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,n.createSecretKey)((0,a.default)(new Uint8Array(r>>3)))},r.generateKeyPair=async function(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{let e=null!=(r=null==t?void 0:t.modulusLength)?r:2048;if("number"!=typeof e||e<2048)throw new s.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");let n=await l("rsa",{modulusLength:e,publicExponent:65537});return(0,o.setModulusLength)(n.privateKey,e),(0,o.setModulusLength)(n.publicKey,e),n}case"ES256":return l("ec",{namedCurve:"P-256"});case"ES256K":return l("ec",{namedCurve:"secp256k1"});case"ES384":return l("ec",{namedCurve:"P-384"});case"ES512":return l("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return l("ed25519");case"Ed448":return l("ed448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":let i=null!=(n=null==t?void 0:t.crv)?n:"P-256";switch(i){case void 0:case"P-256":case"P-384":case"P-521":return l("ec",{namedCurve:i});case"X25519":return l("x25519");case"X448":return l("x448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},17667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateKeyPair=void 0;let n=e.r(58905);r.generateKeyPair=async function(e,t){return(0,n.generateKeyPair)(e,t)}},11404,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateSecret=void 0;let n=e.r(58905);r.generateSecret=async function(e,t){return(0,n.generateSecret)(e,t)}},62948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="node:crypto"},84757,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=e.r(62948).default},43272,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cryptoRuntime=r.base64url=r.generateSecret=r.generateKeyPair=r.errors=r.decodeJwt=r.decodeProtectedHeader=r.importJWK=r.importX509=r.importPKCS8=r.importSPKI=r.exportJWK=r.exportSPKI=r.exportPKCS8=r.UnsecuredJWT=r.createRemoteJWKSet=r.createLocalJWKSet=r.EmbeddedJWK=r.calculateJwkThumbprintUri=r.calculateJwkThumbprint=r.EncryptJWT=r.SignJWT=r.GeneralSign=r.FlattenedSign=r.CompactSign=r.FlattenedEncrypt=r.CompactEncrypt=r.jwtDecrypt=r.jwtVerify=r.generalVerify=r.flattenedVerify=r.compactVerify=r.GeneralEncrypt=r.generalDecrypt=r.flattenedDecrypt=r.compactDecrypt=void 0;var n=e.r(37958);Object.defineProperty(r,"compactDecrypt",{enumerable:!0,get:function(){return n.compactDecrypt}});var i=e.r(21084);Object.defineProperty(r,"flattenedDecrypt",{enumerable:!0,get:function(){return i.flattenedDecrypt}});var a=e.r(2067);Object.defineProperty(r,"generalDecrypt",{enumerable:!0,get:function(){return a.generalDecrypt}});var o=e.r(776);Object.defineProperty(r,"GeneralEncrypt",{enumerable:!0,get:function(){return o.GeneralEncrypt}});var s=e.r(99418);Object.defineProperty(r,"compactVerify",{enumerable:!0,get:function(){return s.compactVerify}});var l=e.r(25693);Object.defineProperty(r,"flattenedVerify",{enumerable:!0,get:function(){return l.flattenedVerify}});var u=e.r(71621);Object.defineProperty(r,"generalVerify",{enumerable:!0,get:function(){return u.generalVerify}});var c=e.r(99697);Object.defineProperty(r,"jwtVerify",{enumerable:!0,get:function(){return c.jwtVerify}});var d=e.r(7082);Object.defineProperty(r,"jwtDecrypt",{enumerable:!0,get:function(){return d.jwtDecrypt}});var f=e.r(89564);Object.defineProperty(r,"CompactEncrypt",{enumerable:!0,get:function(){return f.CompactEncrypt}});var p=e.r(18168);Object.defineProperty(r,"FlattenedEncrypt",{enumerable:!0,get:function(){return p.FlattenedEncrypt}});var h=e.r(42430);Object.defineProperty(r,"CompactSign",{enumerable:!0,get:function(){return h.CompactSign}});var m=e.r(50833);Object.defineProperty(r,"FlattenedSign",{enumerable:!0,get:function(){return m.FlattenedSign}});var g=e.r(21760);Object.defineProperty(r,"GeneralSign",{enumerable:!0,get:function(){return g.GeneralSign}});var y=e.r(25021);Object.defineProperty(r,"SignJWT",{enumerable:!0,get:function(){return y.SignJWT}});var v=e.r(71181);Object.defineProperty(r,"EncryptJWT",{enumerable:!0,get:function(){return v.EncryptJWT}});var _=e.r(21518);Object.defineProperty(r,"calculateJwkThumbprint",{enumerable:!0,get:function(){return _.calculateJwkThumbprint}}),Object.defineProperty(r,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return _.calculateJwkThumbprintUri}});var b=e.r(1853);Object.defineProperty(r,"EmbeddedJWK",{enumerable:!0,get:function(){return b.EmbeddedJWK}});var w=e.r(13911);Object.defineProperty(r,"createLocalJWKSet",{enumerable:!0,get:function(){return w.createLocalJWKSet}});var S=e.r(76943);Object.defineProperty(r,"createRemoteJWKSet",{enumerable:!0,get:function(){return S.createRemoteJWKSet}});var x=e.r(71754);Object.defineProperty(r,"UnsecuredJWT",{enumerable:!0,get:function(){return x.UnsecuredJWT}});var E=e.r(93514);Object.defineProperty(r,"exportPKCS8",{enumerable:!0,get:function(){return E.exportPKCS8}}),Object.defineProperty(r,"exportSPKI",{enumerable:!0,get:function(){return E.exportSPKI}}),Object.defineProperty(r,"exportJWK",{enumerable:!0,get:function(){return E.exportJWK}});var k=e.r(9132);Object.defineProperty(r,"importSPKI",{enumerable:!0,get:function(){return k.importSPKI}}),Object.defineProperty(r,"importPKCS8",{enumerable:!0,get:function(){return k.importPKCS8}}),Object.defineProperty(r,"importX509",{enumerable:!0,get:function(){return k.importX509}}),Object.defineProperty(r,"importJWK",{enumerable:!0,get:function(){return k.importJWK}});var $=e.r(80096);Object.defineProperty(r,"decodeProtectedHeader",{enumerable:!0,get:function(){return $.decodeProtectedHeader}});var O=e.r(21953);Object.defineProperty(r,"decodeJwt",{enumerable:!0,get:function(){return O.decodeJwt}}),r.errors=e.r(86325);var P=e.r(17667);Object.defineProperty(r,"generateKeyPair",{enumerable:!0,get:function(){return P.generateKeyPair}});var T=e.r(11404);Object.defineProperty(r,"generateSecret",{enumerable:!0,get:function(){return T.generateSecret}}),r.base64url=e.r(48891);var I=e.r(84757);Object.defineProperty(r,"cryptoRuntime",{enumerable:!0,get:function(){return I.default}})},75669,(e,t,r)=>{let n,{strict:i}=e.r(49719),{createHash:a}=e.r(54799),{format:o}=e.r(24361);function s(e,t,r){let i=(function(e,t){switch(e){case"HS256":case"RS256":case"PS256":case"ES256":case"ES256K":return a("sha256");case"HS384":case"RS384":case"PS384":case"ES384":return a("sha384");case"HS512":case"RS512":case"PS512":case"ES512":case"Ed25519":return a("sha512");case"Ed448":return a("shake256",{outputLength:114});case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a("shake256",{outputLength:64});case"EdDSA":switch(t){case"Ed25519":return a("sha512");case"Ed448":return a("shake256",{outputLength:114});default:throw TypeError("unrecognized or invalid EdDSA curve provided")}default:throw TypeError("unrecognized or invalid JWS algorithm provided")}})(t,r).update(e).digest();return n(i.slice(0,i.length/2))}n=Buffer.isEncoding("base64url")?e=>e.toString("base64url"):e=>e.toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),t.exports={validate:function(e,t,r,n,a){let l,u;if("string"!=typeof e.claim||!e.claim)throw TypeError("names.claim must be a non-empty string");if("string"!=typeof e.source||!e.source)throw TypeError("names.source must be a non-empty string");i("string"==typeof t&&t,`${e.claim} must be a non-empty string`),i("string"==typeof r&&r,`${e.source} must be a non-empty string`);try{l=s(r,n,a)}catch(t){u=o("%s could not be validated (%s)",e.claim,t.message)}u=u||o("%s mismatch, expected %s, got: %s",e.claim,l,t),i.equal(l,t,u)},generate:s}},44673,(e,t,r)=>{let n=e.r(24361),i=e.r(54799);t.exports=n.types.isKeyObject||(e=>e&&e instanceof i.KeyObject)},40093,(e,t,r)=>{let n;n=Buffer.isEncoding("base64url")?(e,t="utf8")=>Buffer.from(e,t).toString("base64url"):(e,t="utf8")=>Buffer.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),t.exports.decode=e=>Buffer.from(e,"base64"),t.exports.encode=n},1631,(e,t,r)=>{let n=e.r(40093);t.exports=e=>{if("string"!=typeof e||!e)throw TypeError("JWT must be a string");let{0:t,1:r,2:i,length:a}=e.split(".");if(5===a)throw TypeError("encrypted JWTs cannot be decoded");if(3!==a)throw Error("JWTs must have three components");try{return{header:JSON.parse(n.decode(t)),payload:JSON.parse(n.decode(r)),signature:i}}catch(e){throw Error("JWT is malformed")}}},14315,(e,t,r)=>{t.exports=e=>!!e&&e.constructor===Object},85458,(e,t,r)=>{let n=e.r(14315);function i(e,t,...r){for(let a of r)if(n(a))for(let[r,o]of Object.entries(a))"__proto__"!==r&&"constructor"!==r&&(void 0===t[r]&&void 0!==o&&(t[r]=o),e&&n(t[r])&&n(o)&&i(!0,t[r],o));return t}t.exports=i.bind(void 0,!1),t.exports.deep=i.bind(void 0,!0)},25184,(e,t,r)=>{let n=/(\w+)=("[^"]*")/g;t.exports=e=>{let t={};try{for(;null!==n.exec(e);)RegExp.$1&&RegExp.$2&&(t[RegExp.$1]=RegExp.$2.slice(1,-1))}catch(e){}return t}},15947,(e,t,r)=>{t.exports={assertSigningAlgValuesSupport:function(e,t,r){if(!t[`${e}_endpoint`])return;let n=`${e}_endpoint_auth_method`,i=`${e}_endpoint_auth_signing_alg`,a=`${e}_endpoint_auth_signing_alg_values_supported`;if(r[n]&&r[n].endsWith("_jwt")&&!r[i]&&!t[a])throw TypeError(`${a} must be configured on the issuer if ${i} is not defined on a client`)},assertIssuerConfiguration:function(e,t){if(!e[t])throw TypeError(`${t} must be configured on the issuer`)}}},6618,(e,t,r)=>{t.exports=function(e,...t){let r={};for(let n of t)void 0!==e[n]&&(r[n]=e[n]);return r}},28237,(e,t,r)=>{let{STATUS_CODES:n}=e.r(21517),{format:i}=e.r(24361),{OPError:a}=e.r(65585),o=e.r(25184);t.exports=function(e,{statusCode:t=200,body:r=!0,bearer:s=!1}={}){if(e.statusCode!==t){if(s&&(e=>{let t=o(e.headers["www-authenticate"]);if(t.error)throw new a(t,e)})(e),(e=>{let t=!1;try{let r;r="object"!=typeof e.body||Buffer.isBuffer(e.body)?JSON.parse(e.body):e.body,(t="string"==typeof r.error&&r.error.length)&&Object.defineProperty(e,"body",{value:r,configurable:!0})}catch(e){}return t})(e))throw new a(e.body,e);throw new a({error:i("expected %i %s, got: %i %s",t,n[t],e.statusCode,n[e.statusCode])},e)}if(r&&!e.body)throw new a({error:i("expected %i %s with body but no body was returned",t,n[t])},e);return e.body}},49169,(e,t,r)=>{t.exports=()=>Math.floor(Date.now()/1e3)},1773,(e,t,r)=>{let n=e.r(40093),i=e.r(49169);t.exports=class{constructor(e){Object.assign(this,e);const{constructor:t,...r}=Object.getOwnPropertyDescriptors(this.constructor.prototype);Object.defineProperties(this,r)}set expires_in(e){this.expires_at=i()+Number(e)}get expires_in(){return Math.max.apply(null,[this.expires_at-i(),0])}expired(){return 0===this.expires_in}claims(){if(!this.id_token)throw TypeError("id_token not present in TokenSet");return JSON.parse(n.decode(this.id_token.split(".")[1]))}}},50648,(e,t,r)=>{let{createHash:n,randomBytes:i}=e.r(54799),a=e.r(40093),o=(e=32)=>a.encode(i(e));t.exports={random:o,state:o,nonce:o,codeVerifier:o,codeChallenge:e=>a.encode(n("sha256").update(e).digest())}},22229,(e,t,r)=>{"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},76845,(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t,r=0,n=arguments.length;r<n;r++){e=this,t=arguments[r],e.tail=new i(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}return this.length},n.prototype.unshift=function(){for(var e,t,r=0,n=arguments.length;r<n;r++){e=this,t=arguments[r],e.head=new i(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)r.push(a.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)r.push(a.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;null!==a&&n<e;n++)a=a.next;for(var o=[],n=0;a&&n<t;n++)o.push(a.value),a=this.removeNode(a);null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<r.length;n++)a=function(e,t,r){var n=t===e.head?new i(r,null,t,e):new i(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,a,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e.r(22229)(n)}catch(e){}},82718,(e,t,r)=>{"use strict";let n=e.r(76845),i=Symbol("max"),a=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1,m=(e,t,r)=>{let n=e[f].get(t);if(n){let t=n.value;if(g(e,t)){if(v(e,n),!e[s])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},y=e=>{if(e[a]>e[i])for(let t=e[d].tail;e[a]>e[i]&&null!==t;){let r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){let r=t.value;e[u]&&e[u](r.key,r.value),e[a]-=r.length,e[f].delete(r.key),e[d].removeNode(t)}};class _{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let b=(e,t,r,n)=>{let i=r.value;g(e,i)&&(v(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||h;if(this[o]="function"!=typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[o]&&(this[o]=e,this[a]=0,this[d].forEach(e=>{e.length=this[o](e.value,e.key),this[a]+=e.length})),y(this)}get lengthCalculator(){return this[o]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let n=r.prev;b(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let n=r.next;b(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach(e=>this[u](e.key,e.value)),this[f]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,s=this[o](t,e);if(this[f].has(e)){if(s>this[i])return v(this,this[f].get(e)),!1;let o=this[f].get(e).value;return this[u]&&!this[c]&&this[u](e,o.value),o.now=n,o.maxAge=r,o.value=t,this[a]+=s-o.length,o.length=s,this.get(e),y(this),!0}let p=new _(e,t,s,n,r);return p.length>this[i]?(this[u]&&this[u](e,t),!1):(this[a]+=p.length,this[d].unshift(p),this[f].set(e,this[d].head),y(this),!0)}has(e){return!!this[f].has(e)&&!g(this,this[f].get(e).value)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){let e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[f].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach((e,t)=>m(this,t,!1))}}},75096,e=>{e.v({name:"openid-client",version:"5.7.1",description:"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs",keywords:["auth","authentication","basic","certified","client","connect","dynamic","electron","hybrid","identity","implicit","oauth","oauth2","oidc","openid","passport","relying party","strategy"],homepage:"https://github.com/panva/openid-client",repository:"panva/openid-client",funding:{url:"https://github.com/sponsors/panva"},license:"MIT",author:"Filip Skokan <panva.ip@gmail.com>",exports:{types:"./types/index.d.ts",import:"./lib/index.mjs",require:"./lib/index.js"},main:"./lib/index.js",types:"./types/index.d.ts",files:["lib","types/index.d.ts"],scripts:{format:"npx prettier --loglevel silent --write ./lib ./test ./certification ./types",test:"mocha test/**/*.test.js"},dependencies:{jose:"^4.15.9","lru-cache":"^6.0.0","object-hash":"^2.2.0","oidc-token-hash":"^5.0.3"},devDependencies:{"@types/node":"^16.18.106","@types/passport":"^1.0.16",base64url:"^3.0.1",chai:"^4.5.0",mocha:"^10.7.3",nock:"^13.5.5",prettier:"^2.8.8","readable-mock-req":"^0.2.2",sinon:"^9.2.4",timekeeper:"^2.3.1"},"standard-version":{scripts:{postchangelog:"sed -i '' -e 's/### \\[/## [/g' CHANGELOG.md"},types:[{type:"feat",section:"Features"},{type:"fix",section:"Fixes"},{type:"chore",hidden:!0},{type:"docs",hidden:!0},{type:"style",hidden:!0},{type:"refactor",section:"Refactor",hidden:!1},{type:"perf",section:"Performance",hidden:!1},{type:"test",hidden:!0}]}})},29971,(e,t,r)=>{let n=Symbol();t.exports={CLOCK_TOLERANCE:Symbol(),HTTP_OPTIONS:n}},65630,(e,t,r)=>{let n,i=e.r(49719),a=e.r(45706),o=e.r(21517),s=e.r(24836),{once:l}=e.r(27699),{URL:u}=e.r(92509),c=e.r(82718),d=e.r(75096),{RPError:f}=e.r(65585),p=e.r(6618),{deep:h}=e.r(85458),{HTTP_OPTIONS:m}=e.r(29971),g=/^[\x21\x23-\x5B\x5D-\x7E]+$/,y=["agent","ca","cert","crl","headers","key","lookup","passphrase","pfx","timeout"],v=(e,t)=>{n=h({},e.length?p(t,...e):t,n)};function _(e,t,r){r&&(e.removeHeader("content-type"),e.setHeader("content-type",r)),t&&(e.removeHeader("content-length"),e.setHeader("content-length",Buffer.byteLength(t)),e.write(t)),e.end()}v([],{headers:{"User-Agent":`${d.name}/${d.version} (${d.homepage})`,"Accept-Encoding":"identity"},timeout:3500});let b=new c({max:100});t.exports=async function(e,{accessToken:t,mTLS:r=!1,DPoP:c}={}){let d,v,w,S,x,E,k;try{d=new u(e.url),delete e.url,i(/^(https?:)$/.test(d.protocol))}catch(e){throw TypeError("only valid absolute URLs can be requested")}let $=this[m],O=e,P=`${d.origin}${d.pathname}`;if(c&&"dpopProof"in this&&(O.headers=O.headers||{},O.headers.DPoP=await this.dpopProof({htu:`${d.origin}${d.pathname}`,htm:e.method||"GET",nonce:b.get(P)},c,t)),$&&(v=p($.call(this,d,h({},O,n)),...y)),O=h({},v,O,n),r&&!O.pfx&&!(O.key&&O.cert))throw TypeError("mutual-TLS certificate and key not set");if(O.searchParams)for(let[e,t]of Object.entries(O.searchParams))d.searchParams.delete(e),d.searchParams.set(e,t);for(let[e,t]of({form:S,responseType:w,json:x,body:E,...O}=O,Object.entries(O.headers||{})))void 0===t&&delete O.headers[e];let T=("https:"===d.protocol?s.request:o.request)(d.href,O);return(async()=>{if(x?_(T,JSON.stringify(x),"application/json"):S?_(T,a.stringify(S),"application/x-www-form-urlencoded"):E?_(T,E):_(T),[k]=await Promise.race([l(T,"response"),l(T,"timeout")]),!k)throw T.destroy(),new f(`outgoing request timed out after ${O.timeout}ms`);let e=[];for await(let t of k)e.push(t);if(e.length)switch(w){case"json":Object.defineProperty(k,"body",{get(){let t=Buffer.concat(e);try{t=JSON.parse(t)}catch(e){throw Object.defineProperty(e,"response",{value:k}),e}finally{Object.defineProperty(k,"body",{value:t,configurable:!0})}return t},configurable:!0});break;case void 0:case"buffer":Object.defineProperty(k,"body",{get(){let t=Buffer.concat(e);return Object.defineProperty(k,"body",{value:t,configurable:!0}),t},configurable:!0});break;default:throw TypeError("unsupported responseType request option")}return k})().catch(e=>{throw k&&Object.defineProperty(e,"response",{value:k}),e}).finally(()=>{let e=k&&k.headers["dpop-nonce"];e&&g.test(e)&&b.set(P,e)})},t.exports.setDefaults=v.bind(void 0,y)},20242,(e,t,r)=>{t.exports.keystores=new WeakMap},35325,(e,t,r)=>{t.exports=globalThis.structuredClone||(e=>JSON.parse(JSON.stringify(e)))},95789,(e,t,r)=>{let n=e.r(43272),i=e.r(35325),a=e.r(14315),o=Symbol(),s=(e,{alg:t,use:r})=>{let n=0;return t&&e.alg&&n++,r&&e.use&&n++,n};t.exports=class{#e;constructor(e,t){if(e!==o)throw Error("invalid constructor call");this.#e=t}toJWKS(){return{keys:this.map(({jwk:{d:e,p:t,q:r,dp:n,dq:i,qi:a,...o}})=>o)}}all({alg:e,kid:t,use:r}={}){if(!r||!e)throw Error();let n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:return}}(e),i={alg:e,use:r};return this.filter(i=>{let a=!0;return void 0!==n&&i.jwk.kty!==n&&(a=!1),a&&void 0!==t&&i.jwk.kid!==t&&(a=!1),a&&void 0!==r&&void 0!==i.jwk.use&&i.jwk.use!==r&&(a=!1),a&&i.jwk.alg&&i.jwk.alg!==e?a=!1:i.algorithms.has(e)||(a=!1),a}).sort((e,t)=>s(t,i)-s(e,i))}get(...e){return this.all(...e)[0]}static async fromJWKS(e,{onlyPublic:t=!1,onlyPrivate:r=!1}={}){if(!a(e)||!Array.isArray(e.keys)||e.keys.some(e=>!a(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");let s=[];for(let a of e.keys){let{kty:e,kid:o,crv:l}=a=i(a),{alg:u,use:c}=a;if("string"==typeof e&&e&&(void 0===c||"sig"===c||"enc"===c)&&("string"==typeof u||void 0===u)&&("string"==typeof o||void 0===o)){if("EC"===e&&"sig"===c)switch(l){case"P-256":u="ES256";break;case"P-384":u="ES384";break;case"P-521":u="ES512"}if("secp256k1"===l&&(c="sig",u="ES256K"),"OKP"===e)switch(l){case"Ed25519":case"Ed448":c="sig",u="EdDSA";break;case"X25519":case"X448":c="enc"}if(u&&!c)switch(!0){case u.startsWith("ECDH"):case u.startsWith("RSA"):c="enc"}if(r&&("oct"===a.kty||!a.d))throw Error("jwks must only contain private keys");t&&(a.d||a.k)||s.push({jwk:{...a,alg:u,use:c},async keyObject(e){if(this[e])return this[e];let t=await n.importJWK(this.jwk,e);return this[e]=t,t},get algorithms(){return Object.defineProperty(this,"algorithms",{value:function(e,t,r,i){if(t)return new Set([t]);switch(r){case"EC":{let t=[];if(("enc"===e||void 0===e)&&(t=t.concat(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])),"sig"===e||void 0===e)switch(i){case"P-256":case"P-384":t=t.concat([`ES${i.slice(-3)}`]);break;case"P-521":t=t.concat(["ES512"]);break;case"secp256k1":"node:crypto"===n.cryptoRuntime&&(t=t.concat(["ES256K"]))}return new Set(t)}case"OKP":return new Set(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"]);case"RSA":{let t=[];return("enc"===e||void 0===e)&&(t=t.concat(["RSA-OAEP","RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"]),"node:crypto"===n.cryptoRuntime&&(t=t.concat(["RSA1_5"]))),("sig"===e||void 0===e)&&(t=t.concat(["PS256","PS384","PS512","RS256","RS384","RS512"])),new Set(t)}default:throw Error("unreachable")}}(this.jwk.use,this.jwk.alg,this.jwk.kty,this.jwk.crv),enumerable:!0,configurable:!1}),this.algorithms}})}}return new this(o,s)}filter(...e){return this.#e.filter(...e)}find(...e){return this.#e.find(...e)}every(...e){return this.#e.every(...e)}some(...e){return this.#e.some(...e)}map(...e){return this.#e.map(...e)}forEach(...e){return this.#e.forEach(...e)}reduce(...e){return this.#e.reduce(...e)}sort(...e){return this.#e.sort(...e)}*[Symbol.iterator](){for(let e of this.#e)yield e}}},66073,(e,t,r)=>{let n=e.r(14315);t.exports=function e(t,...r){for(let i of r)if(n(i))for(let[r,a]of Object.entries(i))"__proto__"!==r&&"constructor"!==r&&(n(t[r])&&n(a)?t[r]=e(t[r],a):void 0!==a&&(t[r]=a));return t}},98991,(e,t,r)=>{let n=e.r(43272),{RPError:i}=e.r(65585),{assertIssuerConfiguration:a}=e.r(15947),{random:o}=e.r(50648),s=e.r(49169),l=e.r(65630),{keystores:u}=e.r(20242),c=e.r(66073),d=e=>encodeURIComponent(e).replace(/%20/g,"+");async function f(e,t){let r=this[`${e}_endpoint_auth_signing_alg`];if(r||a(this.issuer,`${e}_endpoint_auth_signing_alg_values_supported`),"client_secret_jwt"===this[`${e}_endpoint_auth_method`]){if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>/^HS(?:256|384|512)/.test(e))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r}).sign(this.secretForAlg(r))}let o=await u.get(this);if(!o)throw TypeError("no client jwks provided for signing a client assertion with");if(!r){let t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find(e=>o.get({alg:e,use:"sig"}))}if(!r)throw new i(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);let s=o.get({alg:r,use:"sig"});if(!s)throw new i(`no key found in client jwks to sign a client assertion with using alg ${r}`);return new n.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r,kid:s.jwk&&s.jwk.kid}).sign(await s.keyObject(r))}async function p(e,{clientAssertionPayload:t}={}){switch(this[`${e}_endpoint_auth_method`]){case"self_signed_tls_client_auth":case"tls_client_auth":case"none":return{form:{client_id:this.client_id}};case"client_secret_post":if("string"!=typeof this.client_secret)throw TypeError("client_secret_post client authentication method requires a client_secret");return{form:{client_id:this.client_id,client_secret:this.client_secret}};case"private_key_jwt":case"client_secret_jwt":{let r=s(),n=await f.call(this,e,{iat:r,exp:r+60,jti:o(),iss:this.client_id,sub:this.client_id,aud:this.issuer.issuer,...t});return{form:{client_id:this.client_id,client_assertion:n,client_assertion_type:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}}}case"client_secret_basic":{if("string"!=typeof this.client_secret)throw TypeError("client_secret_basic client authentication method requires a client_secret");let e=`${d(this.client_id)}:${d(this.client_secret)}`,t=Buffer.from(e).toString("base64");return{headers:{Authorization:`Basic ${t}`}}}default:throw TypeError(`missing, or unsupported, ${e}_endpoint_auth_method`)}}async function h(e,t,{clientAssertionPayload:r,endpointAuthMethod:n=e,DPoP:i}={}){let a,o=c(t,await p.call(this,n,{clientAssertionPayload:r})),s=this[`${n}_endpoint_auth_method`].includes("tls_client_auth")||"token"===e&&this.tls_client_certificate_bound_access_tokens;if(s&&this.issuer.mtls_endpoint_aliases&&(a=this.issuer.mtls_endpoint_aliases[`${e}_endpoint`]),a=a||this.issuer[`${e}_endpoint`],"form"in o)for(let[e,t]of Object.entries(o.form))void 0===t&&delete o.form[e];return l.call(this,{...o,method:"POST",url:a,headers:{..."revocation"!==e?{Accept:"application/json"}:void 0,...o.headers}},{mTLS:s,DPoP:i})}t.exports={resolveResponseType:function(){let{length:e,0:t}=this.response_types;if(1===e)return t},resolveRedirectUri:function(){let{length:e,0:t}=this.redirect_uris||[];if(1===e)return t},authFor:p,authenticatedPost:h}},3338,(e,t,r)=>{"use strict";var n=e.r(54799);function i(e,t){return t=s(e,t),function(e,t){if(void 0===(r="passthrough"!==t.algorithm?n.createHash(t.algorithm):new c).write&&(r.write=r.update,r.end=r.update),u(t,r).dispatch(e),r.update||r.end(""),r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var r,i=r.read();return"buffer"===t.encoding?i:i.toString(t.encoding)}(e,t)}(r=t.exports=i).sha1=function(e){return i(e)},r.keys=function(e){return i(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(e){return i(e,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(e){return i(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var a=n.getHashes?n.getHashes().slice():["sha1","md5"];a.push("passthrough");var o=["buffer","hex","binary","base64"];function s(e,t){var r={};if(r.algorithm=(t=t||{}).algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw Error("Object argument required.");for(var n=0;n<a.length;++n)a[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=a[n]);if(-1===a.indexOf(r.algorithm))throw Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+a.join(", "));if(-1===o.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw Error('Encoding "'+r.encoding+'"  not supported. supported values: '+o.join(", "));return r}function l(e){return"function"==typeof e&&null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function u(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return{dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var i=Object.prototype.toString.call(t),a=/\[object (.*)\]/i.exec(i);a=(a=a?a[1]:"unknown:["+i+"]").toLowerCase();var o=null;if((o=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+o+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"!==a&&"function"!==a&&"asyncfunction"!==a)if(this["_"+a])this["_"+a](t);else if(e.ignoreUnknown)return n("["+a+"]");else throw Error('Unknown object type "'+a+'"');else{var s=Object.keys(t);e.unorderedObjects&&(s=s.sort()),!1===e.respectType||l(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter(function(t){return!e.excludeKeys(t)})),n("object:"+s.length+":");var u=this;return s.forEach(function(r){u.dispatch(r),n(":"),e.excludeValues||u.dispatch(t[r]),n(",")})}},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var a=this;if(n("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return a.dispatch(e)});var o=[],s=t.map(function(t){var n=new c,i=r.slice();return u(e,n,i).dispatch(t),o=o.concat(i.slice(r.length)),n.read().toString()});return r=r.concat(o),s.sort(),this._array(s,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString())},_function:function(t){n("fn:"),l(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString(),"utf8")},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function c(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}r.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),u(t=s(e,t),r).dispatch(e)}},28886,(e,t,r)=>{let n=e.r(3338),i=e.r(82718),{RPError:a}=e.r(65585),{assertIssuerConfiguration:o}=e.r(15947),s=e.r(95789),{keystores:l}=e.r(20242),u=e.r(28237),c=e.r(65630),d=new WeakMap,f=new WeakMap,p=e=>(f.has(e)||f.set(e,new i({max:100})),f.get(e));async function h(e=!1){o(this,"jwks_uri");let t=l.get(this),r=p(this);return e||!t?(d.has(this)||(r.reset(),d.set(this,(async()=>{let e=u(await c.call(this,{method:"GET",responseType:"json",url:this.jwks_uri,headers:{Accept:"application/json, application/jwk-set+json"}}).finally(()=>{d.delete(this)})),t=s.fromJWKS(e,{onlyPublic:!0});return r.set("throttle",!0,6e4),l.set(this,t),t})())),d.get(this)):t}async function m({kid:e,kty:t,alg:r,use:i},{allowMulti:o=!1}={}){let s=p(this),l={kid:e,kty:t,alg:r,use:i},u=n(l,{algorithm:"sha256",ignoreUnknown:!0,unorderedArrays:!0,unorderedSets:!0,respectType:!1}),c=s.get(u)||s.get("throttle"),d=await h.call(this,!c),f=d.all(l);if(delete l.use,0===f.length)throw new a({printf:["no valid key found in issuer's jwks_uri for key parameters %j",l],jwks:d});if(!o&&f.length>1&&!e)throw new a({printf:["multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case",l],jwks:d});return s.set(u,!0),f}t.exports.queryKeyStore=m,t.exports.keystore=h},38254,(e,t,r)=>{let{inspect:n}=e.r(24361),{RPError:i,OPError:a}=e.r(65585),o=e.r(49169);class s{#t;#r;#n;#i;#a;#o;#s;#l;#u;constructor({client:e,exchangeBody:t,clientAssertionPayload:r,response:n,maxAge:a,DPoP:s}){if(["verification_uri","user_code","device_code"].forEach(e=>{if("string"!=typeof n[e]||!n[e])throw new i(`expected ${e} string to be returned by Device Authorization Response, got %j`,n[e])}),!Number.isSafeInteger(n.expires_in))throw new i("expected expires_in number to be returned by Device Authorization Response, got %j",n.expires_in);this.#o=o()+n.expires_in,this.#r=e,this.#i=s,this.#l=a,this.#a=t,this.#n=r,this.#u=n,this.#s=1e3*n.interval||5e3}abort(){this.#t=!0}async poll({signal:e}={}){let t;if(e&&e.aborted||this.#t)throw new i("polling aborted");if(this.expired())throw new i("the device code %j has expired and the device authorization session has concluded",this.device_code);await new Promise(e=>setTimeout(e,this.#s));try{t=await this.#r.grant({...this.#a,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:this.device_code},{clientAssertionPayload:this.#n,DPoP:this.#i})}catch(t){switch(t instanceof a&&t.error){case"slow_down":this.#s+=5e3;case"authorization_pending":return this.poll({signal:e});default:throw t}}return"id_token"in t&&(await this.#r.decryptIdToken(t),await this.#r.validateIdToken(t,void 0,"token",this.#l)),t}get device_code(){return this.#u.device_code}get user_code(){return this.#u.user_code}get verification_uri(){return this.#u.verification_uri}get verification_uri_complete(){return this.#u.verification_uri_complete}get expires_in(){return Math.max.apply(null,[this.#o-o(),0])}expired(){return 0===this.expires_in}[n.custom](){return`${this.constructor.name} ${n(this.#u,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}t.exports=s},21629,(e,t,r)=>{let n,{inspect:i}=e.r(24361),a=e.r(21517),o=e.r(54799),{strict:s}=e.r(49719),l=e.r(45706),u=e.r(92509),{URL:c,URLSearchParams:d}=e.r(92509),f=e.r(43272),p=e.r(75669),h=e.r(44673),m=e.r(1631),g=e.r(40093),y=e.r(85458),v=e.r(25184),{assertSigningAlgValuesSupport:_,assertIssuerConfiguration:b}=e.r(15947),w=e.r(6618),S=e.r(14315),x=e.r(28237),E=e.r(1773),{OPError:k,RPError:$}=e.r(65585),O=e.r(49169),{random:P}=e.r(50648),T=e.r(65630),{CLOCK_TOLERANCE:I}=e.r(29971),{keystores:A}=e.r(20242),j=e.r(95789),N=e.r(35325),{authenticatedPost:C,resolveResponseType:R,resolveRedirectUri:D}=e.r(98991),{queryKeyStore:U}=e.r(28886),M=e.r(38254),[z,L]=process.version.slice(1).split(".").map(e=>parseInt(e,10)),J=z>=17||16===z&&L>=9,B=Symbol(),W=Symbol(),H=Symbol();function q(e){return w(e,"access_token","code","error_description","error_uri","error","expires_in","id_token","iss","response","session_state","state","token_type")}function Z(e,t="Bearer"){return`${t} ${e}`}function F(e){let t=u.parse(e);return t.search?l.parse(t.search.substring(1)):{}}function K(e,t,r){if(void 0===e[r])throw new $({message:`missing required JWT property ${r}`,jwt:t})}function V(e){let t={client_id:this.client_id,scope:"openid",response_type:R.call(this),redirect_uri:D.call(this),...e};return Object.entries(t).forEach(([e,r])=>{null==r?delete t[e]:"claims"===e&&"object"==typeof r?t[e]=JSON.stringify(r):"resource"===e&&Array.isArray(r)?t[e]=r:"string"!=typeof r&&(t[e]=String(r))}),t}function G(e){if(!S(e)||!Array.isArray(e.keys)||e.keys.some(e=>!S(e)||!("kty"in e)))throw TypeError("jwks must be a JSON Web Key Set formatted object");return j.fromJWKS(e,{onlyPrivate:!0})}class Q{#c;#d;#f;#p;constructor(e,t,r={},n,i){if(this.#c=new Map,this.#d=e,this.#f=t,"string"!=typeof r.client_id||!r.client_id)throw TypeError("client_id is required");const a={grant_types:["authorization_code"],id_token_signed_response_alg:"RS256",authorization_signed_response_alg:"RS256",response_types:["code"],token_endpoint_auth_method:"client_secret_basic",...this.fapi1()?{grant_types:["authorization_code","implicit"],id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",response_types:["code id_token"],tls_client_certificate_bound_access_tokens:!0,token_endpoint_auth_method:void 0}:void 0,...this.fapi2()?{id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",token_endpoint_auth_method:void 0}:void 0,...r};if(this.fapi())switch(a.token_endpoint_auth_method){case"self_signed_tls_client_auth":case"tls_client_auth":break;case"private_key_jwt":if(!n)throw TypeError("jwks is required");break;case void 0:throw TypeError("token_endpoint_auth_method is required");default:throw TypeError("invalid or unsupported token_endpoint_auth_method")}if(this.fapi2()&&(a.tls_client_certificate_bound_access_tokens&&a.dpop_bound_access_tokens||!a.tls_client_certificate_bound_access_tokens&&!a.dpop_bound_access_tokens))throw TypeError("either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true");if(!function(e,t,r){if(t.token_endpoint_auth_method||function(e,t){try{let r=e.issuer.token_endpoint_auth_methods_supported;!r.includes(t.token_endpoint_auth_method)&&r.includes("client_secret_post")&&(t.token_endpoint_auth_method="client_secret_post")}catch(e){}}(e,r),t.redirect_uri){if(t.redirect_uris)throw TypeError("provide a redirect_uri or redirect_uris, not both");r.redirect_uris=[t.redirect_uri],delete r.redirect_uri}if(t.response_type){if(t.response_types)throw TypeError("provide a response_type or response_types, not both");r.response_types=[t.response_type],delete r.response_type}}(this,r,a),_("token",this.issuer,a),["introspection","revocation"].forEach(e=>{!function(e,t,r){if(!t[`${e}_endpoint`])return;let n=r.token_endpoint_auth_method,i=r.token_endpoint_auth_signing_alg,a=`${e}_endpoint_auth_method`,o=`${e}_endpoint_auth_signing_alg`;void 0===r[a]&&void 0===r[o]&&(void 0!==n&&(r[a]=n),void 0!==i&&(r[o]=i))}(e,this.issuer,a),_(e,this.issuer,a)}),Object.entries(a).forEach(([e,t])=>{this.#c.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#c.get(e)},enumerable:!0})}),void 0!==n){const e=G.call(this,n);A.set(this,e)}null!=i&&i.additionalAuthorizedParties&&(this.#p=N(i.additionalAuthorizedParties)),this[I]=0}authorizationUrl(e={}){if(!S(e))throw TypeError("params must be a plain object");b(this.issuer,"authorization_endpoint");let t=new c(this.issuer.authorization_endpoint);for(let[r,n]of Object.entries(V.call(this,e)))if(Array.isArray(n))for(let e of(t.searchParams.delete(r),n))t.searchParams.append(r,e);else t.searchParams.set(r,n);return t.href.replace(/\+/g,"%20")}authorizationPost(e={}){if(!S(e))throw TypeError("params must be a plain object");let t=V.call(this,e),r=Object.keys(t).map(e=>`<input type="hidden" name="${e}" value="${t[e]}"/>`).join("\n");return`<!DOCTYPE html>
<head>
<title>Requesting Authorization</title>
</head>
<body onload="javascript:document.forms[0].submit()">
<form method="post" action="${this.issuer.authorization_endpoint}">
  ${r}
</form>
</body>
</html>`}endSessionUrl(e={}){let t;b(this.issuer,"end_session_endpoint");let{0:r,length:n}=this.post_logout_redirect_uris||[],{post_logout_redirect_uri:i=1===n?r:void 0}=e;if({id_token_hint:t,...e}=e,t instanceof E){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let a=u.parse(this.issuer.end_session_endpoint),o=y(F(this.issuer.end_session_endpoint),e,{post_logout_redirect_uri:i,client_id:this.client_id},{id_token_hint:t});return Object.entries(o).forEach(([e,t])=>{null==t&&delete o[e]}),a.search=null,a.query=o,u.format(a)}callbackParams(e){let t=e instanceof a.IncomingMessage||e&&e.method&&e.url;if("string"!=typeof e&&!t)throw TypeError("#callbackParams only accepts string urls, http.IncomingMessage or a lookalike");if(!t)return q(F(e));switch(e.method){case"GET":return q(F(e.url));case"POST":if(void 0===e.body)throw TypeError("incoming message body missing, include a body parser prior to this method call");switch(typeof e.body){case"object":case"string":if(Buffer.isBuffer(e.body))return q(l.parse(e.body.toString("utf-8")));if("string"==typeof e.body)return q(l.parse(e.body));return q(e.body);default:throw TypeError("invalid IncomingMessage body object")}default:throw TypeError("invalid IncomingMessage method")}}async callback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:a}={}){let o=q(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(o.response);o=await this.validateJARM(e)}}else throw new $({message:"expected a JARM response",checks:r,params:o});if(this.default_max_age&&!r.max_age&&(r.max_age=this.default_max_age),o.state&&!r.state)throw TypeError("checks.state argument is missing");if(!o.state&&r.state)throw new $({message:"state missing from the response",checks:r,params:o});if(r.state!==o.state)throw new $({printf:["state mismatch, expected %s, got: %s",r.state,o.state],checks:r,params:o});if("iss"in o){if(b(this.issuer,"issuer"),o.iss!==this.issuer.issuer)throw new $({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,o.iss],params:o})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in o)&&!("response"in t))throw new $({message:"iss missing from the response",params:o});if(o.error)throw new k(o);let s={code:["code"],id_token:["id_token"],token:["access_token","token_type"]};if(r.response_type){for(let e of r.response_type.split(" "))if("none"===e){if(o.code||o.id_token||o.access_token)throw new $({message:'unexpected params encountered for "none" response',checks:r,params:o})}else for(let t of s[e])if(!o[t])throw new $({message:`${t} missing from response`,checks:r,params:o})}if(o.id_token){let e=new E(o);if(await this.decryptIdToken(e),await this.validateIdToken(e,r.nonce,"authorization",r.max_age,r.state),!o.code)return e}if(o.code){let t=await this.grant({...n,grant_type:"authorization_code",code:o.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:a});return await this.decryptIdToken(t),await this.validateIdToken(t,r.nonce,"token",r.max_age),o.session_state&&(t.session_state=o.session_state),t}return new E(o)}async oauthCallback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:a}={}){let o=q(t);if(!r.jarm||"response"in t){if("response"in t){let e=await this.decryptJARM(o.response);o=await this.validateJARM(e)}}else throw new $({message:"expected a JARM response",checks:r,params:o});if(o.state&&!r.state)throw TypeError("checks.state argument is missing");if(!o.state&&r.state)throw new $({message:"state missing from the response",checks:r,params:o});if(r.state!==o.state)throw new $({printf:["state mismatch, expected %s, got: %s",r.state,o.state],checks:r,params:o});if("iss"in o){if(b(this.issuer,"issuer"),o.iss!==this.issuer.issuer)throw new $({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,o.iss],params:o})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in o)&&!("response"in t))throw new $({message:"iss missing from the response",params:o});if(o.error)throw new k(o);if("string"==typeof o.id_token&&o.id_token.length)throw new $({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:o});delete o.id_token;let s={code:["code"],token:["access_token","token_type"]};if(r.response_type)for(let e of r.response_type.split(" ")){if("none"===e&&(o.code||o.id_token||o.access_token))throw new $({message:'unexpected params encountered for "none" response',checks:r,params:o});if(s[e]){for(let t of s[e])if(!o[t])throw new $({message:`${t} missing from response`,checks:r,params:o})}}if(o.code){let t=await this.grant({...n,grant_type:"authorization_code",code:o.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:a});if("string"==typeof t.id_token&&t.id_token.length)throw new $({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:o});return delete t.id_token,t}return new E(o)}async decryptIdToken(e){if(!this.id_token_encrypted_response_alg)return e;let t=e;if(t instanceof E){if(!t.id_token)throw TypeError("id_token not present in TokenSet");t=t.id_token}let r=this.id_token_encrypted_response_alg,n=this.id_token_encrypted_response_enc,i=await this.decryptJWE(t,r,n);return e instanceof E?(e.id_token=i,e):i}async validateJWTUserinfo(e){let t=this.userinfo_signed_response_alg;return this.validateJWT(e,t,[])}async decryptJARM(e){if(!this.authorization_encrypted_response_alg)return e;let t=this.authorization_encrypted_response_alg,r=this.authorization_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWTUserinfo(e){if(!this.userinfo_encrypted_response_alg)return e;let t=this.userinfo_encrypted_response_alg,r=this.userinfo_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWE(e,t,r="A128CBC-HS256"){let n,i=JSON.parse(g.decode(e.split(".")[0]));if(i.alg!==t)throw new $({printf:["unexpected JWE alg received, expected %s, got: %s",t,i.alg],jwt:e});if(i.enc!==r)throw new $({printf:["unexpected JWE enc received, expected %s, got: %s",r,i.enc],jwt:e});let a=e=>new TextDecoder().decode(e.plaintext);if(t.match(/^(?:RSA|ECDH)/)){let t=await A.get(this),r=f.decodeProtectedHeader(e);for(let i of t.all({...r,use:"enc"}))if(n=await f.compactDecrypt(e,await i.keyObject(r.alg)).then(a,()=>{}))break}else n=await f.compactDecrypt(e,this.secretForAlg("dir"===t?r:t)).then(a,()=>{});if(!n)throw new $({message:"failed to decrypt JWE",jwt:e});return n}async validateIdToken(e,t,r,n,i){let a=e,o=this.id_token_signed_response_alg;if(a instanceof E){if(!a.id_token)throw TypeError("id_token not present in TokenSet");a=a.id_token}a=String(a);let s=O(),{protected:l,payload:u,key:c}=await this.validateJWT(a,o);if("number"==typeof n||n!==H&&this.require_auth_time){if(!u.auth_time)throw new $({message:"missing required JWT property auth_time",jwt:a});if("number"!=typeof u.auth_time)throw new $({message:"JWT auth_time claim must be a JSON numeric value",jwt:a})}if("number"==typeof n&&u.auth_time+n<s-this[I])throw new $({printf:["too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i",n,u.auth_time,s-this[I]],now:s,tolerance:this[I],auth_time:u.auth_time,jwt:a});if(t!==W&&(u.nonce||void 0!==t)&&u.nonce!==t)throw new $({printf:["nonce mismatch, expected %s, got: %s",t,u.nonce],jwt:a});if("authorization"===r){if(!u.at_hash&&e.access_token)throw new $({message:"missing required property at_hash",jwt:a});if(!u.c_hash&&e.code)throw new $({message:"missing required property c_hash",jwt:a});if(this.fapi1()&&!u.s_hash&&(e.state||i))throw new $({message:"missing required property s_hash",jwt:a});if(u.s_hash){if(!i)throw TypeError('cannot verify s_hash, "checks.state" property not provided');try{p.validate({claim:"s_hash",source:"state"},u.s_hash,i,l.alg,c.jwk&&c.jwk.crv)}catch(e){throw new $({message:e.message,jwt:a})}}}if(this.fapi()&&u.iat<s-3600)throw new $({printf:["JWT issued too far in the past, now %i, iat %i",s,u.iat],now:s,tolerance:this[I],iat:u.iat,jwt:a});if(e.access_token&&void 0!==u.at_hash)try{p.validate({claim:"at_hash",source:"access_token"},u.at_hash,e.access_token,l.alg,c.jwk&&c.jwk.crv)}catch(e){throw new $({message:e.message,jwt:a})}if(e.code&&void 0!==u.c_hash)try{p.validate({claim:"c_hash",source:"code"},u.c_hash,e.code,l.alg,c.jwk&&c.jwk.crv)}catch(e){throw new $({message:e.message,jwt:a})}return e}async validateJWT(e,t,r=["iss","sub","aud","exp","iat"]){let n,i,a,o="https://self-issued.me"===this.issuer.issuer,l=O();try{({header:n,payload:i}=m(e,{complete:!0}))}catch(t){throw new $({printf:["failed to decode JWT (%s: %s)",t.name,t.message],jwt:e})}if(n.alg!==t)throw new $({printf:["unexpected JWT alg received, expected %s, got: %s",t,n.alg],jwt:e});if(o&&(r=[...r,"sub_jwk"]),r.forEach(K.bind(void 0,i,e)),void 0!==i.iss){let t=this.issuer.issuer;if(this.#f&&(t=this.issuer.issuer.replace("{tenantid}",i.tid)),i.iss!==t)throw new $({printf:["unexpected iss value, expected %s, got: %s",t,i.iss],jwt:e})}if(void 0!==i.iat&&"number"!=typeof i.iat)throw new $({message:"JWT iat claim must be a JSON numeric value",jwt:e});if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new $({message:"JWT nbf claim must be a JSON numeric value",jwt:e});if(i.nbf>l+this[I])throw new $({printf:["JWT not active yet, now %i, nbf %i",l+this[I],i.nbf],now:l,tolerance:this[I],nbf:i.nbf,jwt:e})}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new $({message:"JWT exp claim must be a JSON numeric value",jwt:e});if(l-this[I]>=i.exp)throw new $({printf:["JWT expired, now %i, exp %i",l-this[I],i.exp],now:l,tolerance:this[I],exp:i.exp,jwt:e})}if(void 0!==i.aud){if(Array.isArray(i.aud)){if(i.aud.length>1&&!i.azp)throw new $({message:"missing required JWT property azp",jwt:e});if(!i.aud.includes(this.client_id))throw new $({printf:["aud is missing the client_id, expected %s to be included in %j",this.client_id,i.aud],jwt:e})}else if(i.aud!==this.client_id)throw new $({printf:["aud mismatch, expected %s, got: %s",this.client_id,i.aud],jwt:e})}if(void 0!==i.azp){let t=this.#p;if(!(t="string"==typeof t?[this.client_id,t]:Array.isArray(t)?[this.client_id,...t]:[this.client_id]).includes(i.azp))throw new $({printf:["azp mismatch, got: %s",i.azp],jwt:e})}if(o){try{s(S(i.sub_jwk));let e=await f.importJWK(i.sub_jwk,n.alg);s.equal(e.type,"public"),a=[{keyObject:()=>e}]}catch(t){throw new $({message:"failed to use sub_jwk claim as an asymmetric JSON Web Key",jwt:e})}if(await f.calculateJwkThumbprint(i.sub_jwk)!==i.sub)throw new $({message:"failed to match the subject with sub_jwk",jwt:e})}else n.alg.startsWith("HS")?a=[this.secretForAlg(n.alg)]:"none"!==n.alg&&(a=await U.call(this.issuer,{...n,use:"sig"}));if(!a&&"none"===n.alg)return{protected:n,payload:i};for(let t of a){let r=await f.compactVerify(e,t instanceof Uint8Array?t:await t.keyObject(n.alg)).catch(()=>{});if(r)return{payload:i,protected:r.protectedHeader,key:t}}throw new $({message:"failed to validate JWT signature",jwt:e})}async refresh(e,{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){let i=e;if(i instanceof E){if(!i.refresh_token)throw TypeError("refresh_token not present in TokenSet");i=i.refresh_token}let a=await this.grant({...t,grant_type:"refresh_token",refresh_token:String(i)},{clientAssertionPayload:r,DPoP:n});if(a.id_token&&(await this.decryptIdToken(a),await this.validateIdToken(a,W,"token",H),e instanceof E&&e.id_token)){let t=e.claims().sub,r=a.claims().sub;if(r!==t)throw new $({printf:["sub mismatch, expected %s, got: %s",t,r],jwt:a.id_token})}return a}async requestResource(e,t,{method:r,headers:n,body:i,DPoP:a,tokenType:o=a?"DPoP":t instanceof E?t.token_type:"Bearer"}={},s){if(t instanceof E){if(!t.access_token)throw TypeError("access_token not present in TokenSet");t=t.access_token}if(t){if("string"!=typeof t)throw TypeError("invalid access token provided")}else throw TypeError("no access token provided");let l={headers:{Authorization:Z(t,o),...n},body:i},u=!!this.tls_client_certificate_bound_access_tokens,c=await T.call(this,{...l,responseType:"buffer",method:r,url:e},{accessToken:t,mTLS:u,DPoP:a}),d=c.headers["www-authenticate"];return s!==B&&d&&d.toLowerCase().startsWith("dpop ")&&"use_dpop_nonce"===v(d).error?this.requestResource(e,t,{method:r,headers:n,body:i,DPoP:a,tokenType:o}):c}async userinfo(e,{method:t="GET",via:r="header",tokenType:n,params:i,DPoP:a}={}){let o;b(this.issuer,"userinfo_endpoint");let l={tokenType:n,method:String(t).toUpperCase(),DPoP:a};if("GET"!==l.method&&"POST"!==l.method)throw TypeError("#userinfo() method can only be POST or a GET");if("body"===r&&"POST"!==l.method)throw TypeError("can only send body on POST");let u=!!(this.userinfo_signed_response_alg||this.userinfo_encrypted_response_alg);u?l.headers={Accept:"application/jwt"}:l.headers={Accept:"application/json"},this.tls_client_certificate_bound_access_tokens&&this.issuer.mtls_endpoint_aliases&&(o=this.issuer.mtls_endpoint_aliases.userinfo_endpoint),o=new c(o||this.issuer.userinfo_endpoint),"body"===r&&(l.headers.Authorization=void 0,l.headers["Content-Type"]="application/x-www-form-urlencoded",l.body=new d,l.body.append("access_token",e instanceof E?e.access_token:e)),i&&("GET"===l.method?Object.entries(i).forEach(([e,t])=>{o.searchParams.append(e,t)}):l.body?Object.entries(i).forEach(([e,t])=>{l.body.append(e,t)}):(l.body=new d,l.headers["Content-Type"]="application/x-www-form-urlencoded",Object.entries(i).forEach(([e,t])=>{l.body.append(e,t)}))),l.body&&(l.body=l.body.toString());let f=await this.requestResource(o,e,l),p=x(f,{bearer:!0});if(u){if(!/^application\/jwt/.test(f.headers["content-type"]))throw new $({message:"expected application/jwt response from the userinfo_endpoint",response:f});let e=f.body.toString(),t=await this.decryptJWTUserinfo(e);if(this.userinfo_signed_response_alg)({payload:p}=await this.validateJWTUserinfo(t));else try{p=JSON.parse(t),s(S(p))}catch(e){throw new $({message:"failed to parse userinfo JWE payload as JSON",jwt:t})}}else try{p=JSON.parse(f.body)}catch(e){throw Object.defineProperty(e,"response",{value:f}),e}if(e instanceof E&&e.id_token){let t=e.claims().sub;if(p.sub!==t)throw new $({printf:["userinfo sub mismatch, expected %s, got: %s",t,p.sub],body:p,jwt:e.id_token})}return p}encryptionSecret(e){let t=e<=256?"sha256":e<=384?"sha384":e<=512&&"sha512";if(!t)throw Error("unsupported symmetric encryption key derivation");return o.createHash(t).update(this.client_secret).digest().slice(0,e/8)}secretForAlg(e){if(!this.client_secret)throw TypeError("client_secret is required");return/^A(\d{3})(?:GCM)?KW$/.test(e)?this.encryptionSecret(parseInt(RegExp.$1,10)):/^A(\d{3})(?:GCM|CBC-HS(\d{3}))$/.test(e)?this.encryptionSecret(parseInt(RegExp.$2||RegExp.$1,10)):new TextEncoder().encode(this.client_secret)}async grant(e,{clientAssertionPayload:t,DPoP:r}={},n){let i;b(this.issuer,"token_endpoint");let a=await C.call(this,"token",{form:e,responseType:"json"},{clientAssertionPayload:t,DPoP:r});try{i=x(a)}catch(i){if(n!==B&&i instanceof k&&"use_dpop_nonce"===i.error)return this.grant(e,{clientAssertionPayload:t,DPoP:r},B);throw i}return new E(i)}async deviceAuthorization(e={},{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){b(this.issuer,"device_authorization_endpoint"),b(this.issuer,"token_endpoint");let i=V.call(this,{client_id:this.client_id,redirect_uri:null,response_type:null,...e}),a=x(await C.call(this,"device_authorization",{responseType:"json",form:i},{clientAssertionPayload:r,endpointAuthMethod:"token"}));return new M({client:this,exchangeBody:t,clientAssertionPayload:r,response:a,maxAge:e.max_age,DPoP:n})}async revoke(e,t,{revokeBody:r,clientAssertionPayload:n}={}){if(b(this.issuer,"revocation_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};t&&(i.token_type_hint=t),x(await C.call(this,"revocation",{form:i},{clientAssertionPayload:n}),{body:!1})}async introspect(e,t,{introspectBody:r,clientAssertionPayload:n}={}){if(b(this.issuer,"introspection_endpoint"),void 0!==t&&"string"!=typeof t)throw TypeError("hint must be a string");let i={...r,token:e};return t&&(i.token_type_hint=t),x(await C.call(this,"introspection",{form:i,responseType:"json"},{clientAssertionPayload:n}))}static async register(e,t={}){let{initialAccessToken:r,jwks:n,...i}=t;return b(this.issuer,"registration_endpoint"),void 0===n||e.jwks||e.jwks_uri||(e.jwks=(await G.call(this,n)).toJWKS()),new this(x(await T.call(this,{headers:{Accept:"application/json",...r?{Authorization:Z(r)}:void 0},responseType:"json",json:e,url:this.issuer.registration_endpoint,method:"POST"}),{statusCode:201,bearer:!0}),n,i)}get metadata(){return N(Object.fromEntries(this.#c.entries()))}static async fromUri(e,t,r,n){return new this(x(await T.call(this,{method:"GET",url:e,responseType:"json",headers:{Authorization:Z(t),Accept:"application/json"}}),{bearer:!0}),r,n)}async requestObject(e={},{sign:t=this.request_object_signing_alg||"none",encrypt:{alg:r=this.request_object_encryption_alg,enc:n=this.request_object_encryption_enc||"A128CBC-HS256"}={}}={}){let i,a;if(!S(e))throw TypeError("requestObject must be a plain object");let o=O(),s={alg:t,typ:"oauth-authz-req+jwt"},l=JSON.stringify(y({},e,{iss:this.client_id,aud:this.issuer.issuer,client_id:this.client_id,jti:P(),iat:o,exp:o+300,...this.fapi()?{nbf:o}:void 0}));if("none"===t)i=[g.encode(JSON.stringify(s)),g.encode(l),""].join(".");else{let e=t.startsWith("HS");if(e)a=this.secretForAlg(t);else{let e=await A.get(this);if(!e)throw TypeError(`no keystore present for client, cannot sign using alg ${t}`);if(!(a=e.get({alg:t,use:"sig"})))throw TypeError(`no key to sign with found for alg ${t}`)}i=await new f.CompactSign(new TextEncoder().encode(l)).setProtectedHeader({...s,kid:e?void 0:a.jwk.kid}).sign(e?a:await a.keyObject(t))}if(!r)return i;let u={alg:r,enc:n,cty:"oauth-authz-req+jwt"};return u.alg.match(/^(RSA|ECDH)/)?[a]=await U.call(this.issuer,{alg:u.alg,use:"enc"},{allowMulti:!0}):a=this.secretForAlg("dir"===u.alg?u.enc:u.alg),new f.CompactEncrypt(new TextEncoder().encode(i)).setProtectedHeader({...u,kid:a instanceof Uint8Array?void 0:a.jwk.kid}).encrypt(a instanceof Uint8Array?a:await a.keyObject(u.alg))}async pushedAuthorizationRequest(e={},{clientAssertionPayload:t}={}){b(this.issuer,"pushed_authorization_request_endpoint");let r={..."request"in e?e:V.call(this,e),client_id:this.client_id},n=await C.call(this,"pushed_authorization_request",{responseType:"json",form:r},{clientAssertionPayload:t,endpointAuthMethod:"token"}),i=x(n,{statusCode:201});if(!("expires_in"in i))throw new $({message:"expected expires_in in Pushed Authorization Successful Response",response:n});if("number"!=typeof i.expires_in)throw new $({message:"invalid expires_in value in Pushed Authorization Successful Response",response:n});if(!("request_uri"in i))throw new $({message:"expected request_uri in Pushed Authorization Successful Response",response:n});if("string"!=typeof i.request_uri)throw new $({message:"invalid request_uri value in Pushed Authorization Successful Response",response:n});return i}get issuer(){return this.#d}[i.custom](){return`${this.constructor.name} ${i(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}fapi(){return this.fapi1()||this.fapi2()}fapi1(){return"FAPI1Client"===this.constructor.name}fapi2(){return"FAPI2Client"===this.constructor.name}async validateJARM(e){let t=this.authorization_signed_response_alg,{payload:r}=await this.validateJWT(e,t,["iss","exp","aud"]);return q(r)}async dpopProof(e,t,r){let i;if(!S(e))throw TypeError("payload must be a plain object");if(h(t))i=t;else if("CryptoKey"===t[Symbol.toStringTag])i=t;else if("node:crypto"===f.cryptoRuntime)i=o.createPrivateKey(t);else throw TypeError("unrecognized crypto runtime");if("private"!==i.type)throw TypeError('"DPoP" option must be a private key');let a=n.call(this,i,t);if(!a)throw TypeError("could not determine DPoP JWS Algorithm");return new f.SignJWT({ath:r?g.encode(o.createHash("sha256").update(r).digest()):void 0,...e}).setProtectedHeader({alg:a,typ:"dpop+jwt",jwk:await ee(i,t)}).setIssuedAt().setJti(P()).sign(i)}}function X(e){switch(e.algorithm.name){case"Ed25519":case"Ed448":return"EdDSA";case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512"}break;case"RSASSA-PKCS1-v1_5":return`RS${e.algorithm.hash.name.slice(4)}`;case"RSA-PSS":return`PS${e.algorithm.hash.name.slice(4)}`;default:throw TypeError("unsupported DPoP private key")}}if("node:crypto"===f.cryptoRuntime){n=function(n,o){if("CryptoKey"===o[Symbol.toStringTag])return X(n);switch(n.asymmetricKeyType){case"ed25519":case"ed448":return"EdDSA";case"ec":var s=n,l=o;switch("object"==typeof l&&"object"==typeof l.key&&l.key.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-512":return"ES512"}let u=s.export({format:"der",type:"pkcs8"}),c=u[1]<128?17:18,d=u[c],f=u.slice(c+1,c+1+d);if(f.equals(t))return"ES256";if(f.equals(r))return"ES384";if(f.equals(i))return"ES512";if(f.equals(a))return"ES256K";throw TypeError("unsupported DPoP private key curve");case"rsa":case J&&"rsa-pss":var p=n,h=o,m=this.issuer.dpop_signing_alg_values_supported;if("object"==typeof h&&"jwk"===h.format&&h.key&&h.key.alg)return h.key.alg;if(Array.isArray(m)){let t=m.filter(RegExp.prototype.test.bind(e));return"rsa-pss"===p.asymmetricKeyType&&(t=t.filter(e=>e.startsWith("PS"))),["PS256","PS384","PS512","RS256","RS384","RS384"].find(e=>t.includes(e))}return"PS256";default:throw TypeError("unsupported DPoP private key")}};let e=/^(?:RS|PS)(?:256|384|512)$/,t=Buffer.from([42,134,72,206,61,3,1,7]),r=Buffer.from([43,129,4,0,34]),i=Buffer.from([43,129,4,0,35]),a=Buffer.from([43,129,4,0,10])}else n=X;let Y=new WeakMap;async function ee(e,t){if("node:crypto"===f.cryptoRuntime&&"object"==typeof t&&"object"==typeof t.key&&"jwk"===t.format)return w(t.key,"kty","crv","x","y","e","n");if(Y.has(t))return Y.get(t);let r=w(await f.exportJWK(e),"kty","crv","x","y","e","n");return(h(t)||"WebCryptoAPI"===f.cryptoRuntime)&&Y.set(t,r),r}t.exports=(e,t=!1)=>class extends Q{constructor(...r){super(e,t,...r)}static get issuer(){return e}},t.exports.BaseClient=Q},36575,(e,t,r)=>{t.exports=new(e.r(82718))({max:100})},52908,(e,t,r)=>{let n=/^\d+$/;t.exports=function(e){if("string"!=typeof e)throw TypeError("input must be a string");return(!function(e){if(e.includes("://"))return!0;let t=e.replace(/(\/|\?)/g,"#").split("#")[0];if(t.includes(":")){let e=t.indexOf(":"),r=t.slice(e+1);if(!n.test(r))return!0}return!1}(e)?!function(e){if(!e.includes("@"))return!1;let t=e.split("@"),r=t[t.length-1];return!(r.includes(":")||r.includes("/")||r.includes("?"))}(e)?`https://${e}`:`acct:${e}`:e).split("#")[0]}},37155,(e,t,r)=>{let{inspect:n}=e.r(24361),i=e.r(92509),{RPError:a}=e.r(65585),o=e.r(21629),s=e.r(36575),l=e.r(28237),u=e.r(52908),c=e.r(65630),d=e.r(35325),{keystore:f}=e.r(28886),p=["https://login.microsoftonline.com/common/.well-known/openid-configuration","https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration"],h=Symbol(),m={claim_types_supported:["normal"],claims_parameter_supported:!1,grant_types_supported:["authorization_code","implicit"],request_parameter_supported:!1,request_uri_parameter_supported:!0,require_request_uri_registration:!1,response_modes_supported:["query","fragment"],token_endpoint_auth_methods_supported:["client_secret_basic"]};class g{#c;constructor(e={}){const t=e[h];delete e[h],["introspection","revocation"].forEach(t=>{e[`${t}_endpoint`]&&void 0===e[`${t}_endpoint_auth_methods_supported`]&&void 0===e[`${t}_endpoint_auth_signing_alg_values_supported`]&&(e.token_endpoint_auth_methods_supported&&(e[`${t}_endpoint_auth_methods_supported`]=e.token_endpoint_auth_methods_supported),e.token_endpoint_auth_signing_alg_values_supported&&(e[`${t}_endpoint_auth_signing_alg_values_supported`]=e.token_endpoint_auth_signing_alg_values_supported))}),this.#c=new Map,Object.entries(e).forEach(([e,t])=>{this.#c.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#c.get(e)},enumerable:!0})}),s.set(this.issuer,this);const r=o(this,t);Object.defineProperties(this,{Client:{value:r,enumerable:!0},FAPI1Client:{value:class extends r{},enumerable:!0},FAPI2Client:{value:class extends r{},enumerable:!0}})}get metadata(){return d(Object.fromEntries(this.#c.entries()))}static async webfinger(e){let t=u(e),{host:r}=i.parse(t),n=`https://${r}/.well-known/webfinger`,o=l(await c.call(this,{method:"GET",url:n,responseType:"json",searchParams:{resource:t,rel:"http://openid.net/specs/connect/1.0/issuer"},headers:{Accept:"application/json"}})),d=Array.isArray(o.links)&&o.links.find(e=>"object"==typeof e&&"http://openid.net/specs/connect/1.0/issuer"===e.rel&&e.href);if(!d)throw new a({message:"no issuer found in webfinger response",body:o});if("string"!=typeof d.href||!d.href.startsWith("https://"))throw new a({printf:["invalid issuer location %s",d.href],body:o});let f=d.href;if(s.has(f))return s.get(f);let p=await this.discover(f);if(p.issuer!==f)throw s.del(p.issuer),new a("discovered issuer mismatch, expected %s, got: %s",f,p.issuer);return p}static async discover(e){let t=function(e){let t=i.parse(e);if(t.pathname.includes("/.well-known/"))return e;{let e;return e=t.pathname.endsWith("/")?`${t.pathname}.well-known/openid-configuration`:`${t.pathname}/.well-known/openid-configuration`,i.format({...t,pathname:e})}}(e),r=l(await c.call(this,{method:"GET",responseType:"json",url:t,headers:{Accept:"application/json"}}));return new g({...m,...r,[h]:!!p.find(e=>t.startsWith(e))})}async reloadJwksUri(){await f.call(this,!0)}[n.custom](){return`${this.constructor.name} ${n(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}t.exports=g},81471,(e,t,r)=>{let n=e.r(92509),{format:i}=e.r(24361),a=e.r(35325),{RPError:o,OPError:s}=e.r(65585),{BaseClient:l}=e.r(21629),{random:u,codeChallenge:c}=e.r(50648),d=e.r(6618),{resolveResponseType:f,resolveRedirectUri:p}=e.r(98991);function h(e,t,r={}){e?this.error(e):t?this.success(t,r):this.fail(r)}function m({client:e,params:t={},passReqToCallback:r=!1,sessionKey:i,usePKCE:o=!0,extras:s={}}={},u){if(!(e instanceof l))throw TypeError("client must be an instance of openid-client Client");if("function"!=typeof u)throw TypeError("verify callback must be a function");if(!e.issuer||!e.issuer.issuer)throw TypeError("client must have an issuer with an identifier");if(this._client=e,this._issuer=e.issuer,this._verify=u,this._passReqToCallback=r,this._usePKCE=o,this._key=i||`oidc:${n.parse(this._issuer.issuer).hostname}`,this._params=a(t),delete this._params.state,delete this._params.nonce,this._extras=a(s),this._params.response_type||(this._params.response_type=f.call(e)),this._params.redirect_uri||(this._params.redirect_uri=p.call(e)),this._params.scope||(this._params.scope="openid"),!0===this._usePKCE){let e=!!Array.isArray(this._issuer.code_challenge_methods_supported)&&this._issuer.code_challenge_methods_supported;if(e&&e.includes("S256"))this._usePKCE="S256";else if(e&&e.includes("plain"))this._usePKCE="plain";else if(e)throw TypeError("neither code_challenge_method supported by the client is supported by the issuer");else this._usePKCE="S256"}else if("string"==typeof this._usePKCE&&!["plain","S256"].includes(this._usePKCE))throw TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);this.name=n.parse(e.issuer.issuer).hostname}m.prototype.authenticate=function(e,t){(async()=>{let r=this._client;if(!e.session)throw TypeError("authentication requires session support");let n=r.callbackParams(e),a=this._key,{0:s,length:l}=Object.keys(n);if(0===l||1===l&&"iss"===s){let n={state:u(),...this._params,...t};if(!n.nonce&&n.response_type.includes("id_token")&&(n.nonce=u()),e.session[a]=d(n,"nonce","state","max_age","response_type"),this._usePKCE&&n.response_type.includes("code")){let t=u();switch(e.session[a].code_verifier=t,this._usePKCE){case"S256":n.code_challenge=c(t),n.code_challenge_method="S256";break;case"plain":n.code_challenge=t}}this.redirect(r.authorizationUrl(n));return}let f=e.session[a];if(0===Object.keys(f||{}).length)throw Error(i('did not find expected authorization request details in session, req.session["%s"] is %j',a,f));let{state:p,nonce:m,max_age:g,code_verifier:y,response_type:v}=f;try{delete e.session[a]}catch(e){}let _={redirect_uri:this._params.redirect_uri,...t},b=await r.callback(_.redirect_uri,n,{state:p,nonce:m,max_age:g,code_verifier:y,response_type:v},this._extras),w=this._passReqToCallback,S=this._verify.length>(w?3:2)&&r.issuer.userinfo_endpoint,x=[b,h.bind(this)];if(S){if(!b.access_token)throw new o({message:"expected access_token to be returned when asking for userinfo in verify callback",tokenset:b});let e=await r.userinfo(b);x.splice(1,0,e)}w&&x.unshift(e),this._verify(...x)})().catch(e=>{e instanceof s&&"server_error"!==e.error&&!e.error.startsWith("invalid")||e instanceof o?this.fail(e):this.error(e)})},t.exports=m},22385,(e,t,r)=>{let n=e.r(37155),{OPError:i,RPError:a}=e.r(65585),o=e.r(81471),s=e.r(1773),{CLOCK_TOLERANCE:l,HTTP_OPTIONS:u}=e.r(29971),c=e.r(50648),{setDefaults:d}=e.r(65630);t.exports={Issuer:n,Strategy:o,TokenSet:s,errors:{OPError:i,RPError:a},custom:{setHttpOptionsDefaults:d,http_options:u,clock_tolerance:l},generators:c}},94962,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.openidClient=i;var n=e.r(22385);async function i(e){let t,r=e.provider;if(r.httpOptions&&n.custom.setHttpOptionsDefaults(r.httpOptions),r.wellKnown)t=await n.Issuer.discover(r.wellKnown);else{var i,a,o;t=new n.Issuer({issuer:r.issuer,authorization_endpoint:null==(i=r.authorization)?void 0:i.url,token_endpoint:null==(a=r.token)?void 0:a.url,userinfo_endpoint:null==(o=r.userinfo)?void 0:o.url,jwks_uri:r.jwks_endpoint})}let s=new t.Client({client_id:r.clientId,client_secret:r.clientSecret,redirect_uris:[r.callbackUrl],...r.client},r.jwks);return s[n.custom.clock_tolerance]=10,s}},97306,(e,t,r)=>{function n(e){for(var t,r,n="",i=-1;++i<e.length;)t=e.charCodeAt(i),r=i+1<e.length?e.charCodeAt(i+1):0,55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t=65536+((1023&t)<<10)+(1023&r),i++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function i(e){for(var t=Array(e.length>>2),r=0;r<t.length;r++)t[r]=0;for(var r=0;r<8*e.length;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<24-r%32;return t}function a(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var r=Array(80),n=0x67452301,i=-0x10325477,a=-0x67452302,l=0x10325476,u=-0x3c2d1e10,c=0;c<e.length;c+=16){for(var d=n,f=i,p=a,h=l,m=u,g=0;g<80;g++){g<16?r[g]=e[c+g]:r[g]=s(r[g-3]^r[g-8]^r[g-14]^r[g-16],1);var y,v,_,b,w,S=o(o(s(n,5),(y=g,v=i,_=a,b=l,y<20?v&_|~v&b:y<40?v^_^b:y<60?v&_|v&b|_&b:v^_^b)),o(o(u,r[g]),(w=g)<20?0x5a827999:w<40?0x6ed9eba1:w<60?-0x70e44324:-0x359d3e2a));u=l,l=a,a=s(i,30),i=n,n=S}n=o(n,d),i=o(i,f),a=o(a,p),l=o(l,h),u=o(u,m)}return[n,i,a,l,u]}function o(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function s(e,t){return e<<t|e>>>32-t}r.HMACSHA1=function(e,t){return function(e){for(var t="",r=e.length,n=0;n<r;n+=3)for(var i=e.charCodeAt(n)<<16|(n+1<r?e.charCodeAt(n+1)<<8:0)|(n+2<r?e.charCodeAt(n+2):0),a=0;a<4;a++)8*n+6*a>8*e.length?t+="=":t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-a)&63);return t}(function(e,t){var r=i(e);r.length>16&&(r=a(r,8*e.length));for(var n=Array(16),o=Array(16),s=0;s<16;s++)n[s]=0x36363636^r[s],o[s]=0x5c5c5c5c^r[s];for(var l=a(n.concat(i(t)),512+8*t.length),u=a(o.concat(l),672),c="",d=0;d<32*u.length;d+=8)c+=String.fromCharCode(u[d>>5]>>>24-d%32&255);return c}(n(e),n(t)))}},36737,(e,t,r)=>{t.exports.isAnEarlyCloseHost=function(e){return e&&e.match(".*google(apis)?.com$")}},55545,(e,t,r)=>{var n=e.r(54799),i=e.r(97306),a=e.r(21517),o=e.r(24836),s=e.r(92509),l=e.r(45706),u=e.r(36737);r.OAuth=function(e,t,r,n,i,a,o,s,l){if(this._isEcho=!1,this._requestUrl=e,this._accessUrl=t,this._consumerKey=r,this._consumerSecret=this._encodeData(n),"RSA-SHA1"==o&&(this._privateKey=n),this._version=i,void 0===a?this._authorize_callback="oob":this._authorize_callback=a,"PLAINTEXT"!=o&&"HMAC-SHA1"!=o&&"RSA-SHA1"!=o)throw Error("Un-supported signature method: "+o);this._signatureMethod=o,this._nonceSize=s||32,this._headers=l||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._clientOptions=this._defaultClientOptions={requestTokenHttpMethod:"POST",accessTokenHttpMethod:"POST",followRedirects:!0},this._oauthParameterSeperator=","},r.OAuthEcho=function(e,t,r,n,i,a,o,s){if(this._isEcho=!0,this._realm=e,this._verifyCredentials=t,this._consumerKey=r,this._consumerSecret=this._encodeData(n),"RSA-SHA1"==a&&(this._privateKey=n),this._version=i,"PLAINTEXT"!=a&&"HMAC-SHA1"!=a&&"RSA-SHA1"!=a)throw Error("Un-supported signature method: "+a);this._signatureMethod=a,this._nonceSize=o||32,this._headers=s||{Accept:"*/*",Connection:"close","User-Agent":"Node authentication"},this._oauthParameterSeperator=","},r.OAuthEcho.prototype=r.OAuth.prototype,r.OAuth.prototype._getTimestamp=function(){return Math.floor(new Date().getTime()/1e3)},r.OAuth.prototype._encodeData=function(e){return null==e||""==e?"":encodeURIComponent(e).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},r.OAuth.prototype._decodeData=function(e){return null!=e&&(e=e.replace(/\+/g," ")),decodeURIComponent(e)},r.OAuth.prototype._getSignature=function(e,t,r,n){var i=this._createSignatureBase(e,t,r);return this._createSignature(i,n)},r.OAuth.prototype._normalizeUrl=function(e){var t=s.parse(e,!0),r="";return t.port&&("http:"==t.protocol&&"80"!=t.port||"https:"==t.protocol&&"443"!=t.port)&&(r=":"+t.port),t.pathname&&""!=t.pathname||(t.pathname="/"),t.protocol+"//"+t.hostname+r+t.pathname},r.OAuth.prototype._isParameterNameAnOAuthParameter=function(e){var t=e.match("^oauth_");return!!t&&"oauth_"===t[0]},r.OAuth.prototype._buildAuthorizationHeaders=function(e){var t="OAuth ";this._isEcho&&(t+='realm="'+this._realm+'",');for(var r=0;r<e.length;r++)this._isParameterNameAnOAuthParameter(e[r][0])&&(t+=""+this._encodeData(e[r][0])+'="'+this._encodeData(e[r][1])+'"'+this._oauthParameterSeperator);return t.substring(0,t.length-this._oauthParameterSeperator.length)},r.OAuth.prototype._makeArrayOfArgumentsHash=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)t[t.length]=[r,n[i]];else t[t.length]=[r,n]}return t},r.OAuth.prototype._sortRequestParams=function(e){return e.sort(function(e,t){return e[0]==t[0]?e[1]<t[1]?-1:1:e[0]<t[0]?-1:1}),e},r.OAuth.prototype._normaliseRequestParams=function(e){for(var t=this._makeArrayOfArgumentsHash(e),r=0;r<t.length;r++)t[r][0]=this._encodeData(t[r][0]),t[r][1]=this._encodeData(t[r][1]);t=this._sortRequestParams(t);for(var e="",r=0;r<t.length;r++)e+=t[r][0],e+="=",e+=t[r][1],r<t.length-1&&(e+="&");return e},r.OAuth.prototype._createSignatureBase=function(e,t,r){return t=this._encodeData(this._normalizeUrl(t)),r=this._encodeData(r),e.toUpperCase()+"&"+t+"&"+r},r.OAuth.prototype._createSignature=function(e,t){if(void 0===t)var t="";else t=this._encodeData(t);var r=this._consumerSecret+"&"+t,a="";return"PLAINTEXT"==this._signatureMethod?a=r:"RSA-SHA1"==this._signatureMethod?(r=this._privateKey||"",a=n.createSign("RSA-SHA1").update(e).sign(r,"base64")):a=n.Hmac?n.createHmac("sha1",r).update(e).digest("base64"):i.HMACSHA1(r,e),a},r.OAuth.prototype.NONCE_CHARS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"],r.OAuth.prototype._getNonce=function(e){for(var t,r=[],n=this.NONCE_CHARS,i=n.length,a=0;a<e;a++)t=Math.floor(Math.random()*i),r[a]=n[t];return r.join("")},r.OAuth.prototype._createClient=function(e,t,r,n,i,s){return(s?o:a).request({host:t,port:e,path:n,method:r,headers:i})},r.OAuth.prototype._prepareParameters=function(e,t,r,n,i){var a={oauth_timestamp:this._getTimestamp(),oauth_nonce:this._getNonce(this._nonceSize),oauth_version:this._version,oauth_signature_method:this._signatureMethod,oauth_consumer_key:this._consumerKey};if(e&&(a.oauth_token=e),this._isEcho)c=this._getSignature("GET",this._verifyCredentials,this._normaliseRequestParams(a),t);else{if(i)for(var o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);var u=s.parse(n,!1);if(u.query){var c,d,f=l.parse(u.query);for(var o in f){var p=f[o];if("object"==typeof p)for(d in p)a[o+"["+d+"]"]=p[d];else a[o]=p}}c=this._getSignature(r,n,this._normaliseRequestParams(a),t)}var h=this._sortRequestParams(this._makeArrayOfArgumentsHash(a));return h[h.length]=["oauth_signature",c],h},r.OAuth.prototype._performSecureRequest=function(e,t,r,n,i,a,o,c){var d,f,p=this._prepareParameters(e,t,r,n,i);o||(o="application/x-www-form-urlencoded");var h=s.parse(n,!1);"http:"!=h.protocol||h.port||(h.port=80),"https:"!=h.protocol||h.port||(h.port=443);var m={},g=this._buildAuthorizationHeaders(p);for(var y in this._isEcho?m["X-Verify-Credentials-Authorization"]=g:m.Authorization=g,m.Host=h.host,this._headers)this._headers.hasOwnProperty(y)&&(m[y]=this._headers[y]);for(var y in i)this._isParameterNameAnOAuthParameter(y)&&delete i[y];("POST"==r||"PUT"==r)&&null==a&&null!=i&&(a=l.stringify(i).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")),a?Buffer.isBuffer(a)?m["Content-length"]=a.length:m["Content-length"]=Buffer.byteLength(a):m["Content-length"]=0,m["Content-Type"]=o,h.pathname&&""!=h.pathname||(h.pathname="/"),d=h.query?h.pathname+"?"+h.query:h.pathname,f="https:"==h.protocol?this._createClient(h.port,h.hostname,r,d,m,!0):this._createClient(h.port,h.hostname,r,d,m);var v=this._clientOptions;if(!c)return("POST"==r||"PUT"==r)&&null!=a&&""!=a&&f.write(a),f;var _="",b=this,w=u.isAnEarlyCloseHost(h.hostname),S=!1,x=function(n){S||(S=!0,n.statusCode>=200&&n.statusCode<=299?c(null,_,n):(301==n.statusCode||302==n.statusCode)&&v.followRedirects&&n.headers&&n.headers.location?b._performSecureRequest(e,t,r,n.headers.location,i,a,o,c):c({statusCode:n.statusCode,data:_},_,n))};f.on("response",function(e){e.setEncoding("utf8"),e.on("data",function(e){_+=e}),e.on("end",function(){x(e)}),e.on("close",function(){w&&x(e)})}),f.on("error",function(e){S||(S=!0,c(e))}),("POST"==r||"PUT"==r)&&null!=a&&""!=a&&f.write(a),f.end()},r.OAuth.prototype.setClientOptions=function(e){var t,r={},n=Object.prototype.hasOwnProperty;for(t in this._defaultClientOptions)n.call(e,t)?r[t]=e[t]:r[t]=this._defaultClientOptions[t];this._clientOptions=r},r.OAuth.prototype.getOAuthAccessToken=function(e,t,r,n){var i={};"function"==typeof r?n=r:i.oauth_verifier=r,this._performSecureRequest(e,t,this._clientOptions.accessTokenHttpMethod,this._accessUrl,i,null,null,function(e,t,r){if(e)n(e);else{var i=l.parse(t),a=i.oauth_token;delete i.oauth_token;var o=i.oauth_token_secret;delete i.oauth_token_secret,n(null,a,o,i)}})},r.OAuth.prototype.getProtectedResource=function(e,t,r,n,i){this._performSecureRequest(r,n,t,e,null,"",null,i)},r.OAuth.prototype.delete=function(e,t,r,n){return this._performSecureRequest(t,r,"DELETE",e,null,"",null,n)},r.OAuth.prototype.get=function(e,t,r,n){return this._performSecureRequest(t,r,"GET",e,null,"",null,n)},r.OAuth.prototype._putOrPost=function(e,t,r,n,i,a,o){var s=null;return"function"==typeof a&&(o=a,a=null),"string"==typeof i||Buffer.isBuffer(i)||(a="application/x-www-form-urlencoded",s=i,i=null),this._performSecureRequest(r,n,e,t,s,i,a,o)},r.OAuth.prototype.put=function(e,t,r,n,i,a){return this._putOrPost("PUT",e,t,r,n,i,a)},r.OAuth.prototype.post=function(e,t,r,n,i,a){return this._putOrPost("POST",e,t,r,n,i,a)},r.OAuth.prototype.getOAuthRequestToken=function(e,t){"function"==typeof e&&(t=e,e={}),this._authorize_callback&&(e.oauth_callback=this._authorize_callback),this._performSecureRequest(null,null,this._clientOptions.requestTokenHttpMethod,this._requestUrl,e,null,null,function(e,r,n){if(e)t(e);else{var i=l.parse(r),a=i.oauth_token,o=i.oauth_token_secret;delete i.oauth_token,delete i.oauth_token_secret,t(null,a,o,i)}})},r.OAuth.prototype.signUrl=function(e,t,r,n){if(void 0===n)var n="GET";for(var i=this._prepareParameters(t,r,n,e,{}),a=s.parse(e,!1),o="",l=0;l<i.length;l++)o+=i[l][0]+"="+this._encodeData(i[l][1])+"&";return o=o.substring(0,o.length-1),a.protocol+"//"+a.host+a.pathname+"?"+o},r.OAuth.prototype.authHeader=function(e,t,r,n){if(void 0===n)var n="GET";var i=this._prepareParameters(t,r,n,e,{});return this._buildAuthorizationHeaders(i)}},42784,(e,t,r)=>{var n=e.r(45706),i=(e.r(54799),e.r(24836)),a=e.r(21517),o=e.r(92509),s=e.r(36737);r.OAuth2=function(e,t,r,n,i,a){this._clientId=e,this._clientSecret=t,this._baseSite=r,this._authorizeUrl=n||"/oauth/authorize",this._accessTokenUrl=i||"/oauth/access_token",this._accessTokenName="access_token",this._authMethod="Bearer",this._customHeaders=a||{},this._useAuthorizationHeaderForGET=!1,this._agent=void 0},r.OAuth2.prototype.setAgent=function(e){this._agent=e},r.OAuth2.prototype.setAccessTokenName=function(e){this._accessTokenName=e},r.OAuth2.prototype.setAuthMethod=function(e){this._authMethod=e},r.OAuth2.prototype.useAuthorizationHeaderforGET=function(e){this._useAuthorizationHeaderForGET=e},r.OAuth2.prototype._getAccessTokenUrl=function(){return this._baseSite+this._accessTokenUrl},r.OAuth2.prototype.buildAuthHeader=function(e){return this._authMethod+" "+e},r.OAuth2.prototype._chooseHttpLibrary=function(e){var t=i;return"https:"!=e.protocol&&(t=a),t},r.OAuth2.prototype._request=function(e,t,r,i,a,s){var l=o.parse(t,!0);"https:"!=l.protocol||l.port||(l.port=443);var u=this._chooseHttpLibrary(l),c={};for(var d in this._customHeaders)c[d]=this._customHeaders[d];if(r)for(var d in r)c[d]=r[d];c.Host=l.host,c["User-Agent"]||(c["User-Agent"]="Node-oauth"),i?Buffer.isBuffer(i)?c["Content-Length"]=i.length:c["Content-Length"]=Buffer.byteLength(i):c["Content-length"]=0,!a||"Authorization"in c||(l.query||(l.query={}),l.query[this._accessTokenName]=a);var f=n.stringify(l.query);f&&(f="?"+f);var p={host:l.hostname,port:l.port,path:l.pathname+f,method:e,headers:c};this._executeRequest(u,p,i,s)},r.OAuth2.prototype._executeRequest=function(e,t,r,n){var i=s.isAnEarlyCloseHost(t.host),a=!1;function o(e,t){a||(a=!0,e.statusCode>=200&&e.statusCode<=299||301==e.statusCode||302==e.statusCode?n(null,t,e):n({statusCode:e.statusCode,data:t}))}var l="";this._agent&&(t.agent=this._agent);var u=e.request(t);u.on("response",function(e){e.on("data",function(e){l+=e}),e.on("close",function(t){i&&o(e,l)}),e.addListener("end",function(){o(e,l)})}),u.on("error",function(e){a=!0,n(e)}),("POST"==t.method||"PUT"==t.method)&&r&&u.write(r),u.end()},r.OAuth2.prototype.getAuthorizeUrl=function(e){var e=e||{};return e.client_id=this._clientId,this._baseSite+this._authorizeUrl+"?"+n.stringify(e)},r.OAuth2.prototype.getOAuthAccessToken=function(e,t,r){var t=t||{};t.client_id=this._clientId,t.client_secret=this._clientSecret;var i="refresh_token"===t.grant_type?"refresh_token":"code";t[i]=e;var a=n.stringify(t);this._request("POST",this._getAccessTokenUrl(),{"Content-Type":"application/x-www-form-urlencoded"},a,null,function(e,t,i){if(e)r(e);else{try{a=JSON.parse(t)}catch(e){a=n.parse(t)}var a,o=a.access_token,s=a.refresh_token;delete a.refresh_token,r(null,o,s,a)}})},r.OAuth2.prototype.getProtectedResource=function(e,t,r){this._request("GET",e,{},"",t,r)},r.OAuth2.prototype.get=function(e,t,r){if(this._useAuthorizationHeaderForGET){var n={Authorization:this.buildAuthHeader(t)};t=null}else n={};this._request("GET",e,n,"",t,r)}},96036,(e,t,r)=>{r.OAuth=e.r(55545).OAuth,r.OAuthEcho=e.r(55545).OAuthEcho,r.OAuth2=e.r(42784).OAuth2},6039,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.oAuth1Client=function(e){var t,r;let i=e.provider,a=new n.OAuth(i.requestTokenUrl,i.accessTokenUrl,i.clientId,i.clientSecret,null!=(t=i.version)?t:"1.0",i.callbackUrl,null!=(r=i.encoding)?r:"HMAC-SHA1"),o=a.get.bind(a);a.get=async(...e)=>await new Promise((t,r)=>{o(...e,(e,n)=>{if(e)return r(e);t(n)})});let s=a.getOAuthAccessToken.bind(a);a.getOAuthAccessToken=async(...e)=>await new Promise((t,r)=>{s(...e,(e,n,i)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:i})})});let l=a.getOAuthRequestToken.bind(a);return a.getOAuthRequestToken=async(e={})=>await new Promise((t,r)=>{l(e,(e,n,i,a)=>{if(e)return r(e);t({oauth_token:n,oauth_token_secret:i,params:a})})}),a},r.oAuth1TokenStore=void 0;var n=e.r(96036);r.oAuth1TokenStore=new Map},97741,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(54799);r.default=(e,t,r,i,a)=>{let o=parseInt(e.substr(3),10)>>3||20,s=(0,n.createHmac)(e,r.byteLength?r:new Uint8Array(o)).update(t).digest(),l=Math.ceil(a/o),u=new Uint8Array(o*l+i.byteLength+1),c=0,d=0;for(let t=1;t<=l;t++)u.set(i,d),u[d+i.byteLength]=t,u.set((0,n.createHmac)(e,s).update(u.subarray(c,d+i.byteLength+1)).digest(),d),c=d,d+=o;return u.slice(0,a)}},44752,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(54799),a=e.r(97741);"function"!=typeof i.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{i.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})})),r.default=async(e,t,r,i,o)=>(n||a.default)(e,t,r,i,o)},43581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.hkdf=void 0;let n=e.r(44752);function i(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function a(e,t,r,a,o){return(0,n.default)(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=i(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),i(r,"salt"),function(e){let t=i(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(a),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(o,e))}r.hkdf=a,r.default=a},79403,e=>{"use strict";let t,r;e.s([],55276),e.i(55276);var n=e.i(54799);let i=new Uint8Array(256),a=i.length;function o(){return a>i.length-16&&(n.default.randomFillSync(i),a=0),i.slice(a,a+=16)}let s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&s.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));let c=function(e,t=0){let r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!l(r))throw TypeError("Stringified UUID is invalid");return r},d=0,f=0,p=function(e){let t;if(!l(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function h(e,t,r){function n(e,n,i,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=p(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(n),o.set(e,n.length),(o=r(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){a=a||0;for(let e=0;e<16;++e)i[a+e]=o[e];return i}return c(o)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}let m=h("v3",48,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n.default.createHash("md5").update(e).digest()}),g=h("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),n.default.createHash("sha1").update(e).digest()});e.s(["NIL",0,"00000000-0000-0000-0000-000000000000","parse",0,p,"stringify",0,c,"v1",0,function(e,n,i){let a=n&&i||0,s=n||Array(16),l=(e=e||{}).node||t,u=void 0!==e.clockseq?e.clockseq:r;if(null==l||null==u){let n=e.random||(e.rng||o)();null==l&&(l=t=[1|n[0],n[1],n[2],n[3],n[4],n[5]]),null==u&&(u=r=(n[6]<<8|n[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:f+1,m=p-d+(h-f)/1e4;if(m<0&&void 0===e.clockseq&&(u=u+1&16383),(m<0||p>d)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");d=p,f=h,r=u;let g=((0xfffffff&(p+=122192928e5))*1e4+h)%0x100000000;s[a++]=g>>>24&255,s[a++]=g>>>16&255,s[a++]=g>>>8&255,s[a++]=255&g;let y=p/0x100000000*1e4&0xfffffff;s[a++]=y>>>8&255,s[a++]=255&y,s[a++]=y>>>24&15|16,s[a++]=y>>>16&255,s[a++]=u>>>8|128,s[a++]=255&u;for(let e=0;e<6;++e)s[a+e]=l[e];return n||c(s)},"v3",0,m,"v4",0,function(e,t,r){let n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return c(n)},"v5",0,g,"validate",0,l,"version",0,function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}],79403)},47674,(e,t,r)=>{"use strict";function n(e,t,r){i(e,t),t.set(e,r)}function i(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function a(e,t){return e.get(s(e,t))}function o(e,t,r){return e.set(s(e,t),r),r}function s(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw TypeError("Private element is not present on this object")}Object.defineProperty(r,"__esModule",{value:!0}),r.SessionStore=void 0,r.defaultCookies=function(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}}}};var l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakSet;function f(e){let t=Math.ceil(e.value.length/3933);if(1===t)return a(l,this)[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3933*n,3933);r.push({...e,name:t,value:i}),a(l,this)[t]=i}return a(c,this).debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:e.value.length,chunks:r.map(e=>e.value.length+163)}),r}function p(){let e={};for(let r in a(l,this)){var t;null==(t=a(l,this))||delete t[r],e[r]={name:r,value:"",options:{...a(u,this).options,maxAge:0}}}return e}r.SessionStore=class{constructor(e,t,r){!function(e,t){i(e,t),t.add(e)}(this,d),n(this,l,{}),n(this,u,void 0),n(this,c,void 0),o(c,this,r),o(u,this,e);const{cookies:s}=t,{name:f}=e;if("function"==typeof(null==s?void 0:s.getAll))for(const{name:e,value:t}of s.getAll())e.startsWith(f)&&(a(l,this)[e]=t);else if(s instanceof Map)for(const e of s.keys())e.startsWith(f)&&(a(l,this)[e]=s.get(e));else for(const e in s)e.startsWith(f)&&(a(l,this)[e]=s[e])}get value(){return Object.keys(a(l,this)).sort((e,t)=>{var r,n;return parseInt(null!=(r=e.split(".").pop())?r:"0")-parseInt(null!=(n=t.split(".").pop())?n:"0")}).map(e=>a(l,this)[e]).join("")}chunk(e,t){let r=s(d,this,p).call(this);for(let n of s(d,this,f).call(this,{name:a(u,this).name,value:e,options:{...a(u,this).options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(s(d,this,p).call(this))}}},92594,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},63466,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0});var i={encode:!0,decode:!0,getToken:!0};r.decode=d,r.encode=c,r.getToken=f;var a=e.r(43272),o=n(e.r(43581)),s=e.r(79403),l=e.r(47674),u=e.r(92594);async function c(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i=""}=e,o=await p(r,i);return await new a.EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+n).setJti((0,s.v4)()).encrypt(o)}async function d(e){let{token:t,secret:r,salt:n=""}=e;if(!t)return null;let i=await p(r,n),{payload:o}=await (0,a.jwtDecrypt)(t,i,{clockTolerance:15});return o}async function f(e){var t,r,n,i;let{req:a,secureCookie:o=null!=(t=null==(r=process.env.NEXTAUTH_URL)?void 0:r.startsWith("https://"))?t:!!process.env.VERCEL,cookieName:s=o?"__Secure-next-auth.session-token":"next-auth.session-token",raw:u,decode:c=d,logger:f=console,secret:p=null!=(n=process.env.NEXTAUTH_SECRET)?n:process.env.AUTH_SECRET}=e;if(!a)throw Error("Must pass `req` to JWT getToken()");let h=new l.SessionStore({name:s,options:{secure:o}},{cookies:a.cookies,headers:a.headers},f).value,m=a.headers instanceof Headers?a.headers.get("authorization"):null==(i=a.headers)?void 0:i.authorization;if(h||(null==m?void 0:m.split(" ")[0])!=="Bearer"||(h=decodeURIComponent(m.split(" ")[1])),!h)return null;if(u)return h;try{return await c({token:h,secret:p})}catch(e){return null}}async function p(e,t){return await (0,o.default)("sha256",e,t,`NextAuth.js Generated Encryption Key${t?` (${t})`:""}`,32)}Object.keys(u).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(i,e)||e in r&&r[e]===u[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return u[e]}})})},37826,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pkce=r.nonce=r.PKCE_CODE_CHALLENGE_METHOD=void 0,r.signCookie=o,r.state=void 0;var n=e.r(22385),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(e.r(63466));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}async function o(e,t,r,n){let{cookies:a,logger:o}=n;o.debug(`CREATE_${e.toUpperCase()}`,{value:t,maxAge:r});let{name:s}=a[e],l=new Date;return l.setTime(l.getTime()+1e3*r),{name:s,value:await i.encode({...n.jwt,maxAge:r,token:{value:t},salt:s}),options:{...a[e].options,expires:l}}}let s=r.PKCE_CODE_CHALLENGE_METHOD="S256";r.pkce={async create(e,t,r){var i,a;if(!(null!=(i=e.provider)&&null!=(i=i.checks)&&i.includes("pkce")))return;let l=n.generators.codeVerifier();r.code_challenge=n.generators.codeChallenge(l),r.code_challenge_method=s;let u=null!=(a=e.cookies.pkceCodeVerifier.options.maxAge)?a:900;t.push(await o("pkceCodeVerifier",l,u,e))},async use(e,t,r,n){var a;if(!(null!=(a=r.provider)&&null!=(a=a.checks)&&a.includes("pkce")))return;let o=null==e?void 0:e[r.cookies.pkceCodeVerifier.name];if(!o)throw TypeError("PKCE code_verifier cookie was missing.");let{name:s}=r.cookies.pkceCodeVerifier,l=await i.decode({...r.jwt,token:o,salt:s});if(!(null!=l&&l.value))throw TypeError("PKCE code_verifier value could not be parsed.");t.push({name:s,value:"",options:{...r.cookies.pkceCodeVerifier.options,maxAge:0}}),n.code_verifier=l.value}},r.state={async create(e,t,r){var i,a;if(!(null!=(i=e.provider.checks)&&i.includes("state")))return;let s=n.generators.state();r.state=s;let l=null!=(a=e.cookies.state.options.maxAge)?a:900;t.push(await o("state",s,l,e))},async use(e,t,r,n){var a;if(!(null!=(a=r.provider.checks)&&a.includes("state")))return;let o=null==e?void 0:e[r.cookies.state.name];if(!o)throw TypeError("State cookie was missing.");let{name:s}=r.cookies.state,l=await i.decode({...r.jwt,token:o,salt:s});if(!(null!=l&&l.value))throw TypeError("State value could not be parsed.");t.push({name:s,value:"",options:{...r.cookies.state.options,maxAge:0}}),n.state=l.value}},r.nonce={async create(e,t,r){var i,a;if(!(null!=(i=e.provider.checks)&&i.includes("nonce")))return;let s=n.generators.nonce();r.nonce=s;let l=null!=(a=e.cookies.nonce.options.maxAge)?a:900;t.push(await o("nonce",s,l,e))},async use(e,t,r,n){var a;if(!(null!=(a=r.provider)&&null!=(a=a.checks)&&a.includes("nonce")))return;let o=null==e?void 0:e[r.cookies.nonce.name];if(!o)throw TypeError("Nonce cookie was missing.");let{name:s}=r.cookies.nonce,l=await i.decode({...r.jwt,token:o,salt:s});if(!(null!=l&&l.value))throw TypeError("Nonce value could not be parsed.");t.push({name:s,value:"",options:{...r.cookies.nonce.options,maxAge:0}}),n.nonce=l.value}}},78582,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var n=e.r(22385),i=e.r(94962),a=e.r(6039),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(37826)),s=e.r(90383);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}async function u(e){var t,r,l,u,d,f;let{options:p,query:h,body:m,method:g,cookies:y}=e,{logger:v,provider:_}=p,b=null!=(t=null==m?void 0:m.error)?t:null==h?void 0:h.error;if(b){let e=Error(b);throw v.error("OAUTH_CALLBACK_HANDLER_ERROR",{error:e,error_description:null==h?void 0:h.error_description,providerId:_.id}),v.debug("OAUTH_CALLBACK_HANDLER_ERROR",{body:m}),e}if(null!=(r=_.version)&&r.startsWith("1."))try{let e=await (0,a.oAuth1Client)(p),{oauth_token:t,oauth_verifier:r}=null!=h?h:{},n=await e.getOAuthAccessToken(t,a.oAuth1TokenStore.get(t),r),i=await e.get(_.profileUrl,n.oauth_token,n.oauth_token_secret);return"string"==typeof i&&(i=JSON.parse(i)),{...await c({profile:i,tokens:n,provider:_,logger:v}),cookies:[]}}catch(e){throw v.error("OAUTH_V1_GET_ACCESS_TOKEN_ERROR",e),e}null!=h&&h.oauth_token&&a.oAuth1TokenStore.delete(h.oauth_token);try{let e,t,r=await (0,i.openidClient)(p),a={},s=[];await o.state.use(y,s,p,a),await o.pkce.use(y,s,p,a),await o.nonce.use(y,s,p,a);let b={...r.callbackParams({url:`http://n?${new URLSearchParams(h)}`,body:m,method:g}),...null==(l=_.token)?void 0:l.params};if(null!=(u=_.token)&&u.request){let t=await _.token.request({provider:_,params:b,checks:a,client:r});e=new n.TokenSet(t.tokens)}else e=_.idToken?await r.callback(_.callbackUrl,b,a):await r.oauthCallback(_.callbackUrl,b,a);return Array.isArray(e.scope)&&(e.scope=e.scope.join(" ")),t=null!=(d=_.userinfo)&&d.request?await _.userinfo.request({provider:_,tokens:e,client:r}):_.idToken?e.claims():await r.userinfo(e,{params:null==(f=_.userinfo)?void 0:f.params}),{...await c({profile:t,provider:_,tokens:e,logger:v}),cookies:s}}catch(e){throw new s.OAuthCallbackError(e)}}async function c({profile:e,tokens:t,provider:r,logger:n}){try{var i;n.debug("PROFILE_DATA",{OAuthProfile:e});let a=await r.profile(e,t);if(a.email=null==(i=a.email)?void 0:i.toLowerCase(),!a.id)throw TypeError(`Profile id is missing in ${r.name} OAuth profile response`);return{profile:a,account:{provider:r.id,type:r.type,providerAccountId:a.id.toString(),...t},OAuthProfile:e}}catch(t){n.error("OAUTH_PARSE_PROFILE_ERROR",{error:t,OAuthProfile:e})}}},24048,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createSecret=function(e){var t;let{authOptions:r,url:i}=e;return null!=(t=r.secret)?t:(0,n.createHash)("sha256").update(JSON.stringify({...i,...r})).digest("hex")},r.fromDate=function(e,t=Date.now()){return new Date(t+1e3*e)},r.hashToken=function(e,t){var r;let{provider:i,secret:a}=t;return(0,n.createHash)("sha256").update(`${e}${null!=(r=i.secret)?r:a}`).digest("hex")};var n=e.r(54799)},80295,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var n=e.r(90383),i=e.r(24048);async function a(e){var t,r,a,o,s,l;let{sessionToken:u,profile:c,account:d,options:f}=e;if(!(null!=d&&d.providerAccountId)||!d.type)throw Error("Missing or invalid provider account");if(!["email","oauth"].includes(d.type))throw Error("Provider not supported");let{adapter:p,jwt:h,events:m,session:{strategy:g,generateSessionToken:y}}=f;if(!p)return{user:c,account:d};let{createUser:v,updateUser:_,getUser:b,getUserByAccount:w,getUserByEmail:S,linkAccount:x,createSession:E,getSessionAndUser:k,deleteSession:$}=p,O=null,P=null,T=!1,I="jwt"===g;if(u)if(I)try{(O=await h.decode({...h,token:u}))&&"sub"in O&&O.sub&&(P=await b(O.sub))}catch(e){}else{let e=await k(u);e&&(O=e.session,P=e.user)}if("email"===d.type){let e=await S(c.email);if(e)(null==(t=P)?void 0:t.id)!==e.id&&!I&&u&&await $(u),P=await _({id:e.id,emailVerified:new Date}),await (null==(r=m.updateUser)?void 0:r.call(m,{user:P}));else{let{id:e,...t}={...c,emailVerified:new Date};P=await v(t),await (null==(a=m.createUser)?void 0:a.call(m,{user:P})),T=!0}return{session:O=I?{}:await E({sessionToken:await y(),userId:P.id,expires:(0,i.fromDate)(f.session.maxAge)}),user:P,isNewUser:T}}if("oauth"===d.type){let e=await w({providerAccountId:d.providerAccountId,provider:d.provider});if(e){if(P){if(e.id===P.id)return{session:O,user:P,isNewUser:T};throw new n.AccountNotLinkedError("The account is already associated with another user")}return{session:O=I?{}:await E({sessionToken:await y(),userId:e.id,expires:(0,i.fromDate)(f.session.maxAge)}),user:e,isNewUser:T}}{if(P)return await x({...d,userId:P.id}),await (null==(l=m.linkAccount)?void 0:l.call(m,{user:P,account:d,profile:c})),{session:O,user:P,isNewUser:T};let e=c.email?await S(c.email):null;if(e){let t=f.provider;if(null!=t&&t.allowDangerousEmailAccountLinking)P=e;else throw new n.AccountNotLinkedError("Another account already exists with the same e-mail address")}else{let{id:e,...t}={...c,emailVerified:null};P=await v(t)}return await (null==(o=m.createUser)?void 0:o.call(m,{user:P})),await x({...d,userId:P.id}),await (null==(s=m.linkAccount)?void 0:s.call(m,{user:P,account:d,profile:c})),{session:O=I?{}:await E({sessionToken:await y(),userId:P.id,expires:(0,i.fromDate)(f.session.maxAge)}),user:P,isNewUser:!0}}}throw Error("Unsupported account type")}},10905,(e,t,r)=>{"use strict";async function n({email:e,adapter:t}){let{getUserByEmail:r}=t,n=e?await r(e):null;return n||{id:e,email:e,emailVerified:null}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},38642,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.default=l;var i=n(e.r(78582)),a=n(e.r(80295)),o=e.r(24048),s=n(e.r(10905));async function l(e){var t,r,n,l,u,c;let{options:d,query:f,body:p,method:h,headers:m,sessionStore:g}=e,{provider:y,adapter:v,url:_,callbackUrl:b,pages:w,jwt:S,events:x,callbacks:E,session:{strategy:k,maxAge:$},logger:O}=d,P=[],T="jwt"===k;if("oauth"===y.type)try{let{profile:n,account:o,OAuthProfile:s,cookies:l}=await (0,i.default)({query:f,body:p,method:h,options:d,cookies:e.cookies});l.length&&P.push(...l);try{if(O.debug("OAUTH_CALLBACK_RESPONSE",{profile:n,account:o,OAuthProfile:s}),!n||!o||!s)return{redirect:`${_}/signin`,cookies:P};let e=n;if(v){let{getUserByAccount:t}=v,r=await t({providerAccountId:o.providerAccountId,provider:y.id});r&&(e=r)}try{let t=await E.signIn({user:e,account:o,profile:s});if(!t)return{redirect:`${_}/error?error=AccessDenied`,cookies:P};if("string"==typeof t)return{redirect:t,cookies:P}}catch(e){return{redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:P}}let{user:i,session:l,isNewUser:u}=await (0,a.default)({sessionToken:g.value,profile:n,account:o,options:d});if(T){let e={name:i.name,email:i.email,picture:i.image,sub:null==(r=i.id)?void 0:r.toString()},t=await E.jwt({token:e,user:i,account:o,profile:s,isNewUser:u,trigger:u?"signUp":"signIn"}),n=await S.encode({...S,token:t}),a=new Date;a.setTime(a.getTime()+1e3*$);let l=g.chunk(n,{expires:a});P.push(...l)}else P.push({name:d.cookies.sessionToken.name,value:l.sessionToken,options:{...d.cookies.sessionToken.options,expires:l.expires}});if(await (null==(t=x.signIn)?void 0:t.call(x,{user:i,account:o,profile:n,isNewUser:u})),u&&w.newUser)return{redirect:`${w.newUser}${w.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(b)}`,cookies:P};return{redirect:b,cookies:P}}catch(e){if("AccountNotLinkedError"===e.name)return{redirect:`${_}/error?error=OAuthAccountNotLinked`,cookies:P};if("CreateUserError"===e.name)return{redirect:`${_}/error?error=OAuthCreateAccount`,cookies:P};return O.error("OAUTH_CALLBACK_HANDLER_ERROR",e),{redirect:`${_}/error?error=Callback`,cookies:P}}}catch(e){if("OAuthCallbackError"===e.name)return O.error("OAUTH_CALLBACK_ERROR",{error:e,providerId:y.id}),{redirect:`${_}/error?error=OAuthCallback`,cookies:P};return O.error("OAUTH_CALLBACK_ERROR",e),{redirect:`${_}/error?error=Callback`,cookies:P}}if("email"===y.type)try{let e=null==f?void 0:f.token,t=null==f?void 0:f.email;if(!e)return{redirect:`${_}/error?error=configuration`,cookies:P};let r=await v.useVerificationToken({identifier:t,token:(0,o.hashToken)(e,d)});if(!r||r.expires.valueOf()<Date.now()||t&&r.identifier!==t)return{redirect:`${_}/error?error=Verification`,cookies:P};let i=await (0,s.default)({email:r.identifier,adapter:v}),u={providerAccountId:i.email,type:"email",provider:y.id};try{let e=await E.signIn({user:i,account:u});if(!e)return{redirect:`${_}/error?error=AccessDenied`,cookies:P};if("string"==typeof e)return{redirect:e,cookies:P}}catch(e){return{redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:P}}let{user:c,session:p,isNewUser:h}=await (0,a.default)({sessionToken:g.value,profile:i,account:u,options:d});if(T){let e={name:c.name,email:c.email,picture:c.image,sub:null==(l=c.id)?void 0:l.toString()},t=await E.jwt({token:e,user:c,account:u,isNewUser:h,trigger:h?"signUp":"signIn"}),r=await S.encode({...S,token:t}),n=new Date;n.setTime(n.getTime()+1e3*$);let i=g.chunk(r,{expires:n});P.push(...i)}else P.push({name:d.cookies.sessionToken.name,value:p.sessionToken,options:{...d.cookies.sessionToken.options,expires:p.expires}});if(await (null==(n=x.signIn)?void 0:n.call(x,{user:c,account:u,isNewUser:h})),h&&w.newUser)return{redirect:`${w.newUser}${w.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(b)}`,cookies:P};return{redirect:b,cookies:P}}catch(e){if("CreateUserError"===e.name)return{redirect:`${_}/error?error=EmailCreateAccount`,cookies:P};return O.error("CALLBACK_EMAIL_ERROR",e),{redirect:`${_}/error?error=Callback`,cookies:P}}if("credentials"===y.type&&"POST"===h){let e;try{if(!(e=await y.authorize(p,{query:f,body:p,headers:m,method:h})))return{status:401,redirect:`${_}/error?${new URLSearchParams({error:"CredentialsSignin",provider:y.id})}`,cookies:P}}catch(e){return{status:401,redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:P}}let t={providerAccountId:e.id,type:"credentials",provider:y.id};try{let r=await E.signIn({user:e,account:t,credentials:p});if(!r)return{status:403,redirect:`${_}/error?error=AccessDenied`,cookies:P};if("string"==typeof r)return{redirect:r,cookies:P}}catch(e){return{redirect:`${_}/error?error=${encodeURIComponent(e.message)}`,cookies:P}}let r={name:e.name,email:e.email,picture:e.image,sub:null==(u=e.id)?void 0:u.toString()},n=await E.jwt({token:r,user:e,account:t,isNewUser:!1,trigger:"signIn"}),i=await S.encode({...S,token:n}),a=new Date;a.setTime(a.getTime()+1e3*$);let o=g.chunk(i,{expires:a});return P.push(...o),await (null==(c=x.signIn)?void 0:c.call(x,{user:e,account:t})),{redirect:b,cookies:P}}return{status:500,body:`Error: Callback for provider type ${y.type} not supported`,cookies:P}}},13254,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=e.r(94962),i=e.r(6039),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(37826));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}async function s({options:e,query:t}){var r,o,s;let{logger:l,provider:u}=e,c={};if("string"==typeof u.authorization){let e=Object.fromEntries(new URL(u.authorization).searchParams);c={...c,...e}}else c={...c,...null==(o=u.authorization)?void 0:o.params};if(c={...c,...t},null!=(r=u.version)&&r.startsWith("1.")){let t=(0,i.oAuth1Client)(e),r=await t.getOAuthRequestToken(c),n=`${null==(s=u.authorization)?void 0:s.url}?${new URLSearchParams({oauth_token:r.oauth_token,oauth_token_secret:r.oauth_token_secret,...r.params})}`;return i.oAuth1TokenStore.set(r.oauth_token,r.oauth_token_secret),l.debug("GET_AUTHORIZATION_URL",{url:n,provider:u}),{redirect:n}}let d=await (0,n.openidClient)(e),f=c,p=[];await a.state.create(e,p,f),await a.pkce.create(e,p,f),await a.nonce.create(e,p,f);let h=d.authorizationUrl(f);return l.debug("GET_AUTHORIZATION_URL",{url:h,cookies:p,provider:u}),{redirect:h,cookies:p}}},68280,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var n=e.r(54799),i=e.r(24048);async function a(e,t){var r,a,o,s;let{url:l,adapter:u,provider:c,callbackUrl:d,theme:f}=t,p=null!=(r=await (null==(a=c.generateVerificationToken)?void 0:a.call(c)))?r:(0,n.randomBytes)(32).toString("hex"),h=new Date(Date.now()+(null!=(o=c.maxAge)?o:86400)*1e3),m=new URLSearchParams({callbackUrl:d,token:p,email:e}),g=`${l}/callback/${c.id}?${m}`;return await Promise.all([c.sendVerificationRequest({identifier:e,token:p,expires:h,url:g,provider:c,theme:f}),null==(s=u.createVerificationToken)?void 0:s.call(u,{identifier:e,token:(0,i.hashToken)(p,t),expires:h})]),`${l}/verify-request?${new URLSearchParams({provider:c.id,type:c.type})}`}},14495,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var i=n(e.r(13254)),a=n(e.r(68280)),o=n(e.r(10905));async function s(e){let{options:t,query:r,body:n}=e,{url:s,callbacks:l,logger:u,provider:c}=t;if(!c.type)return{status:500,text:`Error: Type not specified for ${c.name}`};if("oauth"===c.type)try{return await (0,i.default)({options:t,query:r})}catch(e){return u.error("SIGNIN_OAUTH_ERROR",{error:e,providerId:c.id}),{redirect:`${s}/error?error=OAuthSignin`}}if("email"===c.type){var d;let e=null==n?void 0:n.email;if(!e)return{redirect:`${s}/error?error=EmailSignin`};let r=null!=(d=c.normalizeIdentifier)?d:e=>{var t;let r=e.trim();if(1!==(null!=(t=r.match(/@/g))?t:[]).length||r.includes('"'))throw Error("Invalid email address format.");let[n,i]=r.toLowerCase().split("@");if(!n||!i||!(i=i.split(",")[0]).includes("."))throw Error("Invalid email address format.");return`${n}@${i}`};try{e=r(null==n?void 0:n.email)}catch(e){return u.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:c.id}),{redirect:`${s}/error?error=EmailSignin`}}let i=await (0,o.default)({email:e,adapter:t.adapter}),f={providerAccountId:e,userId:e,type:"email",provider:c.id};try{let e=await l.signIn({user:i,account:f,email:{verificationRequest:!0}});if(!e)return{redirect:`${s}/error?error=AccessDenied`};if("string"==typeof e)return{redirect:e}}catch(e){return{redirect:`${s}/error?${new URLSearchParams({error:e})}`}}try{return{redirect:await (0,a.default)(e,t)}}catch(e){return u.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:c.id}),{redirect:`${s}/error?error=EmailSignin`}}}return{redirect:`${s}/signin`}}},53844,(e,t,r)=>{"use strict";async function n(e){var t,r;let{options:n,sessionStore:i}=e,{adapter:a,events:o,jwt:s,callbackUrl:l,logger:u,session:c}=n,d=null==i?void 0:i.value;if(!d)return{redirect:l};if("jwt"===c.strategy)try{let e=await s.decode({...s,token:d});await (null==(t=o.signOut)?void 0:t.call(o,{token:e}))}catch(e){u.error("SIGNOUT_ERROR",e)}else try{let e=await a.deleteSession(d);await (null==(r=o.signOut)?void 0:r.call(o,{session:e}))}catch(e){u.error("SIGNOUT_ERROR",e)}return{redirect:l,cookies:i.clean()}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n},85687,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=i;var n=e.r(24048);async function i(e){var t,r,i,a,o,s;let{options:l,sessionStore:u,newSession:c,isUpdate:d}=e,{adapter:f,jwt:p,events:h,callbacks:m,logger:g,session:{strategy:y,maxAge:v}}=l,_={body:{},headers:[{key:"Content-Type",value:"application/json"},...d?[]:[{key:"Cache-Control",value:"private, no-cache, no-store"},{key:"Pragma",value:"no-cache"},{key:"Expires",value:"0"}]].filter(Boolean),cookies:[]},b=u.value;if(!b)return _;if("jwt"===y)try{let e=await p.decode({...p,token:b});if(!e)throw Error("JWT invalid");let i=await m.jwt({token:e,...d&&{trigger:"update"},session:c}),a=(0,n.fromDate)(v),o=await m.session({session:{user:{name:null==e?void 0:e.name,email:null==e?void 0:e.email,image:null==e?void 0:e.picture},expires:a.toISOString()},token:i});_.body=o;let s=await p.encode({...p,token:i,maxAge:l.session.maxAge}),f=u.chunk(s,{expires:a});null==(t=_.cookies)||t.push(...f),await (null==(r=h.session)?void 0:r.call(h,{session:o,token:i}))}catch(e){g.error("JWT_SESSION_ERROR",e),null==(i=_.cookies)||i.push(...u.clean())}else try{let{getSessionAndUser:e,deleteSession:t,updateSession:r}=f,i=await e(b);if(i&&i.session.expires.valueOf()<Date.now()&&(await t(b),i=null),i){let{user:e,session:t}=i,s=l.session.updateAge,u=t.expires.valueOf()-1e3*v+1e3*s,f=(0,n.fromDate)(v);u<=Date.now()&&await r({sessionToken:b,expires:f});let p=await m.session({session:{user:{name:e.name,email:e.email,image:e.image},expires:t.expires.toISOString()},user:e,newSession:c,...d?{trigger:"update"}:{}});_.body=p,null==(a=_.cookies)||a.push({name:l.cookies.sessionToken.name,value:b,options:{...l.cookies.sessionToken.options,expires:f}}),await (null==(o=h.session)?void 0:o.call(h,{session:p}))}else b&&(null==(s=_.cookies)||s.push(...u.clean()))}catch(e){g.error("SESSION_ERROR",e)}return _}},13284,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return{headers:[{key:"Content-Type",value:"application/json"}],body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}}},9415,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"callback",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"providers",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"session",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"signin",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"signout",{enumerable:!0,get:function(){return o.default}});var i=n(e.r(38642)),a=n(e.r(14495)),o=n(e.r(53844)),s=n(e.r(85687)),l=n(e.r(13284))},96637,(e,t,r)=>{var n,i,a,o,s,l,u,c,d,f,p,h={},m=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function v(e,t){for(var r in t)e[r]=t[r];return e}function _(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function b(e,t,r){var i,a,o,s={};for(o in t)"key"==o?i=t[o]:"ref"==o?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return w(e,s,i,a,null)}function w(e,t,r,n,o){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++a:o,__i:-1,__u:0};return null==o&&null!=i.vnode&&i.vnode(s),s}function S(e){return e.children}function x(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?E(e):null}function k(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!$.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||l)($)}function $(){var e,t,r,n,a,s,l,c;for(o.sort(u);e=o.shift();)e.__d&&(t=o.length,n=void 0,s=(a=(r=e).__v).__e,l=[],c=[],r.__P&&((n=v({},a)).__v=a.__v+1,i.vnode&&i.vnode(n),A(r.__P,n,a,r.__n,r.__P.namespaceURI,32&a.__u?[s]:null,l,null==s?E(a):s,!!(32&a.__u),c),n.__v=a.__v,n.__.__k[n.__i]=n,j(l,n,c),n.__e!=s&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),o.length>t&&o.sort(u));$.__r=0}function O(e,t,r,n,a,o,s,l,u,c,d){var f,p,g,v,b,x=n&&n.__k||m,k=t.length;for(r.__d=u,function(e,t,r){var n,a,o,s,l,u=t.length,c=r.length,d=c,f=0;for(e.__k=[],n=0;n<u;n++)null!=(a=t[n])&&"boolean"!=typeof a&&"function"!=typeof a?(s=n+f,(a=e.__k[n]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?w(null,a,null,null,null):y(a)?w(S,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?w(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,o=null,-1!==(l=a.__i=function(e,t,r,n){var i=e.key,a=e.type,o=r-1,s=r+1,l=t[r];if(null===l||l&&i==l.key&&a===l.type&&0==(131072&l.__u))return r;if(n>+(null!=l&&0==(131072&l.__u)))for(;o>=0||s<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return o;o--}if(s<t.length){if((l=t[s])&&0==(131072&l.__u)&&i==l.key&&a===l.type)return s;s++}}return -1}(a,r,s,d))&&(d--,(o=r[l])&&(o.__u|=131072)),null==o||null===o.__v?(-1==l&&f--,"function"!=typeof a.type&&(a.__u|=65536)):l!==s&&(l==s-1?f--:l==s+1?f++:(l>s?f--:f++,a.__u|=65536))):a=e.__k[n]=null;if(d)for(n=0;n<c;n++)null!=(o=r[n])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=E(o)),function e(t,r,n){var a,o;if(i.unmount&&i.unmount(t),(a=t.ref)&&(a.current&&a.current!==t.__e||N(a,null,r)),null!=(a=t.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(e){i.__e(e,r)}a.base=a.__P=null}if(a=t.__k)for(o=0;o<a.length;o++)a[o]&&e(a[o],r,n||"function"!=typeof t.type);n||_(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(o,o))}(r,t,x),u=r.__d,f=0;f<k;f++)null!=(g=r.__k[f])&&(p=-1===g.__i?h:x[g.__i]||h,g.__i=f,A(e,g,p,a,o,s,l,u,c,d),v=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&N(p.ref,null,g),d.push(g.ref,g.__c||v,g)),null==b&&null!=v&&(b=v),65536&g.__u||p.__k===g.__k?u=function e(t,r,n){var i,a;if("function"==typeof t.type){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,r=e(i[a],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=E(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType)return r}(g,u,e):"function"==typeof g.type&&void 0!==g.__d?u=g.__d:v&&(u=v.nextSibling),g.__d=void 0,g.__u&=-196609);r.__d=u,r.__e=b}function P(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||g.test(t)?r:r+"px"}function T(e,t,r,n,i){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||P(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||P(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.t=n.t:(r.t=c,e.addEventListener(t,a?f:d,a)):e.removeEventListener(t,a?f:d,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function I(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.u)t.u=c++;else if(t.u<r.t)return;return r(i.event?i.event(t):t)}}}function A(e,t,r,a,o,s,l,u,c,d){var f,p,m,g,b,w,k,$,P,I,A,j,N,R,D,U,M=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),s=[u=t.__e=r.__e]),(f=i.__b)&&f(t);e:if("function"==typeof M)try{if($=t.props,P="prototype"in M&&M.prototype.render,I=(f=M.contextType)&&a[f.__c],A=f?I?I.props.value:f.__:a,r.__c?k=(p=t.__c=r.__c).__=p.__E:(P?t.__c=p=new M($,A):(t.__c=p=new x($,A),p.constructor=M,p.render=C),I&&I.sub(p),p.props=$,p.state||(p.state={}),p.context=A,p.__n=a,m=p.__d=!0,p.__h=[],p._sb=[]),P&&null==p.__s&&(p.__s=p.state),P&&null!=M.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,M.getDerivedStateFromProps($,p.__s))),g=p.props,b=p.state,p.__v=t,m)P&&null==M.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),P&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(P&&null==M.getDerivedStateFromProps&&$!==g&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps($,A),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate($,p.__s,A)||t.__v===r.__v)){for(t.__v!==r.__v&&(p.props=$,p.state=p.__s,p.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),j=0;j<p._sb.length;j++)p.__h.push(p._sb[j]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate($,p.__s,A),P&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(g,b,w)})}if(p.context=A,p.props=$,p.__P=e,p.__e=!1,N=i.__r,R=0,P){for(p.state=p.__s,p.__d=!1,N&&N(t),f=p.render(p.props,p.state,p.context),D=0;D<p._sb.length;D++)p.__h.push(p._sb[D]);p._sb=[]}else do p.__d=!1,N&&N(t),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++R<25)p.state=p.__s,null!=p.getChildContext&&(a=v(v({},a),p.getChildContext())),P&&!m&&null!=p.getSnapshotBeforeUpdate&&(w=p.getSnapshotBeforeUpdate(g,b)),O(e,y(U=null!=f&&f.type===S&&null==f.key?f.props.children:f)?U:[U],t,r,a,o,s,l,u,c,d),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),k&&(p.__E=p.__=null)}catch(e){if(t.__v=null,c||null!=s){for(t.__u|=c?160:128;u&&8===u.nodeType&&u.nextSibling;)u=u.nextSibling;s[s.indexOf(u)]=null,t.__e=u}else t.__e=r.__e,t.__k=r.__k;i.__e(e,t,r)}else null==s&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,a,o,s,l,u,c){var d,f,p,m,g,v,b,w=r.props,S=t.props,x=t.type;if("svg"===x?o="http://www.w3.org/2000/svg":"math"===x?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=s){for(d=0;d<s.length;d++)if((g=s[d])&&"setAttribute"in g==!!x&&(x?g.localName===x:3===g.nodeType)){e=g,s[d]=null;break}}if(null==e){if(null===x)return document.createTextNode(S);e=document.createElementNS(o,x,S.is&&S),u&&(i.__m&&i.__m(t,s),u=!1),s=null}if(null===x)w===S||u&&e.data===S||(e.data=S);else{if(s=s&&n.call(e.childNodes),w=r.props||h,!u&&null!=s)for(w={},d=0;d<e.attributes.length;d++)w[(g=e.attributes[d]).name]=g.value;for(d in w)if(g=w[d],"children"==d);else if("dangerouslySetInnerHTML"==d)p=g;else if(!(d in S)){if("value"==d&&"defaultValue"in S||"checked"==d&&"defaultChecked"in S)continue;T(e,d,null,g,o)}for(d in S)g=S[d],"children"==d?m=g:"dangerouslySetInnerHTML"==d?f=g:"value"==d?v=g:"checked"==d?b=g:u&&"function"!=typeof g||w[d]===g||T(e,d,g,w[d],o);if(f)u||p&&(f.__html===p.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(p&&(e.innerHTML=""),O(e,y(m)?m:[m],t,r,a,"foreignObject"===x?"http://www.w3.org/1999/xhtml":o,s,l,s?s[0]:r.__k&&E(r,0),u,c),null!=s)for(d=s.length;d--;)_(s[d]);u||(d="value","progress"===x&&null==v?e.removeAttribute("value"):void 0===v||v===e[d]&&("progress"!==x||v)&&("option"!==x||v===w[d])||T(e,d,v,w[d],o),d="checked",void 0!==b&&b!==e[d]&&T(e,d,b,w[d],o))}return e}(r.__e,t,r,a,o,s,l,c,d);(f=i.diffed)&&f(t)}function j(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)N(r[n],r[++n],r[++n]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function N(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,r)}}function C(e,t,r){return this.constructor(e,r)}function R(e,t,r){var a,o,s,l;i.__&&i.__(e,t),o=(a="function"==typeof r)?null:r&&r.__k||t.__k,s=[],l=[],A(t,e=(!a&&r||t).__k=b(S,null,[e]),o||h,h,t.namespaceURI,!a&&r?[r]:o?null:t.firstChild?n.call(t.childNodes):null,s,!a&&r?r:o?o.__e:t.firstChild,a,l),j(s,e,l)}n=m.slice,i={__e:function(e,t,r,n){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},a=0,x.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},r),this.props)),e&&v(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},x.prototype.render=S,o=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,t){return e.__v.__b-t.__v.__b},$.__r=0,c=0,d=I(!1),f=I(!0),p=0,r.Component=x,r.Fragment=S,r.cloneElement=function(e,t,r){var i,a,o,s,l=v({},e.props);for(o in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)"key"==o?i=t[o]:"ref"==o?a=t[o]:l[o]=void 0===t[o]&&void 0!==s?s[o]:t[o];return arguments.length>2&&(l.children=arguments.length>3?n.call(arguments,2):r),w(e.type,l,i||e.key,a||e.ref,null)},r.createContext=function(e,t){var r={__c:t="__cC"+p++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n;return this.getChildContext||(r=new Set,(n={})[t]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.forEach(function(e){e.__e=!0,k(e)})},this.sub=function(e){r.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r&&r.delete(e),t&&t.call(e)}}),e.children}};return r.Provider.__=r.Consumer.contextType=r},r.createElement=b,r.createRef=function(){return{current:null}},r.h=b,r.hydrate=function e(t,r){R(t,r,e)},r.isValidElement=function(e){return null!=e&&null==e.constructor},r.options=i,r.render=R,r.toChildArray=function e(t,r){return r=r||[],null==t||"boolean"==typeof t||(y(t)?t.some(function(t){e(t,r)}):r.push(t)),r}},47335,(e,t,r)=>{e.e,function(e,t){var r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,n=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,i=/[\s\n\\/='"\0<>]/,a=/^xlink:?./,o=/["&<]/;function s(e){if(!1===o.test(e+=""))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var l=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},u=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},c={},d=/([A-Z])/g;function f(e){var t="";for(var n in e){var i=e[n];null!=i&&""!==i&&(t&&(t+=" "),t+="-"==n[0]?n:c[n]||(c[n]=n.replace(d,"-$1").toLowerCase()),t="number"==typeof i&&!1===r.test(n)?t+": "+i+"px;":t+": "+i+";")}return t||void 0}function p(e,t){return Array.isArray(t)?t.reduce(p,e):null!=t&&!1!==t&&e.push(t),e}function h(){this.__d=!0}function m(e,t){return{__v:e,context:t,props:e.props,setState:h,forceUpdate:h,__d:!0,__h:[]}}function g(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var y=[],v={shallow:!0};w.render=w;var _=function(e,t){return w(e,t,v)},b=[];function w(e,r,o){r=r||{};var c=t.options.__s;t.options.__s=!0;var d,h=t.h(t.Fragment,null);return h.__k=[e],d=o&&(o.pretty||o.voidElements||o.sortAttributes||o.shallow||o.allAttributes||o.xml||o.attributeHook)?function e(r,o,c,d,h,v){if(null==r||"boolean"==typeof r)return"";if("object"!=typeof r)return"function"==typeof r?"":s(r);var _=c.pretty,b=_&&"string"==typeof _?_:"	";if(Array.isArray(r)){for(var w="",S=0;S<r.length;S++)_&&S>0&&(w+="\n"),w+=e(r[S],o,c,d,h,v);return w}if(void 0!==r.constructor)return"";var x,E=r.type,k=r.props,$=!1;if("function"==typeof E){if($=!0,!c.shallow||!d&&!1!==c.renderRootComponent){if(E===t.Fragment){var O=[];return p(O,r.props.children),e(O,o,c,!1!==c.shallowHighOrder,h,v)}var P,T=r.__c=m(r,o);t.options.__b&&t.options.__b(r);var I=t.options.__r;if(E.prototype&&"function"==typeof E.prototype.render){var A=g(E,o);(T=r.__c=new E(k,A)).__v=r,T._dirty=T.__d=!0,T.props=k,null==T.state&&(T.state={}),null==T._nextState&&null==T.__s&&(T._nextState=T.__s=T.state),T.context=A,E.getDerivedStateFromProps?T.state=Object.assign({},T.state,E.getDerivedStateFromProps(T.props,T.state)):T.componentWillMount&&(T.componentWillMount(),T.state=T._nextState!==T.state?T._nextState:T.__s!==T.state?T.__s:T.state),I&&I(r),P=T.render(T.props,T.state,T.context)}else for(var j=g(E,o),N=0;T.__d&&N++<25;)T.__d=!1,I&&I(r),P=E.call(r.__c,k,j);return T.getChildContext&&(o=Object.assign({},o,T.getChildContext())),t.options.diffed&&t.options.diffed(r),e(P,o,c,!1!==c.shallowHighOrder,h,v)}E=(x=E).displayName||x!==Function&&x.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var r=-1,n=y.length;n--;)if(y[n]===e){r=n;break}r<0&&(r=y.push(e)-1),t="UnnamedComponent"+r}return t}(x)}var C,R,D="<"+E;if(k){var U=Object.keys(k);c&&!0===c.sortAttributes&&U.sort();for(var M=0;M<U.length;M++){var z=U[M],L=k[z];if("children"!==z){if(!i.test(z)&&(c&&c.allAttributes||"key"!==z&&"ref"!==z&&"__self"!==z&&"__source"!==z)){if("defaultValue"===z)z="value";else if("defaultChecked"===z)z="checked";else if("defaultSelected"===z)z="selected";else if("className"===z){if(void 0!==k.class)continue;z="class"}else h&&a.test(z)&&(z=z.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===z){if(k.for)continue;z="for"}"style"===z&&L&&"object"==typeof L&&(L=f(L)),"a"===z[0]&&"r"===z[1]&&"boolean"==typeof L&&(L=String(L));var J=c.attributeHook&&c.attributeHook(z,L,o,c,$);if(J||""===J)D+=J;else if("dangerouslySetInnerHTML"===z)R=L&&L.__html;else if("textarea"===E&&"value"===z)C=L;else if((L||0===L||""===L)&&"function"!=typeof L){if(!(!0!==L&&""!==L||(L=z,c&&c.xml))){D=D+" "+z;continue}if("value"===z){if("select"===E){v=L;continue}"option"===E&&v==L&&void 0===k.selected&&(D+=" selected")}D=D+" "+z+'="'+s(L)+'"'}}}else C=L}}if(_){var B=D.replace(/\n\s*/," ");B===D||~B.indexOf("\n")?_&&~D.indexOf("\n")&&(D+="\n"):D=B}if(D+=">",i.test(E))throw Error(E+" is not a valid HTML tag name in "+D);var W,H=n.test(E)||c.voidElements&&c.voidElements.test(E),q=[];if(R)_&&u(R)&&(R="\n"+b+l(R,b)),D+=R;else if(null!=C&&p(W=[],C).length){for(var Z=_&&~D.indexOf("\n"),F=!1,K=0;K<W.length;K++){var V=W[K];if(null!=V&&!1!==V){var G=e(V,o,c,!0,"svg"===E||"foreignObject"!==E&&h,v);if(_&&!Z&&u(G)&&(Z=!0),G)if(_){var Q=G.length>0&&"<"!=G[0];F&&Q?q[q.length-1]+=G:q.push(G),F=Q}else q.push(G)}}if(_&&Z)for(var X=q.length;X--;)q[X]="\n"+b+l(q[X],b)}if(q.length||R)D+=q.join("");else if(c&&c.xml)return D.substring(0,D.length-1)+" />";return!H||W||R?(_&&~D.indexOf("\n")&&(D+="\n"),D=D+"</"+E+">"):D=D.replace(/>$/," />"),D}(e,r,o):function e(r,o,l,u,c){if(null==r||!0===r||!1===r||""===r)return"";if("object"!=typeof r)return"function"==typeof r?"":s(r);if(x(r)){var d="";c.__k=r;for(var p=0;p<r.length;p++)d+=e(r[p],o,l,u,c),r[p]=S(r[p]);return d}if(void 0!==r.constructor)return"";r.__=c,t.options.__b&&t.options.__b(r);var h=r.type,y=r.props;if("function"==typeof h){if(h===t.Fragment)$=y.children;else{var v,_,b,w,k,$=h.prototype&&"function"==typeof h.prototype.render?(v=o,b=g(_=r.type,v),w=new _(r.props,b),r.__c=w,w.__v=r,w.__d=!0,w.props=r.props,null==w.state&&(w.state={}),null==w.__s&&(w.__s=w.state),w.context=b,_.getDerivedStateFromProps?w.state=E({},w.state,_.getDerivedStateFromProps(w.props,w.state)):w.componentWillMount&&(w.componentWillMount(),w.state=w.__s!==w.state?w.__s:w.state),(k=t.options.__r)&&k(r),w.render(w.props,w.state,w.context)):function(e,r){var n,i=m(e,r),a=g(e.type,r);e.__c=i;for(var o=t.options.__r,s=0;i.__d&&s++<25;)i.__d=!1,o&&o(e),n=e.type.call(i,e.props,a);return n}(r,o),O=r.__c;O.getChildContext&&(o=E({},o,O.getChildContext()))}var P=e($=null!=$&&$.type===t.Fragment&&null==$.key?$.props.children:$,o,l,u,r);return t.options.diffed&&t.options.diffed(r),r.__=void 0,t.options.unmount&&t.options.unmount(r),P}var T,I,A="<";if(A+=h,y)for(var j in T=y.children,y){var N,C,R,D=y[j];if(!("key"===j||"ref"===j||"__self"===j||"__source"===j||"children"===j||"className"===j&&"class"in y||"htmlFor"===j&&"for"in y||i.test(j))){if(C=j="className"===(N=j)?"class":"htmlFor"===N?"for":"defaultValue"===N?"value":"defaultChecked"===N?"checked":"defaultSelected"===N?"selected":l&&a.test(N)?N.toLowerCase().replace(/^xlink:?/,"xlink:"):N,R=D,D="style"===C&&null!=R&&"object"==typeof R?f(R):"a"===C[0]&&"r"===C[1]&&"boolean"==typeof R?String(R):R,"dangerouslySetInnerHTML"===j)I=D&&D.__html;else if("textarea"===h&&"value"===j)T=D;else if((D||0===D||""===D)&&"function"!=typeof D){if(!0===D||""===D){D=j,A=A+" "+j;continue}if("value"===j){if("select"===h){u=D;continue}"option"!==h||u!=D||"selected"in y||(A+=" selected")}A=A+" "+j+'="'+s(D)+'"'}}}var U=A;if(A+=">",i.test(h))throw Error(h+" is not a valid HTML tag name in "+A);var M="",z=!1;if(I)M+=I,z=!0;else if("string"==typeof T)M+=s(T),z=!0;else if(x(T)){r.__k=T;for(var L=0;L<T.length;L++){var J=T[L];if(T[L]=S(J),null!=J&&!1!==J){var B=e(J,o,"svg"===h||"foreignObject"!==h&&l,u,r);B&&(M+=B,z=!0)}}}else if(null!=T&&!1!==T&&!0!==T){r.__k=[S(T)];var W=e(T,o,"svg"===h||"foreignObject"!==h&&l,u,r);W&&(M+=W,z=!0)}if(t.options.diffed&&t.options.diffed(r),r.__=void 0,t.options.unmount&&t.options.unmount(r),z)A+=M;else if(n.test(h))return U+" />";return A+"</"+h+">"}(e,r,!1,void 0,h),t.options.__c&&t.options.__c(e,b),t.options.__s=c,b.length=0,d}function S(e){return null==e||"boolean"==typeof e?null:"string"==typeof e||"number"==typeof e||"bigint"==typeof e?t.h(null,null,e):e}var x=Array.isArray,E=Object.assign;w.shallowRender=_,e.default=w,e.render=w,e.renderToStaticMarkup=w,e.renderToString=w,e.shallowRender=_}(r,e.r(96637))},31634,(e,t,r)=>{t.exports=e.r(47335).default},46940,(e,t,r)=>{function n(){return t.exports=n=Object.assign.bind(),t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(null,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},59371,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t;let{csrfToken:r,providers:n,callbackUrl:s,theme:l,email:u,error:c}=e,d=n.filter(e=>"oauth"===e.type||"email"===e.type||"credentials"===e.type&&!!e.credentials);"undefined"!=typeof document&&l.buttonText&&document.documentElement.style.setProperty("--button-text-color",l.buttonText),"undefined"!=typeof document&&l.brandColor&&document.documentElement.style.setProperty("--brand-color",l.brandColor);let f={Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallback:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page.",default:"Unable to sign in."},p=c&&(null!=(t=f[c])?t:f.default),h="https://authjs.dev/img/providers";return(0,i.h)("div",{className:"signin"},l.brandColor&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${l.brandColor}
        }
      `}}),l.buttonText&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${l.buttonText}
        }
      `}}),(0,i.h)("div",{className:"card"},l.logo&&(0,i.h)("img",{src:l.logo,alt:"Logo",className:"logo"}),p&&(0,i.h)("div",{className:"error"},(0,i.h)("p",null,p)),d.map((e,t)=>{let n,l,c,f,p,m;if("oauth"===e.type){var g;({bg:n="",text:l="",logo:c="",bgDark:p=n,textDark:m=l,logoDark:f=""}=null!=(g=e.style)?g:{}),c=c.startsWith("/")?`${h}${c}`:c,(f=f.startsWith("/")?`${h}${f}`:f||c)||(f=c)}return(0,i.h)("div",{key:e.id,className:"provider"},"oauth"===e.type&&(0,i.h)("form",{action:e.signinUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),s&&(0,i.h)("input",{type:"hidden",name:"callbackUrl",value:s}),(0,i.h)("button",{type:"submit",className:"button",style:{"--provider-bg":n,"--provider-dark-bg":p,"--provider-color":l,"--provider-dark-color":m,"--provider-bg-hover":o(n,.8),"--provider-dark-bg-hover":o(p,.8)}},c&&(0,i.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo",src:`${c.startsWith("/")?h:""}${c}`}),f&&(0,i.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo-dark",src:`${c.startsWith("/")?h:""}${f}`}),(0,i.h)("span",null,"Sign in with ",e.name))),("email"===e.type||"credentials"===e.type)&&t>0&&"email"!==d[t-1].type&&"credentials"!==d[t-1].type&&(0,i.h)("hr",null),"email"===e.type&&(0,i.h)("form",{action:e.signinUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),(0,i.h)("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`},"Email"),(0,i.h)("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:u,placeholder:"email@example.com",required:!0}),(0,i.h)("button",{id:"submitButton",type:"submit"},"Sign in with ",e.name)),"credentials"===e.type&&(0,i.h)("form",{action:e.callbackUrl,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:r}),Object.keys(e.credentials).map(t=>{var r,n,o;return(0,i.h)("div",{key:`input-group-${e.id}`},(0,i.h)("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`},null!=(r=e.credentials[t].label)?r:t),(0,i.h)("input",(0,a.default)({name:t,id:`input-${t}-for-${e.id}-provider`,type:null!=(n=e.credentials[t].type)?n:"text",placeholder:null!=(o=e.credentials[t].placeholder)?o:""},e.credentials[t])))}),(0,i.h)("button",{type:"submit"},"Sign in with ",e.name)),("email"===e.type||"credentials"===e.type)&&t+1<d.length&&(0,i.h)("hr",null))})))};var i=e.r(96637),a=n(e.r(46940));function o(e,t=1){if(!e)return;3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let r=parseInt(e,16);return t=Math.min(Math.max(t,0),1),`rgba(${r>>16&255}, ${r>>8&255}, ${255&r}, ${t})`}},44654,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,csrfToken:r,theme:i}=e;return(0,n.h)("div",{className:"signout"},i.brandColor&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),i.buttonText&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),(0,n.h)("div",{className:"card"},i.logo&&(0,n.h)("img",{src:i.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,"Signout"),(0,n.h)("p",null,"Are you sure you want to sign out?"),(0,n.h)("form",{action:`${t}/signout`,method:"POST"},(0,n.h)("input",{type:"hidden",name:"csrfToken",value:r}),(0,n.h)("button",{id:"submitButton",type:"submit"},"Sign out"))))};var n=e.r(96637)},47231,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,theme:r}=e;return(0,n.h)("div",{className:"verify-request"},r.brandColor&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),(0,n.h)("div",{className:"card"},r.logo&&(0,n.h)("img",{src:r.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,"Check your email"),(0,n.h)("p",null,"A sign in link has been sent to your email address."),(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:t.origin},t.host))))};var n=e.r(96637)},67913,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t;let{url:r,error:i="default",theme:a}=e,o=`${r}/signin`,s={default:{status:200,heading:"Error",message:(0,n.h)("p",null,(0,n.h)("a",{className:"site",href:null==r?void 0:r.origin},null==r?void 0:r.host))},configuration:{status:500,heading:"Server error",message:(0,n.h)("div",null,(0,n.h)("p",null,"There is a problem with the server configuration."),(0,n.h)("p",null,"Check the server logs for more information."))},accessdenied:{status:403,heading:"Access Denied",message:(0,n.h)("div",null,(0,n.h)("p",null,"You do not have permission to sign in."),(0,n.h)("p",null,(0,n.h)("a",{className:"button",href:o},"Sign in")))},verification:{status:403,heading:"Unable to sign in",message:(0,n.h)("div",null,(0,n.h)("p",null,"The sign in link is no longer valid."),(0,n.h)("p",null,"It may have been used already or it may have expired.")),signin:(0,n.h)("a",{className:"button",href:o},"Sign in")}},{status:l,heading:u,message:c,signin:d}=null!=(t=s[i.toLowerCase()])?t:s.default;return{status:l,html:(0,n.h)("div",{className:"error"},(null==a?void 0:a.brandColor)&&(0,n.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${null==a?void 0:a.brandColor}
        }
      `}}),(0,n.h)("div",{className:"card"},(null==a?void 0:a.logo)&&(0,n.h)("img",{src:a.logo,alt:"Logo",className:"logo"}),(0,n.h)("h1",null,u),(0,n.h)("div",{className:"message"},c),d))}};var n=e.r(96637)},86446,(e,t,r)=>{t.exports=function(){return':root{--border-width:1px;--border-radius:0.5rem;--color-error:#c94b4b;--color-info:#157efb;--color-info-hover:#0f6ddb;--color-info-text:#fff}.__next-auth-theme-auto,.__next-auth-theme-light{--color-background:#ececec;--color-background-hover:hsla(0,0%,93%,.8);--color-background-card:#fff;--color-text:#000;--color-primary:#444;--color-control-border:#bbb;--color-button-active-background:#f9f9f9;--color-button-active-border:#aaa;--color-separator:#ccc}.__next-auth-theme-dark{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}@media (prefers-color-scheme:dark){.__next-auth-theme-auto{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}a.button,button{background-color:var(--provider-dark-bg,var(--color-background));color:var(--provider-dark-color,var(--color-primary))}a.button:hover,button:hover{background-color:var(--provider-dark-bg-hover,var(--color-background-hover))!important}#provider-logo{display:none!important}#provider-logo-dark{display:block!important;width:25px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{background-color:var(--color-background);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:0;padding:0}h1{font-weight:400}h1,p{color:var(--color-text);margin-bottom:1.5rem;padding:0 1rem}form{margin:0;padding:0}label{font-weight:500;margin-bottom:.25rem;text-align:left}input[type],label{color:var(--color-text);display:block}input[type]{background:var(--color-background-card);border:var(--border-width) solid var(--color-control-border);border-radius:var(--border-radius);box-sizing:border-box;font-size:1rem;padding:.5rem 1rem;width:100%}input[type]:focus{box-shadow:none}p{font-size:1.1rem;line-height:2rem}a.button{line-height:1rem;text-decoration:none}a.button:link,a.button:visited{background-color:var(--color-background);color:var(--color-primary)}button span{flex-grow:1}a.button,button{align-items:center;background-color:var(--provider-bg);border-color:rgba(0,0,0,.1);border-radius:var(--border-radius);color:var(--provider-color,var(--color-primary));display:flex;font-size:1.1rem;font-weight:500;justify-content:center;min-height:62px;padding:.75rem 1rem;position:relative;transition:all .1s ease-in-out}a.button:hover,button:hover{background-color:var(--provider-bg-hover,var(--color-background-hover));cursor:pointer}a.button:active,button:active{cursor:pointer}a.button #provider-logo,button #provider-logo{display:block;width:25px}a.button #provider-logo-dark,button #provider-logo-dark{display:none}#submitButton{background-color:var(--brand-color,var(--color-info));color:var(--button-text-color,var(--color-info-text));width:100%}#submitButton:hover{background-color:var(--button-hover-bg,var(--color-info-hover))!important}a.site{color:var(--color-primary);font-size:1rem;line-height:2rem;text-decoration:none}a.site:hover{text-decoration:underline}.page{box-sizing:border-box;display:grid;height:100%;margin:0;padding:0;place-items:center;position:absolute;width:100%}.page>div{text-align:center}.error a.button{margin-top:.5rem;padding-left:2rem;padding-right:2rem}.error .message{margin-bottom:1.5rem}.signin input[type=text]{display:block;margin-left:auto;margin-right:auto}.signin hr{border:0;border-top:1px solid var(--color-separator);display:block;margin:2rem auto 1rem;overflow:visible}.signin hr:before{background:var(--color-background-card);color:#888;content:"or";padding:0 .4rem;position:relative;top:-.7rem}.signin .error{background:#f5f5f5;background:var(--color-error);border-radius:.3rem;font-weight:500}.signin .error p{color:var(--color-info-text);font-size:.9rem;line-height:1.2rem;padding:.5rem 1rem;text-align:left}.signin form,.signin>div{display:block}.signin form input[type],.signin>div input[type]{margin-bottom:.5rem}.signin form button,.signin>div button{width:100%}.signin .provider+.provider{margin-top:1rem}.logo{display:inline-block;margin:1.25rem 0;max-height:70px;max-width:150px}.card{background-color:var(--color-background-card);border-radius:2rem;padding:1.25rem 2rem}.card .header{color:var(--color-primary)}.section-header{color:var(--color-text)}@media screen and (min-width:450px){.card{margin:2rem 0;width:368px}}@media screen and (max-width:450px){.card{margin:1rem 0;width:343px}}'}},56480,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,theme:r,query:n,cookies:c}=e;function d({html:e,title:t,status:n}){var a;return{cookies:c,status:n,headers:[{key:"Content-Type",value:"text/html"}],body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${(0,u.default)()}</style><title>${t}</title></head><body class="__next-auth-theme-${null!=(a=null==r?void 0:r.colorScheme)?a:"auto"}"><div class="page">${(0,i.default)(e)}</div></body></html>`}}return{signin:t=>d({html:(0,a.default)({csrfToken:e.csrfToken,providers:e.providers,callbackUrl:e.callbackUrl,theme:r,...n,...t}),title:"Sign In"}),signout:n=>d({html:(0,o.default)({csrfToken:e.csrfToken,url:t,theme:r,...n}),title:"Sign Out"}),verifyRequest:e=>d({html:(0,s.default)({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>d({...(0,l.default)({url:t,theme:r,...e}),title:"Error"})}};var i=n(e.r(31634)),a=n(e.r(59371)),o=n(e.r(44654)),s=n(e.r(47231)),l=n(e.r(67913)),u=n(e.r(86446))},92112,(e,t,r)=>{"use strict";function n(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.merge=function e(t,...r){if(!r.length)return t;let i=r.shift();if(n(t)&&n(i))for(let r in i)n(i[r])?(t[r]||Object.assign(t,{[r]:{}}),e(t[r],i[r])):Object.assign(t,{[r]:i[r]});return e(t,...r)}},68873,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{url:t,providerId:r}=e,a=e.providers.map(({options:e,...r})=>{var a,o;if("oauth"===r.type){let a=i(r),s=i(e,!0),l=null!=(o=null==s?void 0:s.id)?o:r.id;return(0,n.merge)(a,{...s,signinUrl:`${t}/signin/${l}`,callbackUrl:`${t}/callback/${l}`})}let s=null!=(a=null==e?void 0:e.id)?a:r.id;return(0,n.merge)(r,{...e,signinUrl:`${t}/signin/${s}`,callbackUrl:`${t}/callback/${s}`})});return{providers:a,provider:a.find(({id:e})=>e===r)}};var n=e.r(92112);function i(e,t=!1){var r,n,a,o,s;if(!e)return;let l=Object.entries(e).reduce((e,[t,r])=>{if(["authorization","token","userinfo"].includes(t)&&"string"==typeof r){var n;let i=new URL(r);e[t]={url:`${i.origin}${i.pathname}`,params:Object.fromEntries(null!=(n=i.searchParams)?n:[])}}else e[t]=r;return e},{});return t||null!=(r=l.version)&&r.startsWith("1.")||(l.idToken=!!(null!=(n=null!=(a=l.idToken)?a:null==(o=l.wellKnown)?void 0:o.includes("openid-configuration"))?n:null==(s=l.authorization)||null==(s=s.params)||null==(s=s.scope)?void 0:s.includes("openid")),l.checks||(l.checks=["state"])),l}},62248,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultCallbacks=void 0,r.defaultCallbacks={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>e,jwt:({token:e})=>e}},89989,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createCSRFToken=function({options:e,cookieValue:t,isPost:r,bodyValue:i}){if(t){let[a,o]=t.split("|");if(o===(0,n.createHash)("sha256").update(`${a}${e.secret}`).digest("hex"))return{csrfTokenVerified:r&&a===i,csrfToken:a}}let a=(0,n.randomBytes)(32).toString("hex"),o=(0,n.createHash)("sha256").update(`${a}${e.secret}`).digest("hex");return{cookie:`${a}|${o}`,csrfToken:a}};var n=e.r(54799)},89725,(e,t,r)=>{"use strict";async function n({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}Object.defineProperty(r,"__esModule",{value:!0}),r.createCallbackUrl=n},90510,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var t;let r=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let n=new URL(null!=(t=e)?t:r),i=("/"===n.pathname?r.pathname:n.pathname).replace(/\/$/,""),a=`${n.origin}${i}`;return{origin:n.origin,host:n.host,path:i,base:a,toString:()=>a}}},58510,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.init=y;var i=e.r(54799),a=n(e.r(966)),o=e.r(90383),s=n(e.r(68873)),l=e.r(24048),u=g(e.r(47674)),c=g(e.r(63466)),d=e.r(62248),f=e.r(89989),p=e.r(89725),h=n(e.r(90510));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}async function y({authOptions:e,providerId:t,action:r,origin:n,cookies:m,callbackUrl:g,csrfToken:y,isPost:v}){var _,b;let w=(0,h.default)(n),S=(0,l.createSecret)({authOptions:e,url:w}),{providers:x,provider:E}=(0,s.default)({providers:e.providers,url:w,providerId:t}),k={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:w,action:r,provider:E,cookies:{...u.defaultCookies(null!=(_=e.useSecureCookies)?_:w.base.startsWith("https://")),...e.cookies},secret:S,providers:x,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>{var e;return null!=(e=null===i.randomUUID||void 0===i.randomUUID?void 0:(0,i.randomUUID)())?e:(0,i.randomBytes)(32).toString("hex")},...e.session},jwt:{secret:S,maxAge:2592e3,encode:c.encode,decode:c.decode,...e.jwt},events:(0,o.eventsErrorHandler)(null!=(b=e.events)?b:{},a.default),adapter:(0,o.adapterErrorHandler)(e.adapter,a.default),callbacks:{...d.defaultCallbacks,...e.callbacks},logger:a.default,callbackUrl:w.origin},$=[],{csrfToken:O,cookie:P,csrfTokenVerified:T}=(0,f.createCSRFToken)({options:k,cookieValue:null==m?void 0:m[k.cookies.csrfToken.name],isPost:v,bodyValue:y});k.csrfToken=O,k.csrfTokenVerified=T,P&&$.push({name:k.cookies.csrfToken.name,value:P,options:k.cookies.csrfToken.options});let{callbackUrl:I,callbackUrlCookie:A}=await (0,p.createCallbackUrl)({options:k,cookieValue:null==m?void 0:m[k.cookies.callbackUrl.name],paramValue:g});return k.callbackUrl=I,A&&$.push({name:k.cookies.callbackUrl.name,value:A,options:k.cookies.callbackUrl.options}),{options:k,cookies:$}}},30942,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.assertConfig=function(e){var t,r,n,u,c,d,f;let p,h,m,{options:g,req:y}=e,v=[];if(!s&&(y.origin||v.push("NEXTAUTH_URL"),g.debug&&v.push("DEBUG_ENABLED")),!g.secret)return new i.MissingSecret("Please define a `secret` in production.");if(!(null!=(t=y.query)&&t.nextauth)&&!y.action)return new i.MissingAPIRoute("Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.");let _=null==(r=y.query)?void 0:r.callbackUrl,b=(0,a.default)(y.origin);if(_&&!l(_,b.base))return new i.InvalidCallbackUrl(`Invalid callback URL. Received: ${_}`);let{callbackUrl:w}=(0,o.defaultCookies)(null!=(n=g.useSecureCookies)?n:b.base.startsWith("https://")),S=null==(u=y.cookies)?void 0:u[null!=(c=null==(d=g.cookies)||null==(d=d.callbackUrl)?void 0:d.name)?c:w.name];if(S&&!l(S,b.base))return new i.InvalidCallbackUrl(`Invalid callback URL. Received: ${S}`);for(let e of g.providers)"credentials"===e.type?p=!0:"email"===e.type?h=!0:"twitter"===e.id&&"2.0"===e.version&&(m=!0);if(p){let e=(null==(f=g.session)?void 0:f.strategy)==="database",t=!g.providers.some(e=>"credentials"!==e.type);if(e&&t)return new i.UnsupportedStrategy("Signin in with credentials only supported if JWT strategy is enabled");if(g.providers.some(e=>"credentials"===e.type&&!e.authorize))return new i.MissingAuthorize("Must define an authorize() handler to use credentials authentication provider")}if(h){let{adapter:e}=g;if(!e)return new i.MissingAdapter("E-mail login requires an adapter.");let t=["createVerificationToken","useVerificationToken","getUserByEmail"].filter(t=>!e[t]);if(t.length)return new i.MissingAdapterMethods(`Required adapter methods were missing: ${t.join(", ")}`)}return s||(m&&v.push("TWITTER_OAUTH_2_BETA"),s=!0),v};var i=e.r(90383),a=n(e.r(90510)),o=e.r(47674);let s=!1;function l(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch(e){return!1}}},92907,(e,t,r)=>{"use strict";r.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var r={},n=e.length;if(n<2)return r;var a=t&&t.decode||d,o=0,s=0,l=0;do{if(-1===(s=e.indexOf("=",o)))break;if(-1===(l=e.indexOf(";",o)))l=n;else if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}var f=u(e,o,s),p=c(e,s,f),h=e.slice(f,p);if(!i.call(r,h)){var m=u(e,s+1,l),g=c(e,l,m);34===e.charCodeAt(m)&&34===e.charCodeAt(g-1)&&(m++,g--);var y=e.slice(m,g);r[h]=function(e,t){try{return t(e)}catch(t){return e}}(y,a)}o=l+1}while(o<n)return r},r.serialize=function(e,t,r){var i=r&&r.encode||encodeURIComponent;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var u=i(t);if(!o.test(u))throw TypeError("argument val is invalid");var c=e+"="+u;if(!r)return c;if(null!=r.maxAge){var d=Math.floor(r.maxAge);if(!isFinite(d))throw TypeError("option maxAge is invalid");c+="; Max-Age="+d}if(r.domain){if(!s.test(r.domain))throw TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!l.test(r.path))throw TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){var f,p=r.expires;if(f=p,"[object Date]"!==n.call(f)||isNaN(p.valueOf()))throw TypeError("option expires is invalid");c+="; Expires="+p.toUTCString()}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.partitioned&&(c+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":c+="; Priority=Low";break;case"medium":c+="; Priority=Medium";break;case"high":c+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var n=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,o=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/;function u(e,t,r){do{var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<r)return r}function c(e,t,r){for(;t>r;){var n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return r}function d(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},44825,(e,t,r)=>{"use strict";var n=e.r(64348);Object.defineProperty(r,"__esModule",{value:!0}),r.AuthHandler=g;var i=p(e.r(966)),a=e.r(32483),o=p(e.r(9415)),s=n(e.r(56480)),l=e.r(58510),u=e.r(30942),c=e.r(47674),d=e.r(92907);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}async function h(e){try{return await e.json()}catch(e){}}async function m(e){var t,r,n,i;if(e instanceof Request){let t=new URL(e.url),o=t.pathname.split("/").slice(3),s=Object.fromEntries(e.headers),l=Object.fromEntries(t.searchParams);return l.nextauth=o,{action:o[0],method:e.method,headers:s,body:await h(e),cookies:(0,d.parse)(null!=(r=e.headers.get("cookie"))?r:""),providerId:o[1],error:null!=(n=t.searchParams.get("error"))?n:o[1],origin:(0,a.detectOrigin)(null!=(i=s["x-forwarded-host"])?i:s.host,s["x-forwarded-proto"]),query:l}}let{headers:o}=e,s=null!=(t=null==o?void 0:o["x-forwarded-host"])?t:null==o?void 0:o.host;return e.origin=(0,a.detectOrigin)(s,null==o?void 0:o["x-forwarded-proto"]),e}async function g(e){var t,r,n,a,d,f,p;let{options:h,req:g}=e,y=await m(g);(0,i.setLogger)(h.logger,h.debug);let v=(0,u.assertConfig)({options:h,req:y});if(Array.isArray(v))v.forEach(i.default.warn);else if(v instanceof Error){if(i.default.error(v.code,v),!["signin","signout","error","verify-request"].includes(y.action)||"GET"!==y.method)return{status:500,headers:[{key:"Content-Type",value:"application/json"}],body:{message:"There is a problem with the server configuration. Check the server logs for more information."}};let{pages:e,theme:t}=h,r=(null==e?void 0:e.error)&&(null==(d=y.query)||null==(d=d.callbackUrl)?void 0:d.startsWith(e.error));return!(null!=e&&e.error)||r?(r&&i.default.error("AUTH_ON_ERROR_PAGE_ERROR",Error(`The error page ${null==e?void 0:e.error} should not require authentication`)),(0,s.default)({theme:t}).error({error:"configuration"})):{redirect:`${e.error}?error=Configuration`}}let{action:_,providerId:b,error:w,method:S="GET"}=y,{options:x,cookies:E}=await (0,l.init)({authOptions:h,action:_,providerId:b,origin:y.origin,callbackUrl:null!=(t=null==(r=y.body)?void 0:r.callbackUrl)?t:null==(n=y.query)?void 0:n.callbackUrl,csrfToken:null==(a=y.body)?void 0:a.csrfToken,cookies:y.cookies,isPost:"POST"===S}),k=new c.SessionStore(x.cookies.sessionToken,y,x.logger);if("GET"===S){let e=(0,s.default)({...x,query:y.query,cookies:E}),{pages:t}=x;switch(_){case"providers":return await o.providers(x.providers);case"session":{let e=await o.session({options:x,sessionStore:k});return e.cookies&&E.push(...e.cookies),{...e,cookies:E}}case"csrf":return{headers:[{key:"Content-Type",value:"application/json"},{key:"Cache-Control",value:"private, no-cache, no-store"},{key:"Pragma",value:"no-cache"},{key:"Expires",value:"0"}],body:{csrfToken:x.csrfToken},cookies:E};case"signin":if(t.signIn){let e=`${t.signIn}${t.signIn.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(x.callbackUrl)}`;return w&&(e=`${e}&error=${encodeURIComponent(w)}`),{redirect:e,cookies:E}}return e.signin();case"signout":if(t.signOut)return{redirect:t.signOut,cookies:E};return e.signout();case"callback":if(x.provider){let e=await o.callback({body:y.body,query:y.query,headers:y.headers,cookies:y.cookies,method:S,options:x,sessionStore:k});return e.cookies&&E.push(...e.cookies),{...e,cookies:E}}break;case"verify-request":if(t.verifyRequest)return{redirect:t.verifyRequest,cookies:E};return e.verifyRequest();case"error":if(["Signin","OAuthSignin","OAuthCallback","OAuthCreateAccount","EmailCreateAccount","Callback","OAuthAccountNotLinked","EmailSignin","CredentialsSignin","SessionRequired"].includes(w))return{redirect:`${x.url}/signin?error=${w}`,cookies:E};if(t.error)return{redirect:`${t.error}${t.error.includes("?")?"&":"?"}error=${w}`,cookies:E};return e.error({error:w})}}else if("POST"===S)switch(_){case"signin":if(x.csrfTokenVerified&&x.provider){let e=await o.signin({query:y.query,body:y.body,options:x});return e.cookies&&E.push(...e.cookies),{...e,cookies:E}}return{redirect:`${x.url}/signin?csrf=true`,cookies:E};case"signout":if(x.csrfTokenVerified){let e=await o.signout({options:x,sessionStore:k});return e.cookies&&E.push(...e.cookies),{...e,cookies:E}}return{redirect:`${x.url}/signout?csrf=true`,cookies:E};case"callback":if(x.provider){if("credentials"===x.provider.type&&!x.csrfTokenVerified)return{redirect:`${x.url}/signin?csrf=true`,cookies:E};let e=await o.callback({body:y.body,query:y.query,headers:y.headers,cookies:y.cookies,method:S,options:x,sessionStore:k});return e.cookies&&E.push(...e.cookies),{...e,cookies:E}}break;case"_log":if(h.logger)try{let{code:e,level:t,...r}=null!=(f=y.body)?f:{};i.default[t](e,r)}catch(e){i.default.error("LOGGER_ERROR",e)}return{};case"session":if(x.csrfTokenVerified){let e=await o.session({options:x,sessionStore:k,newSession:null==(p=y.body)?void 0:p.data,isUpdate:!0});return e.cookies&&E.push(...e.cookies),{...e,cookies:E}}return{status:400,body:{},cookies:E}}return{status:400,body:`Error: This action with HTTP ${S} is not supported by NextAuth.js`}}},30501,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getBody=i,r.setCookie=function(e,t){var r;let i=null!=(r=e.getHeader("Set-Cookie"))?r:[];Array.isArray(i)||(i=[i]);let{name:a,value:o,options:s}=t,l=(0,n.serialize)(a,o,s);i.push(l),e.setHeader("Set-Cookie",i)},r.toResponse=function(e){var t,r,i;let a=new Headers(null==(t=e.headers)?void 0:t.reduce((e,{key:t,value:r})=>(e[t]=r,e),{}));null==(r=e.cookies)||r.forEach(e=>{let{name:t,value:r,options:i}=e,o=(0,n.serialize)(t,r,i);a.has("Set-Cookie")?a.append("Set-Cookie",o):a.set("Set-Cookie",o)});let o=e.body;"application/json"===a.get("content-type")?o=JSON.stringify(e.body):"application/x-www-form-urlencoded"===a.get("content-type")&&(o=new URLSearchParams(e.body).toString());let s=new Response(o,{headers:a,status:e.redirect?302:null!=(i=e.status)?i:200});return e.redirect&&s.headers.set("Location",e.redirect),s};var n=e.r(92907);async function i(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return null!=t&&t.includes("application/json")?await e.json():null!=t&&t.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}},472,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={RequestCookies:function(){return a.RequestCookies},ResponseCookies:function(){return a.ResponseCookies},stringifyCookie:function(){return a.stringifyCookie}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(19481)},30759,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},30240,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={MutableRequestCookiesAdapter:function(){return p},ReadonlyRequestCookiesError:function(){return l},RequestCookiesAdapter:function(){return u},appendMutableCookies:function(){return f},areCookiesMutableInCurrentPhase:function(){return m},createCookiesWithMutableAccessCheck:function(){return h},getModifiedCookieValues:function(){return d},responseCookiesToRequestCookies:function(){return y}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(472),o=e.r(30759),s=e.r(56704);class l extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new l}}class u{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return l.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}}let c=Symbol.for("next.mutated.cookies");function d(e){let t=e[c];return t&&Array.isArray(t)&&0!==t.length?t:[]}function f(e,t){let r=d(t);if(0===r.length)return!1;let n=new a.ResponseCookies(e),i=n.getAll();for(let e of r)n.set(e);for(let e of i)n.set(e);return!0}class p{static wrap(e,t){let r=new a.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,l=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new a.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},u=new Proxy(r,{get(e,t,r){switch(t){case c:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),u}finally{l()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),u}finally{l()}};default:return o.ReflectAdapter.get(e,t,r)}}});return u}}function h(e){let t=new Proxy(e.mutableCookies,{get(r,n,i){switch(n){case"delete":return function(...n){return g(e,"cookies().delete"),r.delete(...n),t};case"set":return function(...n){return g(e,"cookies().set"),r.set(...n),t};default:return o.ReflectAdapter.get(r,n,i)}}});return t}function m(e){return"action"===e.phase}function g(e,t){if(!m(e))throw new l}function y(e){let t=new a.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},65252,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DynamicServerError:function(){return o},isDynamicServerError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="DYNAMIC_SERVER_USAGE";class o extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest=a}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===a}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},97573,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={StaticGenBailoutError:function(){return o},isStaticGenBailoutError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="NEXT_STATIC_GEN_BAILOUT";class o extends Error{constructor(...e){super(...e),this.code=a}}function s(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===a}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},4642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isHangingPromiseRejectionError:function(){return a},makeDevtoolsIOAwarePromise:function(){return d},makeHangingPromise:function(){return u}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===o}let o="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=o}}let l=new WeakMap;function u(e,t,r){if(e.aborted)return Promise.reject(new s(t,r));{let n=new Promise((n,i)=>{let a=i.bind(null,new s(t,r)),o=l.get(e);if(o)o.push(a);else{let t=[a];l.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(c),n}}function c(){}function d(e,t,r){return t.stagedRendering?t.stagedRendering.delayUntilStage(r,void 0,e):new Promise(t=>{setTimeout(()=>{t(e)},0)})}},96306,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={METADATA_BOUNDARY_NAME:function(){return a},OUTLET_BOUNDARY_NAME:function(){return s},ROOT_LAYOUT_BOUNDARY_NAME:function(){return l},VIEWPORT_BOUNDARY_NAME:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="__next_metadata_boundary__",o="__next_viewport_boundary__",s="__next_outlet_boundary__",l="__next_root_layout_boundary__"},38244,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={atLeastOneTask:function(){return s},scheduleImmediate:function(){return o},scheduleOnNextTick:function(){return a},waitAtLeastOneReactRenderTask:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},o=e=>{setImmediate(e)};function s(){return new Promise(e=>o(e))}function l(){return new Promise(e=>setImmediate(e))}},31584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={BailoutToCSRError:function(){return o},isBailoutToCSRError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="BAILOUT_TO_CLIENT_SIDE_RENDERING";class o extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=a}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===a}},76414,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return n}});class n extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},8211,(e,t,r)=>{"use strict";function n(){let e,t,r=new Promise((r,n)=>{e=r,t=n});return{resolve:e,reject:t,promise:r}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createPromiseWithResolvers",{enumerable:!0,get:function(){return n}})},18185,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={RenderStage:function(){return l},StagedRenderingController:function(){return u}};for(var a in i)Object.defineProperty(r,a,{enumerable:!0,get:i[a]});let o=e.r(76414),s=e.r(8211);var l=((n={})[n.Static=1]="Static",n[n.Runtime=2]="Runtime",n[n.Dynamic=3]="Dynamic",n);class u{constructor(e=null){this.abortSignal=e,this.currentStage=1,this.runtimeStagePromise=(0,s.createPromiseWithResolvers)(),this.dynamicStagePromise=(0,s.createPromiseWithResolvers)(),e&&e.addEventListener("abort",()=>{let{reason:t}=e;this.currentStage<2&&(this.runtimeStagePromise.promise.catch(c),this.runtimeStagePromise.reject(t)),this.currentStage<3&&(this.dynamicStagePromise.promise.catch(c),this.dynamicStagePromise.reject(t))},{once:!0})}advanceStage(e){!(this.currentStage>=e)&&(this.currentStage=e,e>=2&&this.runtimeStagePromise.resolve(),e>=3&&this.dynamicStagePromise.resolve())}getStagePromise(e){switch(e){case 2:return this.runtimeStagePromise.promise;case 3:return this.dynamicStagePromise.promise;default:throw Object.defineProperty(new o.InvariantError(`Invalid render stage: ${e}`),"__NEXT_ERROR_CODE",{value:"E881",enumerable:!1,configurable:!0})}}waitForStage(e){return this.getStagePromise(e)}delayUntilStage(e,t,r){var n,i,a;let o,s=(n=this.getStagePromise(e),i=t,a=r,o=new Promise((e,t)=>{n.then(e.bind(null,a),t)}),void 0!==i&&(o.displayName=i),o);return this.abortSignal&&s.catch(c),s}}function c(){}},68665,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i,a={Postpone:function(){return T},PreludeState:function(){return Q},abortAndThrowOnSynchronousRequestDataAccess:function(){return P},abortOnSynchronousPlatformIOAccess:function(){return $},accessedDynamicData:function(){return U},annotateDynamicAccess:function(){return B},consumeDynamicAccess:function(){return M},createDynamicTrackingState:function(){return _},createDynamicValidationState:function(){return b},createHangingInputAbortSignal:function(){return J},createRenderInBrowserAbortSignal:function(){return L},delayUntilRuntimeStage:function(){return ee},formatDynamicAPIAccesses:function(){return z},getFirstDynamicReason:function(){return w},isDynamicPostpone:function(){return j},isPrerenderInterruptedError:function(){return D},logDisallowedDynamicError:function(){return X},markCurrentScopeAsDynamic:function(){return S},postponeWithTracking:function(){return I},throwIfDisallowedDynamic:function(){return Y},throwToInterruptStaticGeneration:function(){return x},trackAllowedDynamicAccess:function(){return G},trackDynamicDataInDynamicRender:function(){return E},trackSynchronousPlatformIOAccessInDev:function(){return O},useDynamicRouteParams:function(){return W},useDynamicSearchParams:function(){return H}};for(var o in a)Object.defineProperty(r,o,{enumerable:!0,get:a[o]});let s=(n=e.r(47540))&&n.__esModule?n:{default:n},l=e.r(65252),u=e.r(97573),c=e.r(32319),d=e.r(56704),f=e.r(4642),p=e.r(96306),h=e.r(38244),m=e.r(31584),g=e.r(76414),y=e.r(18185),v="function"==typeof s.default.unstable_postpone;function _(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function b(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function w(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function S(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return I(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new l.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function x(e,t,r){let n=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function E(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function k(e,t,r){let n=R(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function $(e,t,r,n){let i=n.dynamicTracking;k(e,t,n),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function O(e){e.stagedRendering&&e.stagedRendering.advanceStage(y.RenderStage.Dynamic)}function P(e,t,r,n){if(!1===n.controller.signal.aborted){k(e,t,n);let i=n.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw R(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function T({reason:e,route:t}){let r=c.workUnitAsyncStorage.getStore();I(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function I(e,t,r){(function(){if(!v)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),s.default.unstable_postpone(A(e,t))}function A(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function j(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&N(e.message)}function N(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===N(A("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let C="NEXT_PRERENDER_INTERRUPTED";function R(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=C,t}function D(e){return"object"==typeof e&&null!==e&&e.digest===C&&"name"in e&&"message"in e&&e instanceof Error}function U(e){return e.length>0}function M(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function z(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function L(){let e=new AbortController;return e.abort(Object.defineProperty(new m.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function J(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,c.getRuntimeStagePromise)(e);r?r.then(()=>(0,h.scheduleOnNextTick)(()=>t.abort())):(0,h.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function B(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function W(e){let t=d.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let n=r.fallbackRouteParams;n&&n.size>0&&s.default.use((0,f.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n&&n.size>0)return I(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}function H(e){let t=d.workAsyncStorage.getStore(),r=c.workUnitAsyncStorage.getStore();if(t)switch(!r&&(0,c.throwForMissingRequestStore)(e),r.type){case"prerender-client":s.default.use((0,f.makeHangingPromise)(r.renderSignal,t.route,e));break;case"prerender-legacy":case"prerender-ppr":if(t.forceStatic)return;throw Object.defineProperty(new m.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called from a Server Component. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E795",enumerable:!1,configurable:!0});case"cache":case"unstable-cache":case"private-cache":throw Object.defineProperty(new g.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0});case"request":return}}let q=/\n\s+at Suspense \(<anonymous>\)/,Z=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${p.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),F=RegExp(`\\n\\s+at ${p.METADATA_BOUNDARY_NAME}[\\n\\s]`),K=RegExp(`\\n\\s+at ${p.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),V=RegExp(`\\n\\s+at ${p.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function G(e,t,r,n){if(!V.test(t)){if(F.test(t)){r.hasDynamicMetadata=!0;return}if(K.test(t)){r.hasDynamicViewport=!0;return}if(Z.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(q.test(t)){r.hasAllowedDynamic=!0;return}else{var i,a;let o;if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let s=(i=`Route "${e.route}": Uncached data was accessed outside of <Suspense>. This delays the entire page from rendering, resulting in a slow user experience. Learn more: https://nextjs.org/docs/messages/blocking-route`,a=t,(o=Object.defineProperty(Error(i),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})).stack=o.name+": "+i+a,o);return void r.dynamicErrors.push(s)}}}var Q=((i={})[i.Full=0]="Full",i[i.Empty=1]="Empty",i[i.Errored=2]="Errored",i);function X(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function Y(e,t,r,n){if(n.syncDynamicErrorWithStack)throw X(e,n.syncDynamicErrorWithStack),new u.StaticGenBailoutError;if(0!==t){if(r.hasSuspenseAboveBody)return;let n=r.dynamicErrors;if(n.length>0){for(let t=0;t<n.length;t++)X(e,n[t]);throw new u.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new u.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new u.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new u.StaticGenBailoutError}function ee(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},13884,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return l}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(e.r(47540));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let a={current:null},o="function"==typeof n.cache?n.cache:e=>e,s=console.warn;function l(e){return function(...t){s(e(...t))}}o(e=>{try{s(a.current)}finally{a.current=null}})},43824,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return l},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return s}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(97573),o=e.r(24725);function s(e,t){throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function l(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used \`searchParams\` inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \`searchParams\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E842",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function u(){let e=o.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},7460,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cookies",{enumerable:!0,get:function(){return p}});let n=e.r(30240),i=e.r(472),a=e.r(56704),o=e.r(32319),s=e.r(68665),l=e.r(97573),u=e.r(4642),c=e.r(13884),d=e.r(43824),f=e.r(76414);function p(){let e="cookies",t=a.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`cookies()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E843",enumerable:!1,configurable:!0});if(t.forceStatic)return m(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new l.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E849",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let a=Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E831",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,p),t.invalidDynamicUsageError??=a,a;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`cookies()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`cookies()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E846",enumerable:!1,configurable:!0});case"prerender":var c=t,g=r;let o=h.get(g);if(o)return o;let y=(0,u.makeHangingPromise)(g.renderSignal,c.route,"`cookies()`");return h.set(g,y),y;case"prerender-client":let v="`cookies`";throw Object.defineProperty(new f.InvariantError(`${v} must not be used within a Client Component. Next.js should be preventing ${v} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,s.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,s.delayUntilRuntimeStage)(r,m(r.cookies));case"private-cache":return m(r.cookies);case"request":return(0,s.trackDynamicDataInDynamicRender)(r),m((0,n.areCookiesMutableInCurrentPhase)(r)?r.userspaceMutableCookies:r.cookies)}}(0,o.throwForMissingRequestStore)(e)}e.r(18185);let h=new WeakMap;function m(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),r}(0,c.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E830",enumerable:!1,configurable:!0})})},36052,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(30759);class o extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new o}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return a.ReflectAdapter.get(t,r,n);let i=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==o)return a.ReflectAdapter.get(t,o,n)},set(t,r,n,i){if("symbol"==typeof r)return a.ReflectAdapter.set(t,r,n,i);let o=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===o);return a.ReflectAdapter.set(t,s??r,n,i)},has(t,r){if("symbol"==typeof r)return a.ReflectAdapter.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&a.ReflectAdapter.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return a.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||a.ReflectAdapter.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return o.callable;default:return a.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},19971,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"headers",{enumerable:!0,get:function(){return f}});let n=e.r(36052),i=e.r(56704),a=e.r(32319),o=e.r(68665),s=e.r(97573),l=e.r(4642),u=e.r(13884),c=e.r(43824),d=e.r(76414);function f(){let e="headers",t=i.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside \`after()\`. This is not supported. If you need this data inside an \`after()\` callback, use \`headers()\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E839",enumerable:!1,configurable:!0});if(t.forceStatic)return h(n.HeadersAdapter.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E833",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,f),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used \`headers()\` inside a function cached with \`unstable_cache()\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \`headers()\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E838",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers()\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E828",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":var u=t,m=r;let i=p.get(m);if(i)return i;let a=(0,l.makeHangingPromise)(m.renderSignal,u.route,"`headers()`");return p.set(m,a),a;case"prerender-client":let g="`headers`";throw Object.defineProperty(new d.InvariantError(`${g} must not be used within a client component. Next.js should be preventing ${g} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,o.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,o.delayUntilRuntimeStage)(r,h(r.headers));case"private-cache":return h(r.headers);case"request":return(0,o.trackDynamicDataInDynamicRender)(r),h(r.headers)}}(0,a.throwForMissingRequestStore)(e)}e.r(18185);let p=new WeakMap;function h(e){let t=p.get(e);if(t)return t;let r=Promise.resolve(e);return p.set(e,r),r}(0,u.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E836",enumerable:!1,configurable:!0})})},21423,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"draftMode",{enumerable:!0,get:function(){return c}});let n=e.r(32319),i=e.r(56704),a=e.r(68665),o=e.r(13884),s=e.r(97573),l=e.r(65252),u=e.r(76414);function c(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,n.throwForMissingRequestStore)("draftMode"),t.type){case"prerender-runtime":return(0,a.delayUntilRuntimeStage)(t,d(t.draftMode,e));case"request":return d(t.draftMode,e);case"cache":case"private-cache":case"unstable-cache":let r=(0,n.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return d(null,e);default:return t}}function d(e,t){let r=p.get(e??f);return r||Promise.resolve(new h(e))}e.r(30759);let f={},p=new WeakMap;class h{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){m("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){m("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function m(e,t){let r=i.workAsyncStorage.getStore(),o=n.workUnitAsyncStorage.getStore();if(r){if((null==o?void 0:o.phase)==="after")throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside \`after()\`. The enabled status of \`draftMode()\` can be read inside \`after()\` but you cannot enable or disable \`draftMode()\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E845",enumerable:!1,configurable:!0});if(r.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${r.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(o)switch(o.type){case"cache":case"private-cache":{let n=Object.defineProperty(Error(`Route ${r.route} used "${e}" inside "use cache". The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E829",enumerable:!1,configurable:!0});throw Error.captureStackTrace(n,t),r.invalidDynamicUsageError??=n,n}case"unstable-cache":throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside a function cached with \`unstable_cache()\`. The enabled status of \`draftMode()\` can be read in caches but you must not enable or disable \`draftMode()\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E844",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let t=Object.defineProperty(Error(`Route ${r.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,a.abortAndThrowOnSynchronousRequestDataAccess)(r.route,e,t,o)}case"prerender-client":let n="`draftMode`";throw Object.defineProperty(new u.InvariantError(`${n} must not be used within a Client Component. Next.js should be preventing ${n} from being included in Client Components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E832",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,a.postponeWithTracking)(r.route,e,o.dynamicTracking);case"prerender-legacy":o.revalidate=0;let i=Object.defineProperty(new l.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=e,r.dynamicUsageStack=i.stack,i;case"request":(0,a.trackDynamicDataInDynamicRender)(o)}}}(0,o.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` returns a Promise and must be unwrapped with \`await\` or \`React.use()\` before accessing its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E835",enumerable:!1,configurable:!0})})},93458,(e,t,r)=>{t.exports.cookies=e.r(7460).cookies,t.exports.headers=e.r(19971).headers,t.exports.draftMode=e.r(21423).draftMode},23667,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,r.getServerSession=s,r.unstable_getServerSession=l;var n=e.r(44825),i=e.r(30501);async function a(e,t,r){var a,o,s,l,u,c,d,f;let{nextauth:p,...h}=e.query;null!=r.secret||(r.secret=null!=(a=null!=(o=null==(s=r.jwt)?void 0:s.secret)?o:process.env.NEXTAUTH_SECRET)?a:process.env.AUTH_SECRET);let m=await (0,n.AuthHandler)({req:{body:e.body,query:h,cookies:e.cookies,headers:e.headers,method:e.method,action:null==p?void 0:p[0],providerId:null==p?void 0:p[1],error:null!=(l=e.query.error)?l:null==p?void 0:p[1]},options:r});if(t.status(null!=(u=m.status)?u:200),null==(c=m.cookies)||c.forEach(e=>(0,i.setCookie)(t,e)),null==(d=m.headers)||d.forEach(e=>t.setHeader(e.key,e.value)),m.redirect){if((null==(f=e.body)?void 0:f.json)!=="true"){t.status(302).setHeader("Location",m.redirect),t.end();return}return t.json({url:m.redirect})}return t.send(m.body)}async function o(t,r,a){var o,s,l;null!=a.secret||(a.secret=null!=(o=process.env.NEXTAUTH_SECRET)?o:process.env.AUTH_SECRET);let{headers:u,cookies:c}=e.r(93458),d=null==(s=await r.params)?void 0:s.nextauth,f=Object.fromEntries(t.nextUrl.searchParams),p=await (0,i.getBody)(t),h=await (0,n.AuthHandler)({req:{body:p,query:f,cookies:Object.fromEntries((await c()).getAll().map(e=>[e.name,e.value])),headers:Object.fromEntries(await u()),method:t.method,action:null==d?void 0:d[0],providerId:null==d?void 0:d[1],error:null!=(l=f.error)?l:null==d?void 0:d[1]},options:a}),m=(0,i.toResponse)(h),g=m.headers.get("Location");return(null==p?void 0:p.json)==="true"&&g?(m.headers.delete("Location"),m.headers.set("Content-Type","application/json"),new Response(JSON.stringify({url:g}),{status:h.status,headers:m.headers})):m}async function s(...t){var r,a;let o,l,u,c=0===t.length||1===t.length;if(c){u=Object.assign({},t[0],{providers:[]});let{headers:r,cookies:n}=e.r(93458);o={headers:Object.fromEntries(await r()),cookies:Object.fromEntries((await n()).getAll().map(e=>[e.name,e.value]))},l={getHeader(){},setCookie(){},setHeader(){}}}else o=t[0],l=t[1],u=Object.assign({},t[2],{providers:[]});null!=(r=u).secret||(r.secret=null!=(a=process.env.NEXTAUTH_SECRET)?a:process.env.AUTH_SECRET);let{body:d,cookies:f,status:p=200}=await (0,n.AuthHandler)({options:u,req:{action:"session",method:"GET",cookies:o.cookies,headers:o.headers}});if(null==f||f.forEach(e=>(0,i.setCookie)(l,e)),d&&"string"!=typeof d&&Object.keys(d).length){if(200===p)return c&&delete d.expires,d;throw Error(d.message)}return null}async function l(...e){return await s(...e)}r.default=function(...e){var t;return 1===e.length?async(t,r)=>null!=r&&r.params?await o(t,r,e[0]):await a(t,r,e[0]):null!=(t=e[1])&&t.params?o(...e):a(...e)}},57660,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={};Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a.default}});var i=e.r(16020);Object.keys(i).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===i[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return i[e]}})});var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&({}).hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(23667));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}Object.keys(a).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e)||e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}})})},85605,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return{id:"google",name:"Google",type:"oauth",wellKnown:"https://accounts.google.com/.well-known/openid-configuration",authorization:{params:{scope:"openid email profile"}},idToken:!0,checks:["pkce","state"],profile:e=>({id:e.sub,name:e.name,email:e.email,image:e.picture}),style:{logo:"/google.svg",bg:"#fff",text:"#000"},options:e}}},46786,(e,t,r)=>{t.exports=e.x("os",()=>require("os"))},22734,(e,t,r)=>{t.exports=e.x("fs",()=>require("fs"))},4446,(e,t,r)=>{t.exports=e.x("net",()=>require("net"))},55004,(e,t,r)=>{t.exports=e.x("tls",()=>require("tls"))},88947,(e,t,r)=>{t.exports=e.x("stream",()=>require("stream"))},60438,(e,t,r)=>{t.exports=e.x("perf_hooks",()=>require("perf_hooks"))},47437,e=>{"use strict";let t,r,n,i,a,o;var s,l,u,c,d,f,p,h,m,g,y,v,_,b,w,S,x,E,k,$,O,P,T,I,A,j,N,C,R,D,U,M,z,L,J,B,W,H,q,Z,F,K,V,G,Q,X,Y,ee=e.i(47909),et=((s={}).PAGES="PAGES",s.PAGES_API="PAGES_API",s.APP_PAGE="APP_PAGE",s.APP_ROUTE="APP_ROUTE",s.IMAGE="IMAGE",s),er=((l=er||{}).handleRequest="BaseServer.handleRequest",l.run="BaseServer.run",l.pipe="BaseServer.pipe",l.getStaticHTML="BaseServer.getStaticHTML",l.render="BaseServer.render",l.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",l.renderToResponse="BaseServer.renderToResponse",l.renderToHTML="BaseServer.renderToHTML",l.renderError="BaseServer.renderError",l.renderErrorToResponse="BaseServer.renderErrorToResponse",l.renderErrorToHTML="BaseServer.renderErrorToHTML",l.render404="BaseServer.render404",l),en=((u=en||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",u.loadComponents="LoadComponents.loadComponents",u),ei=((c=ei||{}).getRequestHandler="NextServer.getRequestHandler",c.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",c.getServer="NextServer.getServer",c.getServerRequestHandler="NextServer.getServerRequestHandler",c.createServer="createServer.createServer",c),ea=((d=ea||{}).compression="NextNodeServer.compression",d.getBuildId="NextNodeServer.getBuildId",d.createComponentTree="NextNodeServer.createComponentTree",d.clientComponentLoading="NextNodeServer.clientComponentLoading",d.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",d.generateStaticRoutes="NextNodeServer.generateStaticRoutes",d.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",d.generatePublicRoutes="NextNodeServer.generatePublicRoutes",d.generateImageRoutes="NextNodeServer.generateImageRoutes.route",d.sendRenderResult="NextNodeServer.sendRenderResult",d.proxyRequest="NextNodeServer.proxyRequest",d.runApi="NextNodeServer.runApi",d.render="NextNodeServer.render",d.renderHTML="NextNodeServer.renderHTML",d.imageOptimizer="NextNodeServer.imageOptimizer",d.getPagePath="NextNodeServer.getPagePath",d.getRoutesManifest="NextNodeServer.getRoutesManifest",d.findPageComponents="NextNodeServer.findPageComponents",d.getFontManifest="NextNodeServer.getFontManifest",d.getServerComponentManifest="NextNodeServer.getServerComponentManifest",d.getRequestHandler="NextNodeServer.getRequestHandler",d.renderToHTML="NextNodeServer.renderToHTML",d.renderError="NextNodeServer.renderError",d.renderErrorToHTML="NextNodeServer.renderErrorToHTML",d.render404="NextNodeServer.render404",d.startResponse="NextNodeServer.startResponse",d.route="route",d.onProxyReq="onProxyReq",d.apiResolver="apiResolver",d.internalFetch="internalFetch",d),eo=((f=eo||{}).startServer="startServer.startServer",f),es=((p=es||{}).getServerSideProps="Render.getServerSideProps",p.getStaticProps="Render.getStaticProps",p.renderToString="Render.renderToString",p.renderDocument="Render.renderDocument",p.createBodyResult="Render.createBodyResult",p),el=((h=el||{}).renderToString="AppRender.renderToString",h.renderToReadableStream="AppRender.renderToReadableStream",h.getBodyResult="AppRender.getBodyResult",h.fetch="AppRender.fetch",h),eu=((m=eu||{}).executeRoute="Router.executeRoute",m),ec=((g=ec||{}).runHandler="Node.runHandler",g),ed=((y=ed||{}).runHandler="AppRouteRouteHandlers.runHandler",y),ef=((v=ef||{}).generateMetadata="ResolveMetadata.generateMetadata",v.generateViewport="ResolveMetadata.generateViewport",v),ep=((_=ep||{}).execute="Middleware.execute",_);let eh=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),em=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]),eg=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{t=e.r(70406)}catch(r){t=e.r(17413)}let{context:ey,propagation:ev,trace:e_,SpanStatusCode:eb,SpanKind:ew,ROOT_CONTEXT:eS}=t;class ex extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let eE=(e,t)=>{"object"==typeof t&&null!==t&&t instanceof ex&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:eb.ERROR,message:null==t?void 0:t.message})),e.end()},ek=new Map,e$=t.createContextKey("next.rootSpanId"),eO=0,eP={set(e,t,r){e.push({key:t,value:r})}},eT=(o=new class e{getTracerInstance(){return e_.getTracer("next.js","0.0.1")}getContext(){return ey}getTracePropagationData(){let e=ey.active(),t=[];return ev.inject(e,t,eP),t}getActiveScopeSpan(){return e_.getSpan(null==ey?void 0:ey.active())}withPropagatedContext(e,t,r){let n=ey.active();if(e_.getSpanContext(n))return t();let i=ev.extract(n,e,r);return ey.with(i,t)}trace(...e){let[t,r,n]=e,{fn:i,options:a}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},o=a.spanName??t;if(!eh.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||a.hideSpan)return i();let s=this.getSpanContext((null==a?void 0:a.parentSpan)??this.getActiveScopeSpan());s||(s=(null==ey?void 0:ey.active())??eS);let l=s.getValue(e$),u="number"!=typeof l||!ek.has(l),c=eO++;return a.attributes={"next.span_name":o,"next.span_type":t,...a.attributes},ey.with(s.setValue(e$,c),()=>this.getTracerInstance().startActiveSpan(o,a,e=>{let r;eg&&t&&em.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,o=()=>{!n&&(n=!0,ek.delete(c),r&&performance.measure(`${eg}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(u&&ek.set(c,new Map(Object.entries(a.attributes??{}))),i.length>1)try{return i(e,t=>eE(e,t))}catch(t){throw eE(e,t),t}finally{o()}try{let t=i(e);if(null!==t&&"object"==typeof t&&"then"in t&&"function"==typeof t.then)return t.then(t=>(e.end(),t)).catch(t=>{throw eE(e,t),t}).finally(o);return e.end(),o(),t}catch(t){throw eE(e,t),o(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return eh.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let a=arguments.length-1,o=arguments[a];if("function"!=typeof o)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(ey.active(),o);return t.trace(r,e,(e,t)=>(arguments[a]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?e_.setSpan(ey.active(),e):void 0}getRootSpanAttributes(){let e=ey.active().getValue(e$);return ek.get(e)}setRootSpanAttribute(e,t){let r=ey.active().getValue(e$),n=ek.get(r);n&&!n.has(e)&&n.set(e,t)}},()=>o),eI="x-next-cache-tags",eA={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};({...eA,GROUP:{builtinReact:[eA.reactServerComponents,eA.actionBrowser],serverOnly:[eA.reactServerComponents,eA.actionBrowser,eA.instrument,eA.middleware],neutralTarget:[eA.apiNode,eA.apiEdge],clientOnly:[eA.serverSideRendering,eA.appPagesBrowser],bundled:[eA.reactServerComponents,eA.actionBrowser,eA.serverSideRendering,eA.appPagesBrowser,eA.shared,eA.instrument,eA.middleware],appPages:[eA.reactServerComponents,eA.serverSideRendering,eA.appPagesBrowser,eA.actionBrowser]}});var ej=e.i(47540);class eN extends Error{constructor(e){super(`Dynamic server usage: ${e}`),this.description=e,this.digest="DYNAMIC_SERVER_USAGE"}}class eC extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}var eR=e.i(32319),eD=e.i(56704);class eU extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest="HANGING_PROMISE_REJECTION"}}let eM=new WeakMap;function ez(e,t,r){if(e.aborted)return Promise.reject(new eU(t,r));{let n=new Promise((n,i)=>{let a=i.bind(null,new eU(t,r)),o=eM.get(e);if(o)o.push(a);else{let t=[a];eM.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(eL),n}}function eL(){}class eJ extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}let eB="function"==typeof ej.default.unstable_postpone;function eW(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new eC(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":var n,i,a;return n=e.route,i=r,a=t.dynamicTracking,void(function(){if(!eB)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})}(),a&&a.dynamicAccesses.push({stack:a.isDebugDynamicAccesses?Error().stack:void 0,expression:i}),ej.default.unstable_postpone(eH(n,i)));case"prerender-legacy":t.revalidate=0;let o=Object.defineProperty(new eN(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=o.stack,o}}}function eH(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}if(!1===((b=eH("%%%","^^^")).includes("needs to bail out of prerendering at this point because it used")&&b.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`);let eq=()=>{};function eZ(e){if(!e.body)return[e,e];let[t,n]=e.body.tee(),i=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(i,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),r&&i.body&&r.register(i,new WeakRef(i.body));let a=new Response(n,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(a,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[i,a]}globalThis.FinalizationRegistry&&(r=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(eq)}));let eF=new Set(["traceparent","tracestate"]);class eK{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}var eV=((w={}).APP_PAGE="APP_PAGE",w.APP_ROUTE="APP_ROUTE",w.PAGES="PAGES",w.FETCH="FETCH",w.REDIRECT="REDIRECT",w.IMAGE="IMAGE",w),eG=((S={}).APP_PAGE="APP_PAGE",S.APP_ROUTE="APP_ROUTE",S.PAGES="PAGES",S.FETCH="FETCH",S.IMAGE="IMAGE",S);function eQ(){}new Uint8Array([60,104,116,109,108]),new Uint8Array([60,98,111,100,121]),new Uint8Array([60,47,104,101,97,100,62]),new Uint8Array([60,47,98,111,100,121,62]),new Uint8Array([60,47,104,116,109,108,62]),new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62]),new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34]);let eX=new TextEncoder;function eY(e){return new ReadableStream({start(t){t.enqueue(eX.encode(e)),t.close()}})}function e0(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function e1(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),n="";for await(let i of e){if(null==t?void 0:t.aborted)return n;n+=r.decode(i,{stream:!0})}return n+r.decode()}let e4=Symbol.for("NextInternalRequestMeta");function e6(e,t){let r=e[e4]||{};return"string"==typeof t?r[t]:r}function e2(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function e5(e){var t,r,n,i,a,o=[],s=0;function l(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}for(;s<e.length;){for(t=s,a=!1;l();)if(","===(r=e.charAt(s))){for(n=s,s+=1,l(),i=s;s<e.length&&"="!==(r=e.charAt(s))&&";"!==r&&","!==r;)s+=1;s<e.length&&"="===e.charAt(s)?(a=!0,s=i,o.push(e.substring(t,n)),t=s):s=n+1}else s+=1;(!a||s>=e.length)&&o.push(e.substring(t,e.length))}return o}function e3(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...e5(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function e8(e){return e.replace(/\/$/,"")||"/"}function e9(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function e7(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=e9(e);return`${t}${r}${n}${i}`}function te(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=e9(e);return`${r}${t}${n}${i}`}function tt(e,t){if("string"!=typeof e)return!1;let{pathname:r}=e9(e);return r===t||r.startsWith(t+"/")}let tr=new WeakMap;function tn(e,t){let r;if(!t)return{pathname:e};let n=tr.get(t);n||(n=t.map(e=>e.toLowerCase()),tr.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let a=i[1].toLowerCase(),o=n.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let ti=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function ta(e,t){return new URL(String(e).replace(ti,"localhost"),t&&String(t).replace(ti,"localhost"))}let to=Symbol("NextURLInternal");class ts{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[to]={url:ta(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let a=function(e,t){let{basePath:r,i18n:n,trailingSlash:i}=t.nextConfig??{},a={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):i};r&&tt(a.pathname,r)&&(a.pathname=function(e,t){if(!tt(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}(a.pathname,r),a.basePath=r);let o=a.pathname;if(a.pathname.startsWith("/_next/data/")&&a.pathname.endsWith(".json")){let e=a.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");a.buildId=e[0],o="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(a.pathname=o)}if(n){let e=t.i18nProvider?t.i18nProvider.analyze(a.pathname):tn(a.pathname,n.locales);a.locale=e.detectedLocale,a.pathname=e.pathname??a.pathname,!e.detectedLocale&&a.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(o):tn(o,n.locales)).detectedLocale&&(a.locale=e.detectedLocale)}return a}(this[to].url.pathname,{nextConfig:this[to].options.nextConfig,parseData:!0,i18nProvider:this[to].options.i18nProvider}),o=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[to].url,this[to].options.headers);this[to].domainLocale=this[to].options.i18nProvider?this[to].options.i18nProvider.detectDomainLocale(o):function(e,t,r){if(e){for(let n of(r&&(r=r.toLowerCase()),e))if(t===n.domain?.split(":",1)[0].toLowerCase()||r===n.defaultLocale.toLowerCase()||n.locales?.some(e=>e.toLowerCase()===r))return n}}(null==(t=this[to].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,o);let s=(null==(r=this[to].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[to].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[to].url.pathname=a.pathname,this[to].defaultLocale=s,this[to].basePath=a.basePath??"",this[to].buildId=a.buildId,this[to].locale=a.locale??s,this[to].trailingSlash=a.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(tt(i,"/api")||tt(i,`/${t.toLowerCase()}`))?e:e7(e,`/${t}`)}((e={basePath:this[to].basePath,buildId:this[to].buildId,defaultLocale:this[to].options.forceLocale?void 0:this[to].defaultLocale,locale:this[to].locale,pathname:this[to].url.pathname,trailingSlash:this[to].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=e8(t)),e.buildId&&(t=te(e7(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=e7(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:te(t,"/"):e8(t)}formatSearch(){return this[to].url.search}get buildId(){return this[to].buildId}set buildId(e){this[to].buildId=e}get locale(){return this[to].locale??""}set locale(e){var t,r;if(!this[to].locale||!(null==(r=this[to].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[to].locale=e}get defaultLocale(){return this[to].defaultLocale}get domainLocale(){return this[to].domainLocale}get searchParams(){return this[to].url.searchParams}get host(){return this[to].url.host}set host(e){this[to].url.host=e}get hostname(){return this[to].url.hostname}set hostname(e){this[to].url.hostname=e}get port(){return this[to].url.port}set port(e){this[to].url.port=e}get protocol(){return this[to].url.protocol}set protocol(e){this[to].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[to].url=ta(e),this.analyze()}get origin(){return this[to].url.origin}get pathname(){return this[to].url.pathname}set pathname(e){this[to].url.pathname=e}get hash(){return this[to].url.hash}set hash(e){this[to].url.hash=e}get search(){return this[to].url.search}set search(e){this[to].url.search=e}get password(){return this[to].url.password}set password(e){this[to].url.password=e}get username(){return this[to].url.username}set username(e){this[to].url.username=e}get basePath(){return this[to].basePath}set basePath(e){this[to].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new ts(String(this),this[to].options)}}class tl extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class tu extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}var tc=e.i(19481);let td=Symbol("internal request");class tf extends Request{constructor(e,t={}){const r="string"!=typeof e&&"url"in e?e.url:String(e);!function(e){try{String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);const n=new ts(r,{headers:e3(this.headers),nextConfig:t.nextConfig});this[td]={cookies:new tc.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[td].cookies}get nextUrl(){return this[td].nextUrl}get page(){throw new tl}get ua(){throw new tu}get url(){return this[td].url}}let tp="ResponseAborted";class th extends Error{constructor(...e){super(...e),this.name=tp}}function tm(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new th)}),t}class tg{static fromBaseNextRequest(e,t){return tg.fromNodeNextRequest(e,t)}static fromNodeNextRequest(e,t){let r,n=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(n=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=e6(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new tf(r,{method:e.method,headers:e2(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:n}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new tf(e.url,{method:e.method,headers:e2(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}let ty=0,tv=0,t_=0;function tb(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===tp}async function tw(e,t,r){try{let{errored:n,destroyed:i}=t;if(n||i)return;let a=tm(t),o=function(e,t){let r=!1,n=new eK;function i(){n.resolve()}e.on("drain",i),e.once("close",()=>{e.off("drain",i),n.resolve()});let a=new eK;return e.once("finish",()=>{a.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=function(e={}){let t=0===ty?void 0:{clientComponentLoadStart:ty,clientComponentLoadTimes:tv,clientComponentLoadCount:t_};return e.reset&&(ty=0,tv=0,t_=0),t}();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),eT().trace(ea.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new eK)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),a.promise}})}(t,r);await e.pipeTo(o,{signal:a.signal})}catch(e){if(tb(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}class tS{static #h=this.EMPTY=new tS(null,{metadata:{},contentType:null});static fromStatic(e,t){return new tS(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new eJ("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return e1(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?eY(this.response):Buffer.isBuffer(this.response)?e0(this.response):Array.isArray(this.response)?function(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let a=e[i];return(n=n.then(()=>a.pipeTo(r))).catch(eQ),t}(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[eY(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[e0(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if(tb(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await tw(this.readable,e,this.waitUntil)}}let tx=Symbol.for("next-patch");function tE(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function tk(e,t,r,n,i,a){let o=await e.arrayBuffer(),s={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(o).toString("base64"),status:e.status,url:e.url};return r&&await n.set(t,{kind:eV.FETCH,data:s,revalidate:i},r),await a(),new Response(o,{headers:e.headers,status:e.status,statusText:e.statusText})}async function t$(e,t,r,n,i,a,o,s,l){let[u,c]=eZ(t),d=u.arrayBuffer().then(async e=>{let t=Buffer.from(e),s={headers:Object.fromEntries(u.headers.entries()),body:t.toString("base64"),status:u.status,url:u.url};null==a||a.set(r,s),n&&await i.set(r,{kind:eV.FETCH,data:s,revalidate:o},n)}).catch(e=>console.warn("Failed to set fetch cache",s,e)).finally(l),f=`cache-set-${r}`;return e.pendingRevalidates??={},f in e.pendingRevalidates&&await e.pendingRevalidates[f],e.pendingRevalidates[f]=d.finally(()=>{var t;(null==(t=e.pendingRevalidates)?void 0:t[f])&&delete e.pendingRevalidates[f]}),c}let tO=null;function tP(e){var t;return(t=e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`:e,"")).startsWith("/")?t:`/${t}`}let tT=Symbol.for("next.server.action-manifests");class tI{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}class tA extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new tA}}class tj extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return tI.get(t,r,n);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==a)return tI.get(t,a,n)},set(t,r,n,i){if("symbol"==typeof r)return tI.set(t,r,n,i);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return tI.set(t,o??r,n,i)},has(t,r){if("symbol"==typeof r)return tI.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&tI.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return tI.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||tI.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return tA.callable;default:return tI.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new tj(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}Symbol("__next_preview_data");let tN=Symbol("__prerender_bypass");var tC=((x={})[x.SeeOther=303]="SeeOther",x[x.TemporaryRedirect=307]="TemporaryRedirect",x[x.PermanentRedirect=308]="PermanentRedirect",x);class tR{constructor(e,t,r){this.method=e,this.url=t,this.body=r}get cookies(){var t;return this._cookies?this._cookies:this._cookies=(t=this.headers,function(){let{cookie:r}=t;if(!r)return{};let{parse:n}=e.r(93118);return n(Array.isArray(r)?r.join("; "):r)})()}}class tD{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===tC.PermanentRedirect&&this.setHeader("Refresh",`0;url=${e}`),this}}class tU extends tR{static #h=U=e4;constructor(e){var t;super(e.method.toUpperCase(),e.url,e),this._req=e,this.headers=this._req.headers,this.fetchMetrics=null==(t=this._req)?void 0:t.fetchMetrics,this[U]=this._req[e4]||{},this.streaming=!1}get originalRequest(){return this._req[e4]=this[e4],this._req.url=this.url,this._req.cookies=this.cookies,this._req}set originalRequest(e){this._req=e}stream(){if(this.streaming)throw Object.defineProperty(Error("Invariant: NodeNextRequest.stream() can only be called once"),"__NEXT_ERROR_CODE",{value:"E467",enumerable:!1,configurable:!0});return this.streaming=!0,new ReadableStream({start:e=>{this._req.on("data",t=>{e.enqueue(new Uint8Array(t))}),this._req.on("end",()=>{e.close()}),this._req.on("error",t=>{e.error(t)})}})}}class tM extends tD{get originalResponse(){return tN in this&&(this._res[tN]=this[tN]),this._res}constructor(e){super(e),this._res=e,this.textBody=void 0}get sent(){return this._res.finished||this._res.headersSent}get statusCode(){return this._res.statusCode}set statusCode(e){this._res.statusCode=e}get statusMessage(){return this._res.statusMessage}set statusMessage(e){this._res.statusMessage=e}setHeader(e,t){return this._res.setHeader(e,t),this}removeHeader(e){return this._res.removeHeader(e),this}getHeaderValues(e){let t=this._res.getHeader(e);if(void 0!==t)return(Array.isArray(t)?t:[t]).map(e=>e.toString())}hasHeader(e){return this._res.hasHeader(e)}getHeader(e){let t=this.getHeaderValues(e);return Array.isArray(t)?t.join(","):void 0}getHeaders(){return this._res.getHeaders()}appendHeader(e,t){let r=this.getHeaderValues(e)??[];return r.includes(t)||this._res.setHeader(e,[...r,t]),this}body(e){return this.textBody=e,this}send(){this._res.end(this.textBody)}onClose(e){this.originalResponse.on("close",e)}}function tz(e){return e.isOnDemandRevalidate?"on-demand":e.isStaticGeneration?"stale":void 0}async function tL(e,t,r,n){{var i;t.statusCode=r.status,t.statusMessage=r.statusText;let a=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(i=r.headers)||i.forEach((e,r)=>{if("x-middleware-set-cookie"!==r.toLowerCase())if("set-cookie"===r.toLowerCase())for(let n of e5(e))t.appendHeader(r,n);else{let n=void 0!==t.getHeader(r);(a.includes(r.toLowerCase())||!n)&&t.appendHeader(r,e)}});let{originalResponse:o}=t;r.body&&"HEAD"!==e.method?await tw(r.body,o,n):o.end()}}var tJ=e.i(93695);let tB={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,PRECONDITION_REQUIRED:-32028,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},tW={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32002]:"PAYMENT_REQUIRED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32028]:"PRECONDITION_REQUIRED",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"};function tH(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function tq(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}function tZ(e){return"function"==typeof e}function tF(e){return Object.assign(Object.create(null),e)}tB.BAD_GATEWAY,tB.SERVICE_UNAVAILABLE,tB.GATEWAY_TIMEOUT,tB.INTERNAL_SERVER_ERROR;let tK="function"==typeof Symbol&&!!Symbol.asyncIterator;function tV(e){return tK&&tq(e)&&Symbol.asyncIterator in e}function tG(e){return e}var tQ=Object.create,tX=Object.defineProperty,tY=Object.getOwnPropertyDescriptor,t0=Object.getOwnPropertyNames,t1=Object.getPrototypeOf,t4=Object.prototype.hasOwnProperty,t6=(e,t)=>function(){return t||(0,e[t0(e)[0]])((t={exports:{}}).exports,t),t.exports},t2=(e,t,r)=>(r=null!=e?tQ(t1(e)):{},((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(var i,a=t0(t),o=0,s=a.length;o<s;o++)i=a[o],t4.call(e,i)||i===r||tX(e,i,{get:(e=>t[e]).bind(null,i),enumerable:!(n=tY(t,i))||n.enumerable});return e})(!t&&e&&e.__esModule?r:tX(r,"default",{value:e,enumerable:!0}),e));let t5=()=>{},t3=e=>{Object.freeze&&Object.freeze(e)},t8={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function t9(e){var t;return null!=(t=t8[e])?t:500}var t7=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),re=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=t7().default;t.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports}}),rt=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=t7().default,n=re();t.exports=function(e){var t=n(e,"string");return"symbol"==r(t)?t:t+""},t.exports.__esModule=!0,t.exports.default=t.exports}}),rr=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=rt();t.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.__esModule=!0,t.exports.default=t.exports}}),rn=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=rr();function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e},t.exports.__esModule=!0,t.exports.default=t.exports}}),ri=t2(rn(),1);function ra(e){let{path:t,error:r,config:n}=e,{code:i}=e.error,a={message:r.message,code:tB[i],data:{code:i,httpStatus:t9(r.code)}};return n.isDev&&"string"==typeof e.error.stack&&(a.data.stack=e.error.stack),"string"==typeof t&&(a.data.path=t),n.errorFormatter((0,ri.default)((0,ri.default)({},e),{},{shape:a}))}let ro=({shape:e})=>e;var rs=t2(rr(),1),rl=class extends Error{};function ru(e){if(e instanceof rc||e instanceof Error&&"TRPCError"===e.name)return e;let t=new rc({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}var rc=class extends Error{constructor(e){var t,r;const n=function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(tq(e))return Object.assign(new rl,e)}}(e.cause);super(null!=(t=null!=(r=e.message)?r:null==n?void 0:n.message)?t:e.code,{cause:n}),(0,rs.default)(this,"cause",void 0),(0,rs.default)(this,"code",void 0),this.code=e.code,this.name="TRPCError",null!=this.cause||(this.cause=n)}},rd=t2(rn(),1);let rf={input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}};function rp(e,t){return"error"in t?(0,rd.default)((0,rd.default)({},t),{},{error:e.transformer.output.serialize(t.error)}):"data"in t.result?(0,rd.default)((0,rd.default)({},t),{},{result:(0,rd.default)((0,rd.default)({},t.result),{},{data:e.transformer.output.serialize(t.result.data)})}):t}function rh(e,t){return Array.isArray(t)?t.map(t=>rp(e,t)):rp(e,t)}var rm=t2(rn(),1);let rg={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:ro,transformer:rf},ry=["then","call","apply"];function rv(e){return function(t){let r=new Set(Object.keys(t).filter(e=>ry.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let n=tF({}),i=tF({}),a=function e(t,r=[]){let a=tF({});for(let[o,s]of Object.entries(null!=t?t:{})){if("function"==typeof s&&"lazyMarker"in s){i[[...r,o].join(".")]=function t(r){var n;let a,o;return{ref:r.ref,load:(n=async()=>{let n=await r.ref(),a=[...r.path,r.key],o=a.join(".");for(let[s,l]of(r.aggregate[r.key]=e(n._def.record,a),delete i[o],Object.entries(n._def.lazy)))i[[...a,s].join(".")]=t({ref:l.ref,path:a,key:s,aggregate:r.aggregate[r.key]})},o=a=Symbol(),()=>(o===a&&(o=n()),o))}}({path:r,ref:s,key:o,aggregate:a});continue}if(tq(s)&&tq(s._def)&&"router"in s._def){a[o]=e(s._def.record,[...r,o]);continue}if("function"!=typeof s){a[o]=e(s,[...r,o]);continue}let t=[...r,o].join(".");if(n[t])throw Error(`Duplicate key: ${t}`);n[t]=s,a[o]=s}return a}(t),o=(0,rm.default)((0,rm.default)({_config:e,router:!0,procedures:n,lazy:i},rg),{},{record:a});return(0,rm.default)((0,rm.default)({},a),{},{_def:o,createCaller:rb()({_def:o})})}}async function r_(e,t){let{_def:r}=e,n=r.procedures[t];for(;!n;){let e=Object.keys(r.lazy).find(e=>t.startsWith(e));if(!e)return null;let i=r.lazy[e];await i.load(),n=r.procedures[t]}return n}function rb(){return function(e){let{_def:t}=e;return function(r,n){return function e(t,r,n){let i=r.join(".");return null!=n[i]||(n[i]=new Proxy(t5,{get(i,a){if("string"==typeof a&&"then"!==a)return e(t,[...r,a],n)},apply(e,n,i){let a=r[r.length-1],o={args:i,path:r};return"call"===a?o={args:i.length>=2?[i[1]]:[],path:r.slice(0,-1)}:"apply"===a&&(o={args:i.length>=2?i[1]:[],path:r.slice(0,-1)}),t3(o.args),t3(o.path),t(o)}})),n[i]}(async i=>{let a,{path:o,args:s}=i,l=o.join(".");if(1===o.length&&"_def"===o[0])return t;let u=await r_(e,l);try{if(!u)throw new rc({code:"NOT_FOUND",message:`No procedure found on path "${o}"`});return a=tZ(r)?await Promise.resolve(r()):r,await u({path:l,getRawInput:async()=>s[0],ctx:a,type:u._def.type,signal:null==n?void 0:n.signal})}catch(e){var c,d;throw null==n||null==(c=n.onError)||c.call(n,{ctx:a,error:ru(e),input:s[0],path:l,type:null!=(d=null==u?void 0:u._def.type)?d:"unknown"}),e}},[],Object.create(null))}}}function rw(...e){var t,r;let n=tH({},...e.map(e=>e._def.record));return rv({errorFormatter:e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==ro){if(e!==ro&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},ro),transformer:e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==rf){if(e!==rf&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},rf),isDev:e.every(e=>e._def._config.isDev),allowOutsideOfServer:e.every(e=>e._def._config.allowOutsideOfServer),isServer:e.every(e=>e._def._config.isServer),$types:null==(t=e[0])?void 0:t._def._config.$types,sse:null==(r=e[0])?void 0:r._def._config.sse})(n)}let rS=Symbol();function rx(e){return"object"==typeof e&&null!==e&&"subscribe"in e}function rE(e,t){let r,n,i=(r=null,n=()=>{null==r||r.unsubscribe(),r=null,t.removeEventListener("abort",n)},new ReadableStream({start(i){r=e.subscribe({next(e){i.enqueue({ok:!0,value:e})},error(e){i.enqueue({ok:!1,error:e}),i.close()},complete(){i.close()}}),t.aborted?n():t.addEventListener("abort",n,{once:!0})},cancel(){n()}})).getReader(),a={async next(){let e=await i.read();if(e.done)return{value:void 0,done:!0};let{value:t}=e;if(!t.ok)throw t.error;return{value:t.value,done:!1}},return:async()=>(await i.cancel(),{value:void 0,done:!0})};return{[Symbol.asyncIterator]:()=>a}}var rk=t2(rn(),1);function r$(e){let t=null,r=Symbol.for("@trpc/server/http/memo"),n=r;return{read:async()=>(n!==r||(null!=t||(t=e().catch(e=>{if(e instanceof rc)throw e;throw new rc({code:"BAD_REQUEST",message:e instanceof Error?e.message:"Invalid input",cause:e})})),n=await t,t=null),n),result:()=>n!==r?n:void 0}}let rO={isMatch(e){var t;return!!(null==(t=e.headers.get("content-type"))?void 0:t.startsWith("application/json"))},async parse(e){var t;let{req:r}=e,n="1"===e.searchParams.get("batch"),i=n?e.path.split(","):[e.path],a=r$(async()=>{let t;if("GET"===r.method){let r=e.searchParams.get("input");r&&(t=JSON.parse(r))}else t=await r.json();if(void 0===t)return{};if(!n)return{0:e.router._def._config.transformer.input.deserialize(t)};if(!tq(t))throw new rc({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let a={};for(let r of i.keys()){let n=t[r];void 0!==n&&(a[r]=e.router._def._config.transformer.input.deserialize(n))}return a}),o=await Promise.all(i.map(async(t,r)=>{let n=await r_(e.router,t);return{path:t,procedure:n,getRawInput:async()=>{let t=(await a.read())[r];if((null==n?void 0:n._def.type)==="subscription"){var i,o;let r=null!=(i=null!=(o=e.headers.get("last-event-id"))?o:e.searchParams.get("lastEventId"))?i:e.searchParams.get("Last-Event-Id");r&&(tq(t)?t=(0,rk.default)((0,rk.default)({},t),{},{lastEventId:r}):null!=t||(t={lastEventId:r}))}return t},result:()=>{var e;return null==(e=a.result())?void 0:e[r]}}})),s=new Set(o.map(e=>{var t;return null==(t=e.procedure)?void 0:t._def.type}).filter(Boolean));if(s.size>1)throw new rc({code:"BAD_REQUEST",message:`Cannot mix procedure types in call: ${Array.from(s).join(", ")}`});let l=null!=(t=s.values().next().value)?t:"unknown",u=e.searchParams.get("connectionParams");return{isBatchCall:n,accept:r.headers.get("trpc-accept"),calls:o,type:l,connectionParams:null===u?null:function(e){let t;try{t=JSON.parse(e)}catch(e){throw new rc({code:"PARSE_ERROR",message:"Not JSON-parsable query params",cause:e})}var r=t;try{if(null===r)return null;if(!tq(r))throw Error("Expected object");let e=Object.entries(r).filter(([e,t])=>"string"!=typeof t);if(e.length>0)throw Error(`Expected connectionParams to be string values. Got ${e.map(([e,t])=>`${e}: ${typeof t}`).join(", ")}`);return r}catch(e){throw new rc({code:"PARSE_ERROR",message:"Invalid connection params shape",cause:e})}}(u),signal:r.signal,url:e.url}}},rP=[rO,{isMatch(e){var t;return!!(null==(t=e.headers.get("content-type"))?void 0:t.startsWith("multipart/form-data"))},async parse(e){let{req:t}=e;if("POST"!==t.method)throw new rc({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let r=r$(async()=>await t.formData()),n=await r_(e.router,e.path);return{accept:null,calls:[{path:e.path,getRawInput:r.read,result:r.result,procedure:n}],isBatchCall:!1,type:"mutation",connectionParams:null,signal:t.signal,url:e.url}}},{isMatch(e){var t;return!!(null==(t=e.headers.get("content-type"))?void 0:t.startsWith("application/octet-stream"))},async parse(e){let{req:t}=e;if("POST"!==t.method)throw new rc({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let r=r$(async()=>t.body);return{calls:[{path:e.path,getRawInput:r.read,result:r.result,procedure:await r_(e.router,e.path)}],isBatchCall:!1,accept:null,type:"mutation",connectionParams:null,signal:t.signal,url:e.url}}}];async function rT(e){let t=function(e){let t=rP.find(t=>t.isMatch(e));if(t)return t;if(!t&&"GET"===e.method)return rO;throw new rc({code:"UNSUPPORTED_MEDIA_TYPE",message:e.headers.has("content-type")?`Unsupported content-type "${e.headers.get("content-type")}`:"Missing content-type header"})}(e.req);return await t.parse(e)}function rI(e="AbortError"){throw new DOMException(e,"AbortError")}function rA(e){return"[object Object]"===Object.prototype.toString.call(e)}var rj=t2(rr(),1);let rN=new WeakMap,rC=()=>{};n=Symbol.toStringTag;var rR=class e{constructor(e){(0,rj.default)(this,"promise",void 0),(0,rj.default)(this,"subscribers",[]),(0,rj.default)(this,"settlement",null),(0,rj.default)(this,n,"Unpromise"),"function"==typeof e?this.promise=new Promise(e):this.promise=e;const t=this.promise.then(e=>{let{subscribers:t}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:e},null==t||t.forEach(({resolve:t})=>{t(e)})});"catch"in t&&t.catch(e=>{let{subscribers:t}=this;this.subscribers=null,this.settlement={status:"rejected",reason:e},null==t||t.forEach(({reject:t})=>{t(e)})})}subscribe(){let e,t,{settlement:r}=this;if(null===r){var n;let r,i;if(null===this.subscribers)throw Error("Unpromise settled but still has subscribers");let a={promise:new Promise((e,t)=>{r=e,i=t}),resolve:r,reject:i};this.subscribers=(n=this.subscribers,[...n,a]),e=a.promise,t=()=>{null!==this.subscribers&&(this.subscribers=function(e,t){let r=e.indexOf(t);if(-1!==r)return[...e.slice(0,r),...e.slice(r+1)];return e}(this.subscribers,a))}}else{let{status:n}=r;e="fulfilled"===n?Promise.resolve(r.value):Promise.reject(r.reason),t=rC}return Object.assign(e,{unsubscribe:t})}then(e,t){let r=this.subscribe(),{unsubscribe:n}=r;return Object.assign(r.then(e,t),{unsubscribe:n})}catch(e){let t=this.subscribe(),{unsubscribe:r}=t;return Object.assign(t.catch(e),{unsubscribe:r})}finally(e){let t=this.subscribe(),{unsubscribe:r}=t;return Object.assign(t.finally(e),{unsubscribe:r})}static proxy(t){let r=e.getSubscribablePromise(t);return void 0!==r?r:e.createSubscribablePromise(t)}static createSubscribablePromise(t){let r=new e(t);return rN.set(t,r),rN.set(r,r),r}static getSubscribablePromise(e){return rN.get(e)}static resolve(t){let r="object"==typeof t&&null!==t&&"then"in t&&"function"==typeof t.then?t:Promise.resolve(t);return e.proxy(r).subscribe()}static async any(t){let r=(Array.isArray(t)?t:[...t]).map(e.resolve);try{return await Promise.any(r)}finally{r.forEach(({unsubscribe:e})=>{e()})}}static async race(t){let r=(Array.isArray(t)?t:[...t]).map(e.resolve);try{return await Promise.race(r)}finally{r.forEach(({unsubscribe:e})=>{e()})}}static async raceReferences(e){let t=e.map(rD);try{return await Promise.race(t)}finally{for(let e of t)e.unsubscribe()}}};function rD(e){return rR.proxy(e).then(()=>[e])}function rU(e,t){let r=e[Symbol.asyncDispose];return e[Symbol.asyncDispose]=async()=>{await t(),await (null==r?void 0:r())},e}null!=(M=Symbol).dispose||(M.dispose=Symbol()),null!=(z=Symbol).asyncDispose||(z.asyncDispose=Symbol());let rM=Symbol();function rz(e){var t,r;let n,i=null;return t={start(){if(i)throw Error("Timer already started");return new Promise(t=>{i=setTimeout(()=>t(rM),e)})}},r=()=>{i&&clearTimeout(i)},n=t[Symbol.dispose],t[Symbol.dispose]=()=>{r(),null==n||n()},t}var rL=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){t.exports=function(){var e="function"==typeof SuppressedError?SuppressedError:function(e,t){var r=Error();return r.name="SuppressedError",r.error=e,r.suppressed=t,r},t={},r=[];function n(e,t){if(null!=t){if(Object(t)!==t)throw TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(e)var n=t[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(void 0===n&&(n=t[Symbol.dispose||Symbol.for("Symbol.dispose")],e))var i=n;if("function"!=typeof n)throw TypeError("Object is not disposable.");i&&(n=function(){try{i.call(t)}catch(e){return Promise.reject(e)}}),r.push({v:t,d:n,a:e})}else e&&r.push({d:t,a:e});return t}return{e:t,u:n.bind(null,!1),a:n.bind(null,!0),d:function(){var n,i=this.e,a=0;function o(){for(;n=r.pop();)try{if(!n.a&&1===a)return a=0,r.push(n),Promise.resolve().then(o);if(n.d){var e=n.d.call(n.v);if(n.a)return a|=2,Promise.resolve(e).then(o,s)}else a|=1}catch(e){return s(e)}if(1===a)return i!==t?Promise.reject(i):Promise.resolve();if(i!==t)throw i}function s(r){return i=i!==t?new e(r,i):r,o()}return o()}}},t.exports.__esModule=!0,t.exports.default=t.exports}}),rJ=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){t.exports=function(e,t){this.v=e,this.k=t},t.exports.__esModule=!0,t.exports.default=t.exports}}),rB=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var r=rJ();t.exports=function(e){return new r(e,0)},t.exports.__esModule=!0,t.exports.default=t.exports}}),rW=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var r=rJ();function n(e){var t,n;function i(t,n){try{var o=e[t](n),s=o.value,l=s instanceof r;Promise.resolve(l?s.v:s).then(function(r){if(l){var n="return"===t?"return":"next";if(!s.k||r.done)return i(n,r);r=e[n](r).value}a(o.done?"return":"normal",r)},function(e){i("throw",e)})}catch(e){a("throw",e)}}function a(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(a,o){var s={key:e,arg:r,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}n.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)},t.exports=function(e){return function(){return new n(e.apply(this,arguments))}},t.exports.__esModule=!0,t.exports.default=t.exports}}),rH=t2(rL(),1),rq=t2(rB(),1),rZ=t2(rW(),1);function rF(e){let t=e[Symbol.asyncIterator]();return t[Symbol.asyncDispose]?t:rU(t,async()=>{var e;await (null==(e=t.return)?void 0:e.call(t))})}function rK(){return(rK=(0,rZ.default)(function*(e,t){try{let n;var r=(0,rH.default)();let i=r.a(rF(e)),a=r.u(rz(t.maxDurationMs)).start();for(;;){if((n=yield(0,rq.default)(rR.race([i.next(),a])))===rM&&rI(),n.done)return n;yield n.value,n=null}}catch(e){r.e=e}finally{yield(0,rq.default)(r.d())}})).apply(this,arguments)}function rV(){return(rV=(0,rZ.default)(function*(e,t){try{let n;var r=(0,rH.default)();let i=r.a(rF(e)),a=r.u(rz(t.gracePeriodMs)),o=t.count,s=new Promise(()=>{});for(;;){if((n=yield(0,rq.default)(rR.race([i.next(),s])))===rM&&rI(),n.done)return n.value;yield n.value,0==--o&&(s=a.start()),n=null}}catch(e){r.e=e}finally{yield(0,rq.default)(r.d())}})).apply(this,arguments)}function rG(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}var rQ=t2(rL(),1),rX=t2(rB(),1),rY=t2(rW(),1);function r0(e){let t=e[Symbol.asyncIterator]();return new ReadableStream({async cancel(){var e;await (null==(e=t.return)?void 0:e.call(t))},async pull(e){let r=await t.next();r.done?e.close():e.enqueue(r.value)}})}var r1=t2(rL(),1),r4=t2(rB(),1),r6=t2(rW(),1);let r2=Symbol("ping");function r5(e,t){return r3.apply(this,arguments)}function r3(){return(r3=(0,r6.default)(function*(e,t){try{let i;var r=(0,r1.default)();let a=r.a(rF(e)),o=a.next();for(;;)try{var n=(0,r1.default)();let e=n.u(rz(t));if((i=yield(0,r4.default)(rR.race([o,e.start()])))===rM){yield r2;continue}if(i.done)return i.value;o=a.next(),yield i.value,i=null}catch(e){n.e=e}finally{n.d()}}catch(e){r.e=e}finally{yield(0,r4.default)(r.d())}})).apply(this,arguments)}var r8=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(e){function t(e){if(Object(e)!==e)return Promise.reject(TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return(r=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new r(e)}t.exports=function(e){var t,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new r(t.call(e));n="@@asyncIterator",i="@@iterator"}throw TypeError("Object is not async iterable")},t.exports.__esModule=!0,t.exports.default=t.exports}}),r9=t2(rB(),1),r7=t2(rW(),1),ne=t2(rL(),1),nt=t2(r8(),1);function nr(e){return(tq(e)||tZ(e))&&"function"==typeof(null==e?void 0:e.then)&&"function"==typeof(null==e?void 0:e.catch)}var nn=class extends Error{constructor(e){super("Max depth reached at path: "+e.join(".")),this.path=e}};function ni(){return(ni=(0,r7.default)(function*(e){let{data:t}=e,r=0,n=function(){let e="idle",t=rG(),r=[],n=new Set,i=[];function a(r){if("pending"!==e)return;let a=function(e,t){let r=e[Symbol.asyncIterator](),n="idle";function i(){n="done",t=()=>{}}return{pull:function(){"idle"!==n||(n="pending",r.next().then(e=>{if(e.done){n="done",t({status:"return",value:e.value}),i();return}n="idle",t({status:"yield",value:e.value})}).catch(e=>{t({status:"error",error:e}),i()}))},destroy:async()=>{var e;i(),await (null==(e=r.return)?void 0:e.call(r))}}}(r,r=>{if("pending"===e){switch(r.status){case"yield":i.push([a,r]);break;case"return":n.delete(a);break;case"error":i.push([a,r]),n.delete(a)}t.resolve()}});n.add(a),a.pull()}return{add(t){switch(e){case"idle":r.push(t);break;case"pending":a(t)}},[Symbol.asyncIterator]:()=>(0,rY.default)(function*(){try{var o=(0,rQ.default)();if("idle"!==e)throw Error("Cannot iterate twice");for(e="pending",o.a(rU({},async()=>{e="done";let r=[];if(await Promise.all(Array.from(n.values()).map(async e=>{try{await e.destroy()}catch(e){r.push(e)}})),i.length=0,n.clear(),t.resolve(),r.length>0)throw AggregateError(r)}));r.length>0;)a(r.shift());for(;n.size>0;){for(yield(0,rX.default)(t.promise);i.length>0;){let[e,t]=i.shift();switch(t.status){case"yield":yield t.value,e.pull();break;case"error":throw t.error}}t=rG()}}catch(e){o.e=e}finally{yield(0,rX.default)(o.d())}})()}}();function i(e){let t=r++,i=e(t);return n.add(i),t}function a(t){return e.maxDepth&&t.length>e.maxDepth?new nn(t):null}function o(t,r){var n,o,l;if(nr(t))return[0,(n=t,i((o=(0,r7.default)(function*(t){let i=a(r);i&&(n.catch(t=>{var n;null==(n=e.onError)||n.call(e,{error:t,path:r})}),n=Promise.reject(i));try{let e=yield(0,r9.default)(n);yield[t,0,s(e,r)]}catch(n){var o,l;null==(o=e.onError)||o.call(e,{error:n,path:r}),yield[t,1,null==(l=e.formatError)?void 0:l.call(e,{error:n,path:r})]}}),function(e){return o.apply(this,arguments)})))];if(tV(t)){if(e.maxDepth&&r.length>=e.maxDepth)throw Error("Max depth reached");return[1,i((l=(0,r7.default)(function*(n){try{var i,o,l=(0,ne.default)();let u=a(r);if(u)throw u;let c=l.a(rF(t));try{for(;;){let e=yield(0,r9.default)(c.next());if(e.done){yield[n,0,s(e.value,r)];break}yield[n,1,s(e.value,r)]}}catch(t){null==(i=e.onError)||i.call(e,{error:t,path:r}),yield[n,2,null==(o=e.formatError)?void 0:o.call(e,{error:t,path:r})]}}catch(e){l.e=e}finally{yield(0,r9.default)(l.d())}}),function(e){return l.apply(this,arguments)}))]}return null}function s(e,t){var r,n;if(void 0===e)return[[]];let i=o(e,t);if(i)return[[0],[null,...i]];if(!1===rA(e)||void 0!==(r=e.constructor)&&(!1===rA(n=r.prototype)||!1===n.hasOwnProperty("isPrototypeOf")))return[[e]];let a={},s=[];for(let[r,n]of Object.entries(e)){let e=o(n,[...t,r]);if(!e){a[r]=n;continue}a[r]=0,s.push([r,...e])}return[[a],...s]}let l={};for(let[e,r]of Object.entries(t))l[e]=s(r,[e]);yield l;let u=n;e.pingMs&&(u=r5(n,e.pingMs));var c=!1,d=!1;try{for(var f,p,h=(0,nt.default)(u);c=!(p=yield(0,r9.default)(h.next())).done;c=!1){let e=p.value;yield e}}catch(e){d=!0,f=e}finally{try{c&&null!=h.return&&(yield(0,r9.default)(h.return()))}finally{if(d)throw f}}})).apply(this,arguments)}var na=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncGeneratorDelegate.js"(e,t){var r=rJ();t.exports=function(e){var t={},n=!1;function i(t,i){return n=!0,{done:!1,value:new r(i=new Promise(function(r){r(e[t](i))}),1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t},t.exports.__esModule=!0,t.exports.default=t.exports}}),no=t2(r8(),1),ns=t2(rB(),1),nl=t2(rW(),1),nu=t2(na(),1);t2(rL(),1);let nc={"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-transform","X-Accel-Buffering":"no",Connection:"keep-alive"};var nd=t2(rW(),1),nf=t2(rn(),1);function np(e){return(0,nd.default)(function*(){throw e})()}let nh={mutation:["POST"],query:["GET"],subscription:["GET"]},nm={mutation:["POST"],query:["GET","POST"],subscription:["GET","POST"]};function ng(e){var t,r,n;let i,{ctx:a,info:o,responseMeta:s,untransformedJSON:l,errors:u=[],headers:c}=e,d=l?1!==(i=new Set((Array.isArray(l)?l:[l]).map(e=>{if("error"in e&&tq(e.error.data)){var t;return"number"==typeof(null==(t=e.error.data)?void 0:t.httpStatus)?e.error.data.httpStatus:t9(tW[e.error.code])}return 200}))).size?207:i.values().next().value:200,f=!l,p=f?[]:Array.isArray(l)?l:[l],h=null!=(t=null==s?void 0:s({ctx:a,info:o,paths:null==o?void 0:o.calls.map(e=>e.path),data:p,errors:u,eagerGeneration:f,type:null!=(r=null==o||null==(n=o.calls.find(e=>{var t;return null==(t=e.procedure)?void 0:t._def.type}))||null==(n=n.procedure)?void 0:n._def.type)?r:"unknown"}))?t:{};if(h.headers)if(h.headers instanceof Headers)for(let[e,t]of h.headers.entries())c.append(e,t);else for(let[e,t]of Object.entries(h.headers))if(Array.isArray(t))for(let r of t)c.append(e,r);else"string"==typeof t&&c.set(e,t);return h.status&&(d=h.status),{status:d}}function ny(e){return!!tq(e)&&(!!tV(e)||Object.values(e).some(nr)||Object.values(e).some(tV))}async function nv(e){var t,r,n,i,a,o,s;let l,{router:u,req:c}=e,d=new Headers([["vary","trpc-accept"]]),f=u._def._config,p=new URL(c.url);if("HEAD"===c.method)return new Response(null,{status:204});let h=null==(t=null!=(r=e.allowBatching)?r:null==(n=e.batching)?void 0:n.enabled)||t,m=null!=(i=e.allowMethodOverride)&&i&&"POST"===c.method,g=await (async()=>{try{return[void 0,await rT({req:c,path:decodeURIComponent(e.path),router:u,searchParams:p.searchParams,headers:e.req.headers,url:p})]}catch(e){return[ru(e),void 0]}})(),y=()=>{if(l)return l[1]},v=()=>{let[e,t]=l;if(e)throw e;return t},_=async t=>{if(l)throw Error("This should only be called once - report a bug in tRPC");try{let r=await e.createContext({info:t});l=[void 0,r]}catch(e){l=[ru(e),void 0]}},b=m?nm:nh,w="application/jsonl"===c.headers.get("trpc-accept"),S=null==(a=null==(o=f.sse)?void 0:o.enabled)||a;try{let[t,r]=g;if(t)throw t;if(r.isBatchCall&&!h)throw new rc({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if(w&&!r.isBatchCall)throw new rc({message:"Streaming requests must be batched (you can do a batch of 1)",code:"BAD_REQUEST"});await _(r);let n=r.calls.map(async t=>{let n=t.procedure;try{if(e.error)throw e.error;if(!n)throw new rc({code:"NOT_FOUND",message:`No procedure found on path "${t.path}"`});if(!b[n._def.type].includes(c.method))throw new rc({code:"METHOD_NOT_SUPPORTED",message:`Unsupported ${c.method}-request to ${n._def.type} procedure at path "${t.path}"`});if("subscription"===n._def.type&&r.isBatchCall)throw new rc({code:"BAD_REQUEST",message:"Cannot batch subscription calls"});let i=await n({path:t.path,getRawInput:t.getRawInput,ctx:v(),type:n._def.type,signal:e.req.signal});return[void 0,{data:i}]}catch(s){var i,a,o;let r=ru(s),n=t.result();return null==(i=e.onError)||i.call(e,{error:r,path:t.path,input:n,ctx:y(),type:null!=(a=null==(o=t.procedure)?void 0:o._def.type)?a:"unknown",req:e.req}),[r,void 0]}});if(!r.isBatchCall){let[t]=r.calls,[i,a]=await n[0];switch(r.type){case"unknown":case"mutation":case"query":{if(d.set("content-type","application/json"),ny(null==a?void 0:a.data))throw new rc({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"});let n=i?{error:ra({config:f,ctx:y(),error:i,input:t.result(),path:t.path,type:r.type})}:{result:{data:a.data}},o=ng({ctx:y(),info:r,responseMeta:e.responseMeta,errors:i?[i]:[],headers:d,untransformedJSON:[n]});return new Response(JSON.stringify(rh(f,n)),{status:o.status,headers:d})}case"subscription":{let n=i?np(i):S?rx(a.data)||tV(a.data)?rx(a.data)?rE(a.data,e.req.signal):a.data:np(new rc({message:`Subscription ${t.path} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"})):np(new rc({code:"METHOD_NOT_SUPPORTED",message:'Missing experimental flag "sseSubscriptions"'})),o=function(e){var t,r,n,i,a;let{serialize:o=tG}=e,s={enabled:null!=(t=null==(r=e.ping)?void 0:r.enabled)&&t,intervalMs:null!=(n=null==(i=e.ping)?void 0:i.intervalMs)?n:1e3},l=null!=(a=e.client)?a:{};if(s.enabled&&l.reconnectAfterInactivityMs&&s.intervalMs>l.reconnectAfterInactivityMs)throw Error(`Ping interval must be less than client reconnect interval to prevent unnecessary reconnection - ping.intervalMs: ${s.intervalMs} client.reconnectAfterInactivityMs: ${l.reconnectAfterInactivityMs}`);function u(){return(u=(0,nl.default)(function*(){let t,r;yield{event:"connected",data:JSON.stringify(l)};let n=e.data;e.emitAndEndImmediately&&(n=function(e,t){return rV.apply(this,arguments)}(n,{count:1,gracePeriodMs:1})),e.maxDurationMs&&e.maxDurationMs>0&&e.maxDurationMs!==1/0&&(n=function(e,t){return rK.apply(this,arguments)}(n,{maxDurationMs:e.maxDurationMs})),s.enabled&&s.intervalMs!==1/0&&s.intervalMs>0&&(n=r5(n,s.intervalMs));var i=!1,a=!1;try{for(var u,c,d,f=(0,no.default)(n);i=!(d=yield(0,ns.default)(f.next())).done;i=!1){if((t=d.value)===r2){yield{event:"ping",data:""};continue}(u=t,r=Array.isArray(u)&&u[2]===rS?{id:t[0],data:t[1]}:{data:t}).data=JSON.stringify(o(r.data)),yield r,t=null,r=null}}catch(e){a=!0,c=e}finally{try{i&&null!=f.return&&(yield(0,ns.default)(f.return()))}finally{if(a)throw c}}})).apply(this,arguments)}function c(){return(c=(0,nl.default)(function*(){try{yield*(0,nu.default)((0,no.default)(function(){return u.apply(this,arguments)}())),yield{event:"return",data:""}}catch(a){var t,r;if(tq(a)&&"AbortError"===a.name)return;let n=ru(a),i=null!=(t=null==(r=e.formatError)?void 0:r.call(e,{error:n}))?t:null;yield{event:"serialized-error",data:JSON.stringify(o(i))}}})).apply(this,arguments)}return r0(function(){return c.apply(this,arguments)}()).pipeThrough(new TransformStream({transform(e,t){"event"in e&&t.enqueue(`event: ${e.event}
`),"data"in e&&t.enqueue(`data: ${e.data}
`),"id"in e&&t.enqueue(`id: ${e.id}
`),"comment"in e&&t.enqueue(`: ${e.comment}
`),t.enqueue("\n\n")}})).pipeThrough(new TextEncoderStream)}((0,nf.default)((0,nf.default)({},f.sse),{},{data:n,serialize:e=>f.transformer.output.serialize(e),formatError(r){var n,i,a;let o=ru(r.error),s=null==t?void 0:t.result(),l=null==t?void 0:t.path,u=null!=(n=null==t||null==(i=t.procedure)?void 0:i._def.type)?n:"unknown";return null==(a=e.onError)||a.call(e,{error:o,path:l,input:s,ctx:y(),req:e.req,type:u}),ra({config:f,ctx:y(),error:o,input:s,path:l,type:u})}}));for(let[e,t]of Object.entries(nc))d.set(e,t);let s=ng({ctx:y(),info:r,responseMeta:e.responseMeta,errors:[],headers:d,untransformedJSON:null});return new Response(o,{headers:d,status:s.status})}}}if("application/jsonl"===r.accept){d.set("content-type","application/json"),d.set("transfer-encoding","chunked");let t=ng({ctx:y(),info:r,responseMeta:e.responseMeta,errors:[],headers:d,untransformedJSON:null}),i=function(e){let t=r0(function(e){return ni.apply(this,arguments)}(e)),{serialize:r}=e;return r&&(t=t.pipeThrough(new TransformStream({transform(e,t){e===r2?t.enqueue(r2):t.enqueue(r(e))}}))),t.pipeThrough(new TransformStream({transform(e,t){e===r2?t.enqueue(" "):t.enqueue(JSON.stringify(e)+"\n")}})).pipeThrough(new TextEncoderStream)}((0,nf.default)((0,nf.default)({},f.jsonl),{},{maxDepth:1/0,data:n.map(async t=>{let[n,i]=await t,a=r.calls[0];if(n){var o,s;return{error:ra({config:f,ctx:y(),error:n,input:a.result(),path:a.path,type:null!=(o=null==(s=a.procedure)?void 0:s._def.type)?o:"unknown"})}}let l=rx(i.data)?rE(i.data,e.req.signal):Promise.resolve(i.data);return{result:Promise.resolve({data:l})}}),serialize:e=>f.transformer.output.serialize(e),onError:t=>{var n,i;null==(n=e.onError)||n.call(e,{error:ru(t),path:void 0,input:void 0,ctx:y(),req:e.req,type:null!=(i=null==r?void 0:r.type)?i:"unknown"})},formatError(e){var t,n;let i=null==r?void 0:r.calls[e.path[0]],a=ru(e.error),o=null==i?void 0:i.result(),s=null==i?void 0:i.path,l=null!=(t=null==i||null==(n=i.procedure)?void 0:n._def.type)?t:"unknown";return ra({config:f,ctx:y(),error:a,input:o,path:s,type:l})}}));return new Response(i,{headers:d,status:t.status})}d.set("content-type","application/json");let i=(await Promise.all(n)).map(e=>{let[t,r]=e;return t?e:ny(r.data)?[new rc({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"}),void 0]:e}),a=i.map(([e,t],n)=>{let i=r.calls[n];if(e){var a,o;return{error:ra({config:f,ctx:y(),error:e,input:i.result(),path:i.path,type:null!=(a=null==(o=i.procedure)?void 0:o._def.type)?a:"unknown"})}}return{result:{data:t.data}}}),o=i.map(([e])=>e).filter(Boolean),s=ng({ctx:y(),info:r,responseMeta:e.responseMeta,untransformedJSON:a,errors:o,headers:d});return new Response(JSON.stringify(rh(f,a)),{status:s.status,headers:d})}catch(l){let[t,r]=g,n=y(),{error:i,untransformedJSON:a,body:o}=function(e,t){let{router:r,req:n,onError:i}=t.opts,a=ru(e);null==i||i({error:a,path:t.path,input:t.input,ctx:t.ctx,type:t.type,req:n});let o={error:ra({config:r._def._config,error:a,type:t.type,path:t.path,input:t.input,ctx:t.ctx})},s=JSON.stringify(rh(r._def._config,o));return{error:a,untransformedJSON:o,body:s}}(l,{opts:e,ctx:y(),type:null!=(s=null==r?void 0:r.type)?s:"unknown"});return new Response(o,{status:ng({ctx:n,info:r,responseMeta:e.responseMeta,untransformedJSON:a,errors:[i],headers:d}).status,headers:d})}}var n_=t2(rn(),1);let nb=e=>e=(e=e.startsWith("/")?e.slice(1):e).endsWith("/")?e.slice(0,-1):e;async function nw(e){let t=new Headers,r=async r=>{var n;return null==(n=e.createContext)?void 0:n.call(e,(0,n_.default)({req:e.req,resHeaders:t},r))},n=nb(new URL(e.req.url).pathname),i=nb(e.endpoint),a=nb(n.slice(i.length));return await nv((0,n_.default)((0,n_.default)({},e),{},{req:e.req,createContext:r,path:a,error:null,onError(t){var r;null==e||null==(r=e.onError)||r.call(e,(0,n_.default)((0,n_.default)({},t),{},{req:e.req}))},responseMeta(r){var n;let i=null==(n=e.responseMeta)?void 0:n.call(e,r);if(null==i?void 0:i.headers)if(i.headers instanceof Headers)for(let[e,r]of i.headers.entries())t.append(e,r);else for(let[e,r]of Object.entries(i.headers))if(Array.isArray(r))for(let n of r)t.append(e,n);else"string"==typeof r&&t.set(e,r);return{headers:t,status:null==i?void 0:i.status}}}))}var nS=t2(rn(),1);let nx="middlewareMarker";var nE=t2(rr(),1),nk=class extends Error{constructor(e){var t;super(null==(t=e[0])?void 0:t.message),(0,nE.default)(this,"issues",void 0),this.name="SchemaError",this.issues=e}};function n$(e){let t="~standard"in e;if("function"==typeof e&&"function"==typeof e.assert)return e.assert.bind(e);if("function"==typeof e&&!t)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);if(t)return async t=>{let r=await e["~standard"].validate(t);if(r.issues)throw new nk(r.issues);return r.value};throw Error("Could not find a validator fn")}var nO=t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(e,t){t.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r},t.exports.__esModule=!0,t.exports.default=t.exports}}),nP=t2(t6({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(e,t){var r=nO();t.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},t.exports.__esModule=!0,t.exports.default=t.exports}})(),1),nT=t2(rn(),1);let nI=["middlewares","inputs","meta"];function nA(e,t){let{middlewares:r=[],inputs:n,meta:i}=t,a=(0,nP.default)(t,nI);return nj((0,nT.default)((0,nT.default)({},tH(e,a)),{},{inputs:[...e.inputs,...null!=n?n:[]],middlewares:[...e.middlewares,...r],meta:e.meta&&i?(0,nT.default)((0,nT.default)({},e.meta),i):null!=i?i:e.meta}))}function nj(e={}){let t=(0,nT.default)({procedure:!0,inputs:[],middlewares:[]},e);return{_def:t,input(e){let r,n=n$(e);return nA(t,{inputs:[e],middlewares:[((r=async function(e){let t,r=await e.getRawInput();try{t=await n(r)}catch(e){throw new rc({code:"BAD_REQUEST",cause:e})}let i=tq(e.input)&&tq(t)?(0,nS.default)((0,nS.default)({},e.input),t):t;return e.next({input:i})})._type="input",r)]})},output(e){let r,n=n$(e);return nA(t,{output:e,middlewares:[((r=async function({next:e}){let t=await e();if(!t.ok)return t;try{let e=await n(t.data);return(0,nS.default)((0,nS.default)({},t),{},{data:e})}catch(e){throw new rc({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}})._type="output",r)]})},meta:e=>nA(t,{meta:e}),use:e=>nA(t,{middlewares:"_middlewares"in e?e._middlewares:[e]}),unstable_concat:e=>nA(t,e._def),concat:e=>nA(t,e._def),query:e=>nN((0,nT.default)((0,nT.default)({},t),{},{type:"query"}),e),mutation:e=>nN((0,nT.default)((0,nT.default)({},t),{},{type:"mutation"}),e),subscription:e=>nN((0,nT.default)((0,nT.default)({},t),{},{type:"subscription"}),e),experimental_caller:e=>nA(t,{caller:e})}}function nN(e,t){let r=nA(e,{resolver:t,middlewares:[async function(e){return{marker:nx,ok:!0,data:await t(e),ctx:e.ctx}}]}),n=(0,nT.default)((0,nT.default)({},r._def),{},{type:e.type,experimental_caller:!!r._def.caller,meta:r._def.meta,$types:null}),i=function(e){async function t(t){if(!t||!("getRawInput"in t))throw Error(nC);let r=await nR(0,e,t);if(!r)throw new rc({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!r.ok)throw r.error;return r.data}return t._def=e,t.procedure=!0,t.meta=e.meta,t}(r._def),a=r._def.caller;if(!a)return i;let o=async(...e)=>await a({args:e,invoke:i,_def:n});return o._def=n,o}let nC=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();async function nR(e,t,r){try{let n=t.middlewares[e];return await n((0,nT.default)((0,nT.default)({},r),{},{meta:t.meta,input:r.input,next(n){var i;return nR(e+1,t,(0,nT.default)((0,nT.default)({},r),{},{ctx:(null==n?void 0:n.ctx)?(0,nT.default)((0,nT.default)({},r.ctx),n.ctx):r.ctx,input:n&&"input"in n?n.input:r.input,getRawInput:null!=(i=null==n?void 0:n.getRawInput)?i:r.getRawInput}))}}))}catch(e){return{ok:!1,error:ru(e),marker:nx}}}var nD=t2(rn(),1);let nU=new class e{context(){return new e}meta(){return new e}create(e){var t,r,n,i,a,o,s,l;let u=(0,nD.default)((0,nD.default)({},e),{},{transformer:"input"in(l=null!=(t=null==e?void 0:e.transformer)?t:rf)?l:{input:l,output:l},isDev:null!=(r=null==e?void 0:e.isDev)?r:(null==(n=globalThis.process)?void 0:n.env.NODE_ENV)!=="production",allowOutsideOfServer:null!=(i=null==e?void 0:e.allowOutsideOfServer)&&i,errorFormatter:null!=(a=null==e?void 0:e.errorFormatter)?a:ro,isServer:null==(o=null==e?void 0:e.isServer)||o,$types:null});if(!(null==(s=null==e?void 0:e.isServer)||s)&&(null==e?void 0:e.allowOutsideOfServer)!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:u,procedure:nj({meta:null==e?void 0:e.defaultMeta}),middleware:function(e){return function e(t){return{_middlewares:t,unstable_pipe:r=>e([...t,..."_middlewares"in r?r._middlewares:[r]])}}([e])},router:rv(u),mergeRouters:rw,createCallerFactory:rb()}}};var nM=e.i(57660),nz=e.i(85605),nL=e.i(46786),nJ=e.i(22734);let nB=new Map,nW=new Map,nH=Symbol("OriginError"),nq={};class nZ extends Promise{constructor(e,t,r,n,i={}){let a,o;super((e,t)=>{a=e,o=t}),this.tagged=Array.isArray(e.raw),this.strings=e,this.args=t,this.handler=r,this.canceller=n,this.options=i,this.state=null,this.statement=null,this.resolve=e=>(this.active=!1,a(e)),this.reject=e=>(this.active=!1,o(e)),this.active=!1,this.cancelled=null,this.executed=!1,this.signature="",this[nH]=this.handler.debug?Error():this.tagged&&function(e){if(nB.has(e))return nB.get(e);let t=Error.stackTraceLimit;return Error.stackTraceLimit=4,nB.set(e,Error()),Error.stackTraceLimit=t,nB.get(e)}(this.strings)}get origin(){return(this.handler.debug?this[nH].stack:this.tagged&&nW.has(this.strings)?nW.get(this.strings):nW.set(this.strings,this[nH].stack).get(this.strings))||""}static get[Symbol.species](){return Promise}cancel(){return this.canceller&&(this.canceller(this),this.canceller=null)}simple(){return this.options.simple=!0,this.options.prepare=!1,this}async readable(){return this.simple(),this.streaming=!0,this}async writable(){return this.simple(),this.streaming=!0,this}cursor(e=1,t){let r;return(this.options.simple=!1,"function"==typeof e&&(t=e,e=1),this.cursorRows=e,"function"==typeof t)?(this.cursorFn=t,this):{[Symbol.asyncIterator]:()=>({next:()=>{if(this.executed&&!this.active)return{done:!0};r&&r();let e=new Promise((e,t)=>{this.cursorFn=t=>(e({value:t,done:!1}),new Promise(e=>r=e)),this.resolve=()=>(this.active=!1,e({done:!0})),this.reject=e=>(this.active=!1,t(e))});return this.execute(),e},return:()=>(r&&r(nq),{done:!0})})}}describe(){return this.options.simple=!1,this.onlyDescribe=this.options.prepare=!0,this}stream(){throw Error(".stream has been renamed to .forEach")}forEach(e){return this.forEachFn=e,this.handle(),this}raw(){return this.isRaw=!0,this}values(){return this.isRaw="values",this}async handle(){!this.executed&&(this.executed=!0)&&await 1&&this.handler(this)}execute(){return this.handle(),this}then(){return this.handle(),super.then.apply(this,arguments)}catch(){return this.handle(),super.catch.apply(this,arguments)}finally(){return this.handle(),super.finally.apply(this,arguments)}}class nF extends Error{constructor(e){super(e.message),this.name=this.constructor.name,Object.assign(this,e)}}let nK=function e(t,r,n){let{host:i,port:a}=n||r,o=Object.assign(Error("write "+t+" "+(r.path||i+":"+a)),{code:t,errno:t,address:r.path||i},r.path?{}:{port:a});return Error.captureStackTrace(o,e),o},nV=function e(t){let r=new nF(t);return Error.captureStackTrace(r,e),r},nG=function e(t,r){let n=Object.assign(Error(t+": "+r),{code:t});return Error.captureStackTrace(n,e),n},nQ=function e(t){let r=Object.assign(Error(t+" (B) is not supported"),{code:"MESSAGE_NOT_SUPPORTED",name:t});return Error.captureStackTrace(r,e),r};class nX{then(){it()}catch(){it()}finally(){it()}}class nY extends nX{constructor(e){super(),this.value=il(e)}}class n0 extends nX{constructor(e,t,r){super(),this.value=e,this.type=t,this.array=r}}class n1 extends nX{constructor(e,t){super(),this.first=e,this.rest=t}build(e,t,r,n){let i=ie.map(([t,r])=>({fn:r,i:e.search(t)})).sort((e,t)=>e.i-t.i).pop();return -1===i.i?is(this.first,n):i.fn(this.first,this.rest,t,r,n)}}function n4(e,t,r,n){let i=e instanceof n0?e.value:e;if(void 0===i&&(e instanceof n0?e.value=n.transform.undefined:i=e=n.transform.undefined,void 0===i))throw nG("UNDEFINED_VALUE","Undefined values are not allowed");return"$"+r.push(e instanceof n0?(t.push(e.value),e.array?e.array[e.type||iu(e.value)]||e.type||function e(t){return Array.isArray(t)?e(t[0]):1009*("string"==typeof t)}(e.value):e.type):(t.push(e),iu(e)))}let n6=io({string:{to:25,from:null,serialize:e=>""+e},number:{to:0,from:[21,23,26,700,701],serialize:e=>""+e,parse:e=>+e},json:{to:114,from:[114,3802],serialize:e=>JSON.stringify(e),parse:e=>JSON.parse(e)},boolean:{to:16,from:16,serialize:e=>!0===e?"t":"f",parse:e=>"t"===e},date:{to:1184,from:[1082,1114,1184],serialize:e=>(e instanceof Date?e:new Date(e)).toISOString(),parse:e=>new Date(e)},bytea:{to:17,from:17,serialize:e=>"\\x"+Buffer.from(e).toString("hex"),parse:e=>Buffer.from(e.slice(2),"hex")}});function n2(e,t,r,n,i,a){for(let o=1;o<e.strings.length;o++)t+=n5(t,r,n,i,a)+e.strings[o],r=e.args[o];return t}function n5(e,t,r,n,i){return t instanceof n1?t.build(e,r,n,i):t instanceof nZ?n3(t,r,n,i):t instanceof nY?t.value:t&&t[0]instanceof nZ?t.reduce((e,t)=>e+" "+n3(t,r,n,i),""):n4(t,r,n,i)}function n3(e,t,r,n){return e.fragment=!0,n2(e,e.strings[0],e.args[0],t,r,n)}function n8(e,t,r,n,i){return e.map(e=>"("+n.map(n=>n5("values",e[n],t,r,i)).join(",")+")").join(",")}function n9(e,t,r,n,i){let a=Array.isArray(e[0]),o=t.length?t.flat():Object.keys(a?e[0]:e);return n8(a?e:[e],r,n,o,i)}function n7(e,t,r,n,i){let a;return("string"==typeof e&&(e=[e].concat(t)),Array.isArray(e))?is(e,i):(t.length?t.flat():Object.keys(e)).map(t=>((a=e[t])instanceof nZ?n3(a,r,n,i):a instanceof nY?a.value:n4(a,r,n,i))+" as "+il(i.transform.column.to?i.transform.column.to(t):t)).join(",")}let ie=Object.entries({values:n9,in:(...e)=>{let t=n9(...e);return"()"===t?"(null)":t},select:n7,as:n7,returning:n7,"\\(":n7,update:(e,t,r,n,i)=>(t.length?t.flat():Object.keys(e)).map(t=>il(i.transform.column.to?i.transform.column.to(t):t)+"="+n5("values",e[t],r,n,i)),insert(e,t,r,n,i){let a=t.length?t.flat():Object.keys(Array.isArray(e)?e[0]:e);return"("+is(a,i)+")values"+n8(Array.isArray(e)?e:[e],r,n,a,i)}}).map(([e,t])=>[RegExp("((?:^|[\\s(])"+e+"(?:$|[\\s(]))(?![\\s\\S]*\\1)","i"),t]);function it(){throw nG("NOT_TAGGED_CALL","Query not called as a tagged template literal")}let ir=n6.serializers,ii=n6.parsers,ia=function(e){let t=io(e||{});return{serializers:Object.assign({},ir,t.serializers),parsers:Object.assign({},ii,t.parsers)}};function io(e){return Object.keys(e).reduce((t,r)=>(e[r].from&&[].concat(e[r].from).forEach(n=>t.parsers[n]=e[r].parse),e[r].serialize&&(t.serializers[e[r].to]=e[r].serialize,e[r].from&&[].concat(e[r].from).forEach(n=>t.serializers[n]=e[r].serialize)),t),{parsers:{},serializers:{}})}function is(e,{transform:{column:t}}){return e.map(e=>il(t.to?t.to(e):e)).join(",")}let il=function(e){return'"'+e.replace(/"/g,'""').replace(/\./g,'"."')+'"'},iu=function e(t){return t instanceof n0?t.type:t instanceof Date?1184:t instanceof Uint8Array?17:!0===t||!1===t?16:"bigint"==typeof t?20:Array.isArray(t)?e(t[0]):0},ic=/\\/g,id=/"/g,ip=function e(t,r,n,i){if(!1===Array.isArray(t))return t;if(!t.length)return"{}";let a=t[0],o=1020===i?";":",";return Array.isArray(a)&&!a.type?"{"+t.map(t=>e(t,r,n,i)).join(o)+"}":"{"+t.map(e=>{if(void 0===e&&void 0===(e=n.transform.undefined))throw nG("UNDEFINED_VALUE","Undefined values are not allowed");return null===e?"null":'"'+(r?r(e.type?e.value:e):""+e).replace(ic,"\\\\").replace(id,'\\"')+'"'}).join(o)+"}"},ih={i:0,char:null,str:"",quoted:!1,last:0},im=e=>{let t=e[0];for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},ig=e=>{let t=e[0].toUpperCase();for(let r=1;r<e.length;r++)t+="_"===e[r]?e[++r].toUpperCase():e[r];return t},iy=e=>e.replace(/_/g,"-"),iv=e=>e.replace(/([A-Z])/g,"_$1").toLowerCase(),i_=e=>(e.slice(0,1)+e.slice(1).replace(/([A-Z])/g,"_$1")).toLowerCase(),ib=e=>e.replace(/-/g,"_");function iw(e){return function t(r,n){return"object"==typeof r&&null!==r&&(114===n.type||3802===n.type)?Array.isArray(r)?r.map(e=>t(e,n)):Object.entries(r).reduce((r,[i,a])=>Object.assign(r,{[e(i)]:t(a,n)}),{}):r}}im.column={from:im},im.value={from:iw(im)},iv.column={to:iv};let iS={...im};iS.column.to=iv,ig.column={from:ig},ig.value={from:iw(ig)},i_.column={to:i_};let ix={...ig};ix.column.to=i_,iy.column={from:iy},iy.value={from:iw(iy)},ib.column={to:ib};let iE={...iy};iE.column.to=ib;var ik=e.i(4446),i$=e.i(55004),iO=e.i(54799),iP=e.i(88947),iT=e.i(60438);class iI extends Array{constructor(){super(),Object.defineProperties(this,{count:{value:null,writable:!0},state:{value:null,writable:!0},command:{value:null,writable:!0},columns:{value:null,writable:!0},statement:{value:null,writable:!0}})}static get[Symbol.species](){return Array}}let iA=function(e=[]){let t=e.slice(),r=0;return{get length(){return t.length-r},remove:e=>{let r=t.indexOf(e);return -1===r?null:(t.splice(r,1),e)},push:e=>(t.push(e),e),shift:()=>{let e=t[r++];return r===t.length?(r=0,t=[]):t[r-1]=void 0,e}}},ij=Buffer.allocUnsafe(256),iN=Object.assign(function(){return iN.i=0,iN},"BCcDdEFfHPpQSX".split("").reduce((e,t)=>{let r=t.charCodeAt(0);return e[t]=()=>(ij[0]=r,iN.i=5,iN),e},{}),{N:"\0",i:0,inc:e=>(iN.i+=e,iN),str(e){let t=Buffer.byteLength(e);return iC(t),iN.i+=ij.write(e,iN.i,t,"utf8"),iN},i16:e=>(iC(2),ij.writeUInt16BE(e,iN.i),iN.i+=2,iN),i32:(e,t)=>(t||0===t?ij.writeUInt32BE(e,t):(iC(4),ij.writeUInt32BE(e,iN.i),iN.i+=4),iN),z:e=>(iC(e),ij.fill(0,iN.i,iN.i+e),iN.i+=e,iN),raw:e=>(ij=Buffer.concat([ij.subarray(0,iN.i),e]),iN.i=ij.length,iN),end(e=1){ij.writeUInt32BE(iN.i-e,e);let t=ij.subarray(0,iN.i);return iN.i=0,ij=Buffer.allocUnsafe(256),t}});function iC(e){if(ij.length-iN.i<e){let t=ij,r=t.length;ij=Buffer.allocUnsafe(r+(r>>1)+e),t.copy(ij)}}let iR=function e(t,r={},{onopen:n=iB,onend:i=iB,onclose:a=iB}={}){let{ssl:o,max:s,user:l,host:u,port:c,database:d,parsers:f,transform:p,onnotice:h,onnotify:m,onparameter:g,max_pipeline:y,keep_alive:v,backoff:_,target_session_attrs:b}=t,w=iA(),S=iD++,x={pid:null,secret:null},E=iK(e_,t.idle_timeout),k=iK(e_,t.max_lifetime),$=iK(function(){ey(nK("CONNECT_TIMEOUT",t,O)),O.destroy()},t.connect_timeout),O=null,P,T=new iI,I=Buffer.alloc(0),A=t.fetch_types,j={},N={},C=Math.random().toString(36).slice(2),R=1,D=0,U=0,M=0,z=0,L=0,J=0,B=0,W=null,H=null,q=!1,Z=null,F=null,K=null,V=null,G=null,Q=null,X=null,Y=null,ee=null,et=null,er={queue:r.closed,idleTimer:E,connect(e){K=e,eh()},terminate:eb,execute:ea,cancel:ei,end:e_,count:0,id:S};return r.closed&&r.closed.push(er),er;async function en(){let e;try{e=t.socket?await Promise.resolve(t.socket(t)):new ik.default.Socket}catch(e){eg(e);return}return e.on("error",eg),e.on("close",ew),e.on("drain",ed),e}async function ei({pid:e,secret:t},r,n){try{P=iN().i32(16).i32(0x4d2162e).i32(e).i32(t).end(16),await ep(),O.once("error",n),O.once("close",r)}catch(e){n(e)}}function ea(e){if(q)return ev(e,nK("CONNECTION_DESTROYED",t));if(!e.cancelled)try{var r;let n,i,a;return e.state=x,ee?w.push(e):(ee=e).active=!0,r=e,n=[],i=[],a=n2(r,r.strings[0],r.args[0],n,i,t),r.tagged||r.args.forEach(e=>n4(e,n,i,t)),r.prepare=t.prepare&&(!("prepare"in r.options)||r.options.prepare),r.string=a,r.signature=r.prepare&&i+a,r.onlyDescribe&&delete N[r.signature],r.parameters=r.parameters||n,r.prepared=r.prepare&&r.signature in N,r.describeFirst=r.onlyDescribe||n.length&&!r.prepared,r.statement=r.prepared?N[r.signature]:{string:a,types:i,name:r.prepare?C+R++:""},"function"==typeof t.debug&&t.debug(S,a,n,i),el(function(e){var t;if(e.parameters.length>=65534)throw nG("MAX_PARAMETERS_EXCEEDED","Max number of parameters (65534) exceeded");return e.options.simple?iN().Q().str(e.statement.string+iN.N).end():e.describeFirst?Buffer.concat([eo(e),iM]):e.prepare?e.prepared?es(e):Buffer.concat([eo(e),es(e)]):(t=e,Buffer.concat([eA(t.statement.string,t.parameters,t.statement.types),iJ,es(t)]))}(e))&&!e.describeFirst&&!e.cursorFn&&w.length<y&&(!e.options.onexecute||e.options.onexecute(er))}catch(e){return 0===w.length&&el(iU),ey(e),!0}}function eo(e){return Buffer.concat([eA(e.statement.string,e.parameters,e.statement.types,e.statement.name),function(e,t=""){return iN().D().str("S").str(t+iN.N).end()}("S",e.statement.name)])}function es(e){return Buffer.concat([function(e,r,n="",i=""){let a,o;return iN().B().str(i+iN.N).str(n+iN.N).i16(0).i16(e.length),e.forEach((n,i)=>{if(null===n)return iN.i32(0xffffffff);o=r[i],e[i]=n=o in t.serializers?t.serializers[o](n):""+n,a=iN.i,iN.inc(4).str(n).i32(iN.i-a-4,a)}),iN.i16(0),iN.end()}(e.parameters,e.statement.types,e.statement.name,e.cursorName),e.cursorFn?ej("",e.cursorRows):iL])}function el(e,t){return(Q=Q?Buffer.concat([Q,e]):Buffer.from(e),t||Q.length>=1024)?eu(t):(null===H&&(H=setImmediate(eu)),!0)}function eu(e){let t=O.write(Q,e);return null!==H&&clearImmediate(H),Q=H=null,t}async function ec(){if(el(iz),!await new Promise(e=>O.once("data",t=>e(83===t[0])))&&"prefer"===o)return em();O.removeAllListeners(),(O=i$.default.connect({socket:O,servername:ik.default.isIP(O.host)?void 0:O.host,..."require"===o||"allow"===o||"prefer"===o?{rejectUnauthorized:!1}:"verify-full"===o?{}:"object"==typeof o?o:{}})).on("secureConnect",em),O.on("error",eg),O.on("close",ew),O.on("drain",ed)}function ed(){ee||n(er)}function ef(r){if(!Z||(Z.push(r),!((U-=r.length)>0)))for(I=Z?Buffer.concat(Z,L-U):0===I.length?r:Buffer.concat([I,r],I.length+r.length);I.length>4;){if((L=I.readUInt32BE(1))>=I.length){U=L-I.length,Z=[I];break}try{!function(r,i=r[0]){(68===i?function(e){let t,r,n,i=7,a=ee.isRaw?Array(ee.statement.columns.length):{};for(let o=0;o<ee.statement.columns.length;o++)r=ee.statement.columns[o],t=e.readInt32BE(i),i+=4,n=-1===t?null:!0===ee.isRaw?e.subarray(i,i+=t):void 0===r.parser?e.toString("utf8",i,i+=t):!0===r.parser.array?r.parser(e.toString("utf8",i+1,i+=t)):r.parser(e.toString("utf8",i,i+=t)),ee.isRaw?a[o]=!0===ee.isRaw?n:p.value.from?p.value.from(n,r):n:a[r.name]=p.value.from?p.value.from(n,r):n;ee.forEachFn?ee.forEachFn(p.row.from?p.row.from(a):a,T):T[B++]=p.row.from?p.row.from(a):a}:100===i?function(e){G&&(G.push(e.subarray(5))||O.pause())}:65===i?function(e){if(!m)return;let t=9;for(;0!==e[t++];);m(e.toString("utf8",9,t-1),e.toString("utf8",t,e.length-1))}:83===i?function(e){let[r,n]=e.toString("utf8",5,e.length-1).split(iN.N);j[r]=n,t.parameters[r]!==n&&(t.parameters[r]=n,g&&g(r,n))}:90===i?function(r){if(ee&&ee.options.simple&&ee.resolve(F||T),ee=F=null,T=new iI,$.cancel(),K){if(b)if(!j.in_hot_standby||!j.default_transaction_read_only)return function(){let e=new nZ([`
      show transaction_read_only;
      select pg_catalog.pg_is_in_recovery()
    `],[],ea,null,{simple:!0});e.resolve=([[e],[t]])=>{j.default_transaction_read_only=e.transaction_read_only,j.in_hot_standby=t.pg_is_in_recovery?"on":"off"},e.execute()}();else{var i,a;if(i=b,a=j,"read-write"===i&&"on"===a.default_transaction_read_only||"read-only"===i&&"off"===a.default_transaction_read_only||"primary"===i&&"on"===a.in_hot_standby||"standby"===i&&"off"===a.in_hot_standby||"prefer-standby"===i&&"off"===a.in_hot_standby&&t.host[z])return eb()}return A?(K.reserve&&(K=null),eT()):(K&&!K.reserve&&ea(K),t.shared.retries=z=0,void(K=null))}for(;w.length&&(ee=w.shift())&&(ee.active=!0,ee.cancelled);)e(t).cancel(ee.state,ee.cancelled.resolve,ee.cancelled.reject);ee||(er.reserved?er.reserved.release||73!==r[5]?er.reserved():V?eb():(er.reserved=null,n(er)):V?eb():n(er))}:67===i?function(e){B=0;for(let t=e.length-1;t>0;t--)if(32===e[t]&&e[t+1]<58&&null===T.count&&(T.count=+e.toString("utf8",t+1,e.length-1)),e[t-1]>=65){T.command=e.toString("utf8",5,t),T.state=x;break}return(et&&(et(),et=null),"BEGIN"!==T.command||1===s||er.reserved)?ee.options.simple?eS():void(ee.cursorFn&&(T.count&&ee.cursorFn(T),el(iU)),ee.resolve(T)):ey(nG("UNSAFE_TRANSACTION","Only use sql.begin, sql.reserved or max: 1"))}:50===i?eS:49===i?function(){ee.parsing=!1}:116===i?function(e){let t=e.readUInt16BE(5);for(let r=0;r<t;++r)ee.statement.types[r]||(ee.statement.types[r]=e.readUInt32BE(7+4*r));ee.prepare&&(N[ee.signature]=ee.statement),ee.describeFirst&&!ee.onlyDescribe&&(el(es(ee)),ee.describeFirst=!1)}:84===i?function(e){let t;T.command&&((F=F||[T]).push(T=new iI),T.count=null,ee.statement.columns=null);let r=e.readUInt16BE(5),n=7;ee.statement.columns=Array(r);for(let i=0;i<r;++i){for(t=n;0!==e[n++];);let r=e.readUInt32BE(n),a=e.readUInt16BE(n+4),o=e.readUInt32BE(n+6);ee.statement.columns[i]={name:p.column.from?p.column.from(e.toString("utf8",t,n-1)):e.toString("utf8",t,n-1),parser:f[o],table:r,number:a,type:o},n+=18}if(T.statement=ee.statement,ee.onlyDescribe)return ee.resolve(ee.statement),el(iU)}:82===i?ex:110===i?function(){if(T.statement=ee.statement,T.statement.columns=[],ee.onlyDescribe)return ee.resolve(ee.statement),el(iU)}:75===i?function(e){x.pid=e.readUInt32BE(5),x.secret=e.readUInt32BE(9)}:69===i?function(e){var t,r;ee&&(ee.cursorFn||ee.describeFirst)&&el(iU);let n=nV(iq(e));ee&&ee.retried?ey(ee.retried):ee&&ee.prepared&&iW.has(n.routine)?(t=ee,r=n,delete N[t.signature],t.retried=r,ea(t)):ey(n)}:115===i?eI:51===i?function(){T.count&&ee.cursorFn(T),ee.resolve(T)}:71===i?function(){G=new iP.default.Writable({autoDestroy:!0,write(e,t,r){O.write(iN().d().raw(e).end(),r)},destroy(e,t){t(e),O.write(iN().f().str(e+iN.N).end()),G=null},final(e){O.write(iN().c().end()),et=e}}),ee.resolve(G)}:78===i?function(e){h?h(iq(e)):console.log(iq(e))}:72===i?function(){G=new iP.default.Readable({read(){O.resume()}}),ee.resolve(G)}:99===i?function(){G&&G.push(null),G=null}:73===i?function(){}:86===i?function(){ey(nQ("FunctionCallResponse"))}:118===i?function(){ey(nQ("NegotiateProtocolVersion"))}:87===i?function(){G=new iP.default.Duplex({autoDestroy:!0,read(){O.resume()},write(e,t,r){O.write(iN().d().raw(e).end(),r)},destroy(e,t){t(e),O.write(iN().f().str(e+iN.N).end()),G=null},final(e){O.write(iN().c().end()),et=e}}),ee.resolve(G)}:function(e){console.error("Postgres.js : Unknown Message:",e[0])})(r)}(I.subarray(0,L+1))}catch(e){ee&&(ee.cursorFn||ee.describeFirst)&&el(iU),ey(e)}I=I.subarray(L+1),U=0,Z=null}}async function ep(){if(q=!1,j={},O||(O=await en()),O){if($.start(),t.socket)return o?ec():em();if(O.on("connect",o?ec:em),t.path)return O.connect(t.path);O.ssl=o,O.connect(c[M],u[M]),O.host=u[M],O.port=c[M],M=(M+1)%c.length}}function eh(){setTimeout(ep,D?D+J-iT.performance.now():0)}function em(){try{N={},A=t.fetch_types,C=Math.random().toString(36).slice(2),R=1,k.start(),O.on("data",ef),v&&O.setKeepAlive&&O.setKeepAlive(!0,1e3*v);let e=P||iN().inc(4).i16(3).z(2).str(Object.entries(Object.assign({user:l,database:d,client_encoding:"UTF8"},t.connection)).filter(([,e])=>e).map(([e,t])=>e+iN.N+t).join(iN.N)).z(2).end(0);el(e)}catch(e){eg(e)}}function eg(e){if(er.queue!==r.connecting||!t.host[z+1])for(ey(e);w.length;)ev(w.shift(),e)}function ey(e){G&&(G.destroy(e),G=null),ee&&ev(ee,e),K&&(ev(K,e),K=null)}function ev(e,r){if(e.reserve)return e.reject(r);r&&"object"==typeof r||(r=Error(r)),"query"in r||"parameters"in r||Object.defineProperties(r,{stack:{value:r.stack+e.origin.replace(/.*\n/,"\n"),enumerable:t.debug},query:{value:e.string,enumerable:t.debug},parameters:{value:e.parameters,enumerable:t.debug},args:{value:e.args,enumerable:t.debug},types:{value:e.statement&&e.statement.types,enumerable:t.debug}}),e.reject(r)}function e_(){return V||(er.reserved||i(er),er.reserved||K||ee||0!==w.length?V=new Promise(e=>X=e):(eb(),new Promise(e=>O&&"closed"!==O.readyState?O.once("close",e):e())))}function eb(){q=!0,(G||ee||K||w.length)&&eg(nK("CONNECTION_DESTROYED",t)),clearImmediate(H),O&&(O.removeListener("data",ef),O.removeListener("connect",em),"open"===O.readyState&&O.end(iN().X().end())),X&&(X(),V=X=null)}async function ew(e){if(I=Buffer.alloc(0),U=0,Z=null,clearImmediate(H),O.removeListener("data",ef),O.removeListener("connect",em),E.cancel(),k.cancel(),$.cancel(),O.removeAllListeners(),O=null,K)return eh();!e&&(ee||w.length)&&eg(nK("CONNECTION_CLOSED",t,O)),D=iT.performance.now(),e&&t.shared.retries++,J=("function"==typeof _?_(t.shared.retries):_)*1e3,a(er,nK("CONNECTION_CLOSED",t,O))}function eS(){T.statement||(T.statement=ee.statement),T.columns=ee.statement.columns}async function ex(e,t=e.readUInt32BE(5)){(3===t?eE:5===t?ek:10===t?e$:11===t?eO:12===t?function(e){e.toString("utf8",9).split(iN.N,1)[0].slice(2)!==W&&(ey(nG("SASL_SIGNATURE_MISMATCH","The server did not return the correct signature")),O.destroy())}:0!==t?function(e,t){console.error("Postgres.js : Unknown Auth:",t)}:iB)(e,t)}async function eE(){let e=await eP();el(iN().p().str(e).z(1).end())}async function ek(e){let t="md5"+await iZ(Buffer.concat([Buffer.from(await iZ(await eP()+l)),e.subarray(9)]));el(iN().p().str(t).z(1).end())}async function e$(){Y=(await iO.default.randomBytes(18)).toString("base64"),iN().p().str("SCRAM-SHA-256"+iN.N);let e=iN.i;el(iN.inc(4).str("n,,n=*,r="+Y).i32(iN.i-e-4,e).end())}async function eO(e){var t;let r=e.toString("utf8",9).split(",").reduce((e,t)=>(e[t[0]]=t.slice(2),e),{}),n=await iO.default.pbkdf2Sync(await eP(),Buffer.from(r.s,"base64"),parseInt(r.i),32,"sha256"),i=await iF(n,"Client Key"),a="n=*,r="+Y+",r="+r.r+",s="+r.s+",i="+r.i+",c=biws,r="+r.r;W=(await iF(await iF(n,"Server Key"),a)).toString("base64");let o="c=biws,r="+r.r+",p="+(function(e,t){let r=Math.max(e.length,t.length),n=Buffer.allocUnsafe(r);for(let i=0;i<r;i++)n[i]=e[i]^t[i];return n})(i,Buffer.from(await iF(await (t=i,iO.default.createHash("sha256").update(t).digest()),a))).toString("base64");el(iN().p().str(o).end())}function eP(){return Promise.resolve("function"==typeof t.pass?t.pass():t.pass)}async function eT(){A=!1,(await new nZ([`
      select b.oid, b.typarray
      from pg_catalog.pg_type a
      left join pg_catalog.pg_type b on b.oid = a.typelem
      where a.typcategory = 'A'
      group by b.oid, b.typarray
      order by b.oid
    `],[],ea)).forEach(({oid:e,typarray:r})=>(function(e,r){if(t.parsers[r]&&t.serializers[r])return;let n=t.parsers[e];t.shared.typeArrayMap[e]=r,t.parsers[r]=e=>(ih.i=ih.last=0,function e(t,r,n,i){let a=[],o=1020===i?";":",";for(;t.i<r.length;t.i++){if(t.char=r[t.i],t.quoted)"\\"===t.char?t.str+=r[++t.i]:'"'===t.char?(a.push(n?n(t.str):t.str),t.str="",t.quoted='"'===r[t.i+1],t.last=t.i+2):t.str+=t.char;else if('"'===t.char)t.quoted=!0;else if("{"===t.char)t.last=++t.i,a.push(e(t,r,n,i));else if("}"===t.char){t.quoted=!1,t.last<t.i&&a.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1;break}else t.char===o&&"}"!==t.p&&'"'!==t.p&&(a.push(n?n(r.slice(t.last,t.i)):r.slice(t.last,t.i)),t.last=t.i+1);t.p=t.char}return t.last<t.i&&a.push(n?n(r.slice(t.last,t.i+1)):r.slice(t.last,t.i+1)),a}(ih,e,n,r)),t.parsers[r].array=!0,t.serializers[r]=n=>ip(n,t.serializers[e],t,r)})(e,r))}async function eI(){try{let e=await Promise.resolve(ee.cursorFn(T));B=0,e===nq?el(function(e=""){return Buffer.concat([iN().C().str("P").str(e+iN.N).end(),iN().S().end()])}(ee.portal)):(T=new iI,el(ej("",ee.cursorRows)))}catch(e){el(iU),ee.reject(e)}}function eA(e,t,r,n=""){return iN().P().str(n+iN.N).str(e+iN.N).i16(t.length),t.forEach((e,t)=>iN.i32(r[t]||0)),iN.end()}function ej(e="",t=0){return Buffer.concat([iN().E().str(e+iN.N).i32(t).end(),iM])}},iD=1,iU=iN().S().end(),iM=iN().H().end(),iz=iN().i32(8).i32(0x4d2162f).end(8),iL=Buffer.concat([iN().E().str(iN.N).i32(0).end(),iU]),iJ=iN().D().str("S").str(iN.N).end(),iB=()=>{},iW=new Set(["FetchPreparedStatement","RevalidateCachedQuery","transformAssignedExpr"]),iH={83:"severity_local",86:"severity",67:"code",77:"message",68:"detail",72:"hint",80:"position",112:"internal_position",113:"internal_query",87:"where",115:"schema_name",116:"table_name",99:"column_name",100:"data type_name",110:"constraint_name",70:"file",76:"line",82:"routine"};function iq(e){let t={},r=5;for(let n=5;n<e.length-1;n++)0===e[n]&&(t[iH[e[r]]]=e.toString("utf8",r+1,n),r=n+1);return t}function iZ(e){return iO.default.createHash("md5").update(e).digest("hex")}function iF(e,t){return iO.default.createHmac("sha256",e).update(t).digest()}function iK(e,t){let r;if(!(t="function"==typeof t?t():t))return{cancel:iB,start:iB};return{cancel(){r&&(clearTimeout(r),r=null)},start(){r&&clearTimeout(r),r=setTimeout(n,1e3*t,arguments)}};function n(t){e.apply(null,t),r=null}}let iV=()=>{};function iG(e,t,r,n){let i,a,o,s=n.raw?Array(t.length):{};for(let l=0;l<t.length;l++)i=e[r++],a=t[l],o=110===i?null:117===i?void 0:void 0===a.parser?e.toString("utf8",r+4,r+=4+e.readUInt32BE(r)):!0===a.parser.array?a.parser(e.toString("utf8",r+5,r+=4+e.readUInt32BE(r))):a.parser(e.toString("utf8",r+4,r+=4+e.readUInt32BE(r))),n.raw?s[l]=!0===n.raw?o:n.value.from?n.value.from(o,a):o:s[a.name]=n.value.from?n.value.from(o,a):o;return{i:r,row:n.row.from?n.row.from(s):s}}function iQ(e,t,r=393216){return new Promise(async(n,i)=>{await e.begin(async e=>{let i;t||([{oid:t}]=await e`select lo_creat(-1) as oid`);let[{fd:a}]=await e`select lo_open(${t}, ${r}) as fd`,o={writable:l,readable:s,close:()=>e`select lo_close(${a})`.then(i),tell:()=>e`select lo_tell64(${a})`,read:t=>e`select loread(${a}, ${t}) as data`,write:t=>e`select lowrite(${a}, ${t})`,truncate:t=>e`select lo_truncate64(${a}, ${t})`,seek:(t,r=0)=>e`select lo_lseek64(${a}, ${t}, ${r})`,size:()=>e`
          select
            lo_lseek64(${a}, location, 0) as position,
            seek.size
          from (
            select
              lo_lseek64($1, 0, 2) as size,
              tell.location
            from (select lo_tell64($1) as location) tell
          ) seek
        `};return n(o),new Promise(async e=>i=e);async function s({highWaterMark:e=16384,start:t=0,end:r=1/0}={}){let n=r-t;return t&&await o.seek(t),new iP.default.Readable({highWaterMark:e,async read(e){let t=e>n?e-n:e;n-=e;let[{data:r}]=await o.read(t);this.push(r),r.length<e&&this.push(null)}})}async function l({highWaterMark:e=16384,start:t=0}={}){return t&&await o.seek(t),new iP.default.Writable({highWaterMark:e,write(e,t,r){o.write(e).then(()=>r(),r)}})}}).catch(i)})}Object.assign(iY,{PostgresError:nF,toPascal:ig,pascal:ix,toCamel:im,camel:iS,toKebab:iy,kebab:iE,fromPascal:i_,fromCamel:iv,fromKebab:ib,BigInt:{to:20,from:[20],parse:e=>BigInt(e),serialize:e=>e.toString()}});let iX=iY;function iY(e,t){let r=function(e,t){var r;if(e&&e.shared)return e;let n=process.env,i=(e&&"string"!=typeof e?e:t)||{},{url:a,multihost:o}=function(e){if(!e||"string"!=typeof e)return{url:{searchParams:new Map}};let t=e;t=decodeURIComponent((t=t.slice(t.indexOf("://")+3).split(/[?/]/)[0]).slice(t.indexOf("@")+1));let r=new URL(e.replace(t,t.split(",")[0]));return{url:{username:decodeURIComponent(r.username),password:decodeURIComponent(r.password),host:r.host,hostname:r.hostname,port:r.port,pathname:r.pathname,searchParams:r.searchParams},multihost:t.indexOf(",")>-1&&t}}(e),s=[...a.searchParams].reduce((e,[t,r])=>(e[t]=r,e),{}),l=i.hostname||i.host||o||a.hostname||n.PGHOST||"localhost",u=i.port||a.port||n.PGPORT||5432,c=i.user||i.username||a.username||n.PGUSERNAME||n.PGUSER||function(){try{return nL.default.userInfo().username}catch(e){return process.env.USERNAME||process.env.USER||process.env.LOGNAME}}();i.no_prepare&&(i.prepare=!1),s.sslmode&&(s.ssl=s.sslmode,delete s.sslmode),"timeout"in i&&(console.log("The timeout option is deprecated, use idle_timeout instead"),i.idle_timeout=i.timeout),"system"===s.sslrootcert&&(s.ssl="verify-full");let d=["idle_timeout","connect_timeout","max_lifetime","max_pipeline","backoff","keep_alive"],f={max:10,ssl:!1,idle_timeout:null,connect_timeout:30,max_lifetime:i1,max_pipeline:100,backoff:i0,keep_alive:60,prepare:!0,debug:!1,fetch_types:!0,publications:"alltables",target_session_attrs:null};return{host:Array.isArray(l)?l:l.split(",").map(e=>e.split(":")[0]),port:Array.isArray(u)?u:l.split(",").map(e=>parseInt(e.split(":")[1]||u)),path:i.path||l.indexOf("/")>-1&&l+"/.s.PGSQL."+u,database:i.database||i.db||(a.pathname||"").slice(1)||n.PGDATABASE||c,user:c,pass:i.pass||i.password||a.password||n.PGPASSWORD||"",...Object.entries(f).reduce((e,[t,r])=>{let a=t in i?i[t]:t in s?"disable"!==s[t]&&"false"!==s[t]&&s[t]:n["PG"+t.toUpperCase()]||r;return e[t]="string"==typeof a&&d.includes(t)?+a:a,e},{}),connection:{application_name:n.PGAPPNAME||"postgres.js",...i.connection,...Object.entries(s).reduce((e,[t,r])=>(t in f||(e[t]=r),e),{})},types:i.types||{},target_session_attrs:function(e,t,r){let n=e.target_session_attrs||t.searchParams.get("target_session_attrs")||r.PGTARGETSESSIONATTRS;if(!n||["read-write","read-only","primary","standby","prefer-standby"].includes(n))return n;throw Error("target_session_attrs "+n+" is not supported")}(i,a,n),onnotice:i.onnotice,onnotify:i.onnotify,onclose:i.onclose,onparameter:i.onparameter,socket:i.socket,transform:{undefined:(r=i.transform||{undefined:void 0}).undefined,column:{from:"function"==typeof r.column?r.column:r.column&&r.column.from,to:r.column&&r.column.to},value:{from:"function"==typeof r.value?r.value:r.value&&r.value.from,to:r.value&&r.value.to},row:{from:"function"==typeof r.row?r.row:r.row&&r.row.from,to:r.row&&r.row.to}},parameters:{},shared:{retries:0,typeArrayMap:{}},...ia(i.types)}}(e,t),n=r.no_subscribe||function(e,t){let r=new Map,n="postgresjs_"+Math.random().toString(36).slice(2),i={},a,o,s=!1,l=d.sql=e({...t,transform:{column:{},value:{},row:{}},max:1,fetch_types:!1,idle_timeout:null,max_lifetime:null,connection:{...t.connection,replication:"database"},onclose:async function(){s||(o=null,i.pid=i.secret=void 0,f(await p(l,n,t.publications)),r.forEach(e=>e.forEach(({onsubscribe:e})=>e())))},no_subscribe:!0}),u=l.end,c=l.close;return l.end=async()=>(s=!0,o&&await new Promise(e=>(o.once("close",e),o.end())),u()),l.close=async()=>(o&&await new Promise(e=>(o.once("close",e),o.end())),c()),d;async function d(e,s,u=iV,c=iV){e=function(e){let[,t,r,n]=e.match(/^(\*|insert|update|delete)?:?([^.]+?\.?[^=]+)?=?(.+)?/i)||[];return(t||"*")+(r?":"+(-1===r.indexOf(".")?"public."+r:r):"")+(n?"="+n:"")}(e),a||(a=p(l,n,t.publications));let h={fn:s,onsubscribe:u},m=r.has(e)?r.get(e).add(h):r.set(e,new Set([h])).get(e),g=()=>{m.delete(h),0===m.size&&r.delete(e)};return a.then(e=>(f(e),u(),o&&o.on("error",c),{unsubscribe:g,state:i,sql:l}))}function f(e){o=e.stream,i.pid=e.state.pid,i.secret=e.state.secret}async function p(e,r,n){if(!n)throw Error("Missing publication names");let i=await e.unsafe(`CREATE_REPLICATION_SLOT ${r} TEMPORARY LOGICAL pgoutput NOEXPORT_SNAPSHOT`),[a]=i,o=await e.unsafe(`START_REPLICATION SLOT ${r} LOGICAL ${a.consistent_point} (proto_version '1', publication_names '${n}')`).writable(),s={lsn:Buffer.concat(a.consistent_point.split("/").map(e=>Buffer.from(("00000000"+e).slice(-8),"hex")))};return o.on("data",function(r){var n,i,a,u,c;let d;119===r[0]?(n=r.subarray(25),i=s,a=e.options.parsers,u=l,c=t.transform,Object.entries({R:e=>{let t=1,r=i[e.readUInt32BE(t)]={schema:e.toString("utf8",t+=4,t=e.indexOf(0,t))||"pg_catalog",table:e.toString("utf8",t+1,t=e.indexOf(0,t+1)),columns:Array(e.readUInt16BE(t+=2)),keys:[]};t+=2;let n=0,o;for(;t<e.length;)(o=r.columns[n++]={key:e[t++],name:c.column.from?c.column.from(e.toString("utf8",t,t=e.indexOf(0,t))):e.toString("utf8",t,t=e.indexOf(0,t)),type:e.readUInt32BE(t+=1),parser:a[e.readUInt32BE(t)],atttypmod:e.readUInt32BE(t+=4)}).key&&r.keys.push(o),t+=4},Y:()=>{},O:()=>{},B:e=>{var t;t=e.readBigInt64BE(9),i.date=new Date(Date.UTC(2e3,0,1)+Number(t/BigInt(1e3))),i.lsn=e.subarray(1,9)},I:e=>{let t=1,r=i[e.readUInt32BE(t)],{row:n}=iG(e,r.columns,t+=7,c);u(n,{command:"insert",relation:r})},D:e=>{let t=1,r=i[e.readUInt32BE(t)],n=75===e[t+=4];u(n||79===e[t]?iG(e,r.columns,t+=3,c).row:null,{command:"delete",relation:r,key:n})},U:e=>{let t=1,r=i[e.readUInt32BE(t)],n=75===e[t+=4],a=n||79===e[t]?iG(e,r.columns,t+=3,c):null;a&&(t=a.i);let{row:o}=iG(e,r.columns,t+3,c);u(o,{command:"update",relation:r,key:n,old:a&&a.row})},T:()=>{},C:()=>{}}).reduce((e,[t,r])=>(e[t.charCodeAt(0)]=r,e),{})[n[0]](n)):107===r[0]&&r[17]&&(s.lsn=r.subarray(1,9),(d=Buffer.alloc(34))[0]=114,d.fill(s.lsn,1),d.writeBigInt64BE(BigInt(Date.now()-Date.UTC(2e3,0,1))*BigInt(1e3),25),o.write(d))}),o.on("error",function(e){console.error("Unexpected error during logical streaming - reconnecting",e)}),o.on("close",e.close),{stream:o,state:i.state};function l(e,t){let r=t.relation.schema+"."+t.relation.table;h("*",e,t),h("*:"+r,e,t),t.relation.keys.length&&h("*:"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t),h(t.command,e,t),h(t.command+":"+r,e,t),t.relation.keys.length&&h(t.command+":"+r+"="+t.relation.keys.map(t=>e[t.name]),e,t)}}function h(e,t,n){r.has(e)&&r.get(e).forEach(({fn:r})=>r(t,n,e))}}(iY,{...r}),i=!1,a=iA(),o=iA(),s=iA(),l=iA(),u=iA(),c=iA(),d=iA(),f=iA(),p={connecting:o,reserved:s,closed:l,ended:u,open:c,busy:d,full:f},h=[...Array(r.max)].map(()=>iR(r,p,{onopen:I,onend:T,onclose:A})),m=g(function(e){return i?e.reject(nK("CONNECTION_ENDED",r,r)):c.length?x(c.shift(),e):l.length?P(l.shift(),e):void(d.length?x(d.shift(),e):a.push(e))});return Object.assign(m,{get parameters(){return r.parameters},largeObject:iQ.bind(null,m),subscribe:n,CLOSE:nq,END:nq,PostgresError:nF,options:r,reserve:_,listen:y,begin:b,close:$,end:k}),m;function g(e){return e.debug=r.debug,Object.entries(r.types).reduce((e,[t,r])=>(e[t]=e=>new n0(e,r.to),e),t),Object.assign(n,{types:t,typed:t,unsafe:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new nZ([t],r,e,E,{prepare:!1,...n,simple:"simple"in n?n.simple:0===r.length})},notify:v,array:function e(t,n){return Array.isArray(t)?new n0(t,n||(t.length?iu(t)||25:0),r.shared.typeArrayMap):e(Array.from(arguments))},json:S,file:function(t,r=[],n={}){return 2!=arguments.length||Array.isArray(r)||(n=r,r=[]),new nZ([],r,r=>{nJ.default.readFile(t,"utf8",(t,n)=>{if(t)return r.reject(t);r.strings=[n],e(r)})},E,{...n,simple:"simple"in n?n.simple:0===r.length})}}),n;function t(e,t){return new n0(e,t)}function n(t,...i){return t&&Array.isArray(t.raw)?new nZ(t,i,e,E):"string"!=typeof t||i.length?new n1(t,i):new nY(r.transform.column.to?r.transform.column.to(t):t)}}async function y(e,t,n){let i={fn:t,onlisten:n},a=y.sql||(y.sql=iY({...r,max:1,idle_timeout:null,max_lifetime:null,fetch_types:!1,onclose(){Object.entries(y.channels).forEach(([e,{listeners:t}])=>{delete y.channels[e],Promise.all(t.map(t=>y(e,t.fn,t.onlisten).catch(()=>{})))})},onnotify(e,t){e in y.channels&&y.channels[e].listeners.forEach(e=>e.fn(t))}})),o=y.channels||(y.channels={});if(e in o){o[e].listeners.push(i);let t=await o[e].result;return i.onlisten&&i.onlisten(),{state:t.state,unlisten:l}}o[e]={result:a`listen ${a.unsafe('"'+e.replace(/"/g,'""')+'"')}`,listeners:[i]};let s=await o[e].result;return i.onlisten&&i.onlisten(),{state:s.state,unlisten:l};async function l(){if(e in o!=!1&&(o[e].listeners=o[e].listeners.filter(e=>e!==i),!o[e].listeners.length))return delete o[e],a`unlisten ${a.unsafe('"'+e.replace(/"/g,'""')+'"')}`}}async function v(e,t){return await m`select pg_notify(${e}, ${""+t})`}async function _(){let e=iA(),t=c.length?c.shift():await new Promise((e,t)=>{let r={reserve:e,reject:t};a.push(r),l.length&&P(l.shift(),r)});w(t,s),t.reserved=()=>e.length?t.execute(e.shift()):w(t,s),t.reserved.release=!0;let r=g(function(r){t.queue===f?e.push(r):t.execute(r)||w(t,f)});return r.release=()=>{t.reserved=null,I(t)},r}async function b(e,t){t||(t=e,e="");let r=iA(),n=0,i,a=null;try{return await m.unsafe("begin "+e.replace(/[^a-z ]/ig,""),[],{onexecute:function(e){i=e,w(e,s),e.reserved=()=>r.length?e.execute(r.shift()):w(e,s)}}).execute(),await Promise.race([o(i,t),new Promise((e,t)=>i.onclose=t)])}catch(e){throw e}async function o(e,t,i){let s,l,u=g(function(t){t.catch(e=>s||(s=e)),e.queue===f?r.push(t):e.execute(t)||w(e,f)});u.savepoint=function t(r,i){return r&&Array.isArray(r.raw)?t(e=>e.apply(e,arguments)):(1==arguments.length&&(i=r,r=null),o(e,i,"s"+n+++(r?"_"+r:"")))},u.prepare=e=>a=e.replace(/[^a-z0-9$-_. ]/gi),i&&await u`savepoint ${u(i)}`;try{if(l=await new Promise((e,r)=>{let n=t(u);Promise.resolve(Array.isArray(n)?Promise.all(n):n).then(e,r)}),s)throw s}catch(e){throw await (i?u`rollback to ${u(i)}`:u`rollback`),e instanceof nF&&"25P02"===e.code&&s||e}return i||(a?await u`prepare transaction '${u.unsafe(a)}'`:await u`commit`),l}}function w(e,t){return e.queue.remove(e),t.push(e),e.queue=t,t===c?e.idleTimer.start():e.idleTimer.cancel(),e}function S(e){return new n0(e,3802)}function x(e,t){return e.execute(t)?w(e,d):w(e,f)}function E(e){return new Promise((t,n)=>{e.state?e.active?iR(r).cancel(e.state,t,n):e.cancelled={resolve:t,reject:n}:(a.remove(e),e.cancelled=!0,e.reject(nG("57014","canceling statement due to user request")),t())})}async function k({timeout:e=null}={}){let t;return i||(await 1,i=Promise.race([new Promise(r=>null!==e&&(t=setTimeout(O,1e3*e,r))),Promise.all(h.map(e=>e.end()).concat(y.sql?y.sql.end({timeout:0}):[],n.sql?n.sql.end({timeout:0}):[]))]).then(()=>clearTimeout(t)))}async function $(){await Promise.all(h.map(e=>e.end()))}async function O(e){for(await Promise.all(h.map(e=>e.terminate()));a.length;)a.shift().reject(nK("CONNECTION_DESTROYED",r));e()}function P(e,t){return w(e,o),e.connect(t),e}function T(e){w(e,u)}function I(e){if(0===a.length)return w(e,c);let t=Math.ceil(a.length/(o.length+1)),r=!0;for(;r&&a.length&&t-- >0;){let t=a.shift();if(t.reserve)return t.reserve(e);r=e.execute(t)}r?w(e,d):w(e,f)}function A(e,t){w(e,l),e.reserved=null,e.onclose&&(e.onclose(t),e.onclose=null),r.onclose&&r.onclose(e.id),a.length&&P(e,a.shift())}}function i0(e){return(.5+Math.random()/2)*Math.min(3**e/100,20)}function i1(){return 60*(30+30*Math.random())}let i4=Symbol.for("drizzle:entityKind");function i6(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,i4))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(i4 in r&&r[i4]===t[i4])return!0;r=Object.getPrototypeOf(r)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class i2{static [i4]="ConsoleLogWriter";write(e){console.log(e)}}class i5{static [i4]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new i2}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),n=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${n}`)}}class i3{static [i4]="NoopLogger";logQuery(){}}class i8{static [i4]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}class i9{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [i4]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}class i7{static [i4]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}let ae=Symbol.for("drizzle:Name");class at{static [i4]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:n}=e();return{name:t,columns:r,foreignTable:n[0].table,foreignColumns:n}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new ar(e,this)}}class ar{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [i4]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),n=t.map(e=>e.name),i=r.map(e=>e.name),a=[this.table[ae],...n,r[0].table[ae],...i];return e??`${a.join("_")}_fk`}}function an(e,...t){return e(...t)}function ai(e,t){return`${e[ae]}_${t.join("_")}_unique`}class aa{constructor(e,t){this.name=t,this.columns=e}static [i4]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new as(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class ao{static [i4]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new aa(e,this.name)}}class as{constructor(e,t,r,n){this.table=e,this.columns=t,this.name=n??ai(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [i4]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function al(e,t,r){for(let n=t;n<e.length;n++){let i=e[n];if("\\"===i){n++;continue}if('"'===i)return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(","===i||"}"===i))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}class au extends i7{foreignKeyConfigs=[];static [i4]="PgColumnBuilder";array(e){return new ap(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:n})=>an((r,n)=>{let i=new at(()=>({columns:[e],foreignColumns:[r()]}));return n.onUpdate&&i.onUpdate(n.onUpdate),n.onDelete&&i.onDelete(n.onDelete),i.build(t)},r,n))}buildExtraConfigColumn(e){return new ad(e,this.config)}}class ac extends i9{constructor(e,t){t.uniqueName||(t.uniqueName=ai(e,[t.name])),super(e,t),this.table=e}static [i4]="PgColumn"}class ad extends ac{static [i4]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class af{static [i4]="IndexedColumn";constructor(e,t,r,n){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=n}name;keyAsName;type;indexConfig}class ap extends au{static [i4]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new ah(e,this.config,t)}}class ah extends ac{constructor(e,t,r,n){super(e,t),this.baseColumn=r,this.range=n,this.size=t.size}size;static [i4]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let n=[],i=r,a=!1;for(;i<t.length;){let o=t[i];if(","===o){(a||i===r)&&n.push(""),a=!0,i++;continue}if(a=!1,"\\"===o){i+=2;continue}if('"'===o){let[e,r]=al(t,i+1,!0);n.push(e),i=r;continue}if("}"===o)return[n,i+1];if("{"===o){let[r,a]=e(t,i+1);n.push(r),i=a;continue}let[s,l]=al(t,i,!1);n.push(s),i=l}return[n,i]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let r=e.map(e=>null===e?null:i6(this.baseColumn,ah)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?r:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(r)}}class am extends au{static [i4]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new ag(e,this.config)}}class ag extends ac{static [i4]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let ay=Symbol.for("drizzle:isPgEnum");class av extends au{static [i4]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new a_(e,this.config)}}class a_ extends ac{static [i4]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class ab{static [i4]="Subquery";constructor(e,t,r,n=!1,i=[]){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:n,usedTables:i}}}class aw extends ab{static [i4]="WithSubquery"}let aS=(e,t)=>i?(a||(a=i.trace.getTracer("drizzle-orm","0.45.1")),an((r,n)=>n.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:r.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),i,a)):t(),ax=Symbol.for("drizzle:ViewBaseConfig"),aE=Symbol.for("drizzle:Schema"),ak=Symbol.for("drizzle:Columns"),a$=Symbol.for("drizzle:ExtraConfigColumns"),aO=Symbol.for("drizzle:OriginalName"),aP=Symbol.for("drizzle:BaseName"),aT=Symbol.for("drizzle:IsAlias"),aI=Symbol.for("drizzle:ExtraConfigBuilder"),aA=Symbol.for("drizzle:IsDrizzleTable");class aj{static [i4]="Table";static Symbol={Name:ae,Schema:aE,OriginalName:aO,Columns:ak,ExtraConfigColumns:a$,BaseName:aP,IsAlias:aT,ExtraConfigBuilder:aI};[ae];[aO];[aE];[ak];[a$];[aP];[aT]=!1;[aA]=!0;[aI]=void 0;constructor(e,t,r){this[ae]=this[aO]=e,this[aE]=t,this[aP]=r}}function aN(e){return"object"==typeof e&&null!==e&&aA in e}function aC(e){return`${e[aE]??"public"}.${e[ae]}`}class aR{static [i4]="FakePrimitiveParam"}function aD(e){return null!=e&&"function"==typeof e.getSQL}class aU{static [i4]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new aM([this])}}class aM{constructor(e){for(const t of(this.queryChunks=e,e))if(i6(t,aj)){const e=t[aj.Symbol.Schema];this.usedTables.push(void 0===e?t[aj.Symbol.Name]:e+"."+t[aj.Symbol.Name])}}static [i4]="SQL";decoder=aL;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return aS("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){let r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:a,prepareTyping:o,inlineParams:s,paramStartIndex:l}=r;var u=e.map(e=>{if(i6(e,aU))return{sql:e.value.join(""),params:[]};if(i6(e,az))return{sql:i(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new aU("(")];for(let[r,n]of e.entries())t.push(n),r<e.length-1&&t.push(new aU(", "));return t.push(new aU(")")),this.buildQueryFromSourceParams(t,r)}if(i6(e,aM))return this.buildQueryFromSourceParams(e.queryChunks,{...r,inlineParams:s||e.shouldInlineParams});if(i6(e,aj)){let t=e[aj.Symbol.Schema],r=e[aj.Symbol.Name];return{sql:void 0===t||e[aT]?i(r):i(t)+"."+i(r),params:[]}}if(i6(e,i9)){let r=n.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:i(r),params:[]};let a=e.table[aj.Symbol.Schema];return{sql:e.table[aT]||void 0===a?i(e.table[aj.Symbol.Name])+"."+i(r):i(a)+"."+i(e.table[aj.Symbol.Name])+"."+i(r),params:[]}}if(i6(e,aV)){let t=e[ax].schema,r=e[ax].name;return{sql:void 0===t||e[ax].isAlias?i(r):i(t)+"."+i(r),params:[]}}if(i6(e,aB)){if(i6(e.value,aZ))return{sql:a(l.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(i6(t,aM))return this.buildQueryFromSourceParams([t],r);if(s)return{sql:this.mapInlineParam(t,r),params:[]};let n=["none"];return o&&(n=[o(e.encoder)]),{sql:a(l.value++,t),params:[t],typings:n}}return i6(e,aZ)?{sql:a(l.value++,e),params:[e],typings:["none"]}:i6(e,aM.Aliased)&&void 0!==e.fieldAlias?{sql:i(e.fieldAlias),params:[]}:i6(e,ab)?e._.isWith?{sql:i(e._.alias),params:[]}:this.buildQueryFromSourceParams([new aU("("),e._.sql,new aU(") "),new az(e._.alias)],r):e&&"function"==typeof e&&ay in e&&!0===e[ay]?e.schema?{sql:i(e.schema)+"."+i(e.enumName),params:[]}:{sql:i(e.enumName),params:[]}:aD(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],r):this.buildQueryFromSourceParams([new aU("("),e.getSQL(),new aU(")")],r):s?{sql:this.mapInlineParam(e,r),params:[]}:{sql:a(l.value++,e),params:[e],typings:["none"]}});let c={sql:"",params:[]};for(let e of u)c.sql+=e.sql,c.params.push(...e.params),e.typings?.length&&(c.typings||(c.typings=[]),c.typings.push(...e.typings));return c}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new aM.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class az{constructor(e){this.value=e}static [i4]="Name";brand;getSQL(){return new aM([this])}}let aL={mapFromDriverValue:e=>e},aJ={mapToDriverValue:e=>e};({...aL,...aJ});class aB{constructor(e,t=aJ){this.value=e,this.encoder=t}static [i4]="Param";brand;getSQL(){return new aM([this])}}function aW(e,...t){let r=[];for(let[n,i]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new aU(e[0])),t.entries()))r.push(i,new aU(e[n+1]));return new aM(r)}(E=aW||(aW={})).empty=function(){return new aM([])},E.fromList=function(e){return new aM(e)},E.raw=function(e){return new aM([new aU(e)])},E.join=function(e,t){let r=[];for(let[n,i]of e.entries())n>0&&void 0!==t&&r.push(t),r.push(i);return new aM(r)},E.identifier=function(e){return new az(e)},E.placeholder=function(e){return new aZ(e)},E.param=function(e,t){return new aB(e,t)};var aH=aM||(aM={});class aq{constructor(e,t){this.sql=e,this.fieldAlias=t}static [i4]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new aq(this.sql,this.fieldAlias)}}aH.Aliased=aq;class aZ{constructor(e){this.name=e}static [i4]="Placeholder";getSQL(){return new aM([this])}}function aF(e,t){return e.map(e=>{if(i6(e,aZ)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if(i6(e,aB)&&i6(e.value,aZ)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let aK=Symbol.for("drizzle:IsDrizzleView");class aV{static [i4]="View";[ax];[aK]=!0;constructor({name:e,schema:t,selectedFields:r,query:n}){this[ax]={name:e,originalName:e,schema:t,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new aM([this])}}i9.prototype.getSQL=function(){return new aM([this])},aj.prototype.getSQL=function(){return new aM([this])},ab.prototype.getSQL=function(){return new aM([this])};class aG{constructor(e){this.table=e}static [i4]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class aQ{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [i4]="TableAliasProxyHandler";get(e,t){if(t===aj.Symbol.IsAlias)return!0;if(t===aj.Symbol.Name||this.replaceOriginalName&&t===aj.Symbol.OriginalName)return this.alias;if(t===ax)return{...e[ax],name:this.alias,isAlias:!0};if(t===aj.Symbol.Columns){let t=e[aj.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(n=>{r[n]=new Proxy(t[n],new aG(new Proxy(e,this)))}),r}let r=e[t];return i6(r,i9)?new Proxy(r,new aG(new Proxy(e,this))):r}}class aX{constructor(e){this.alias=e}static [i4]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?aY(e.sourceTable,this.alias):e[t]}}function aY(e,t){return new Proxy(e,new aQ(t,!1))}function a0(e,t){return new Proxy(e,new aG(new Proxy(e.table,new aQ(t,!1))))}function a1(e,t){return new aM.Aliased(a4(e.sql,t),e.fieldAlias)}function a4(e,t){return aW.join(e.queryChunks.map(e=>i6(e,i9)?a0(e,t):i6(e,aM)?a4(e,t):i6(e,aM.Aliased)?a1(e,t):e))}class a6{static [i4]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===ax)return{...e[ax],selectedFields:new Proxy(e[ax].selectedFields,this)};if("symbol"==typeof t)return e[t];let r=(i6(e,ab)?e._.selectedFields:i6(e,aV)?e[ax].selectedFields:e)[t];if(i6(r,aM.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!r.isSelectionField)return r.sql;let e=r.clone();return e.isSelectionField=!0,e}if(i6(r,aM)){if("sql"===this.config.sqlBehavior)return r;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return i6(r,i9)?this.config.alias?new Proxy(r,new aG(new Proxy(r.table,new aQ(this.config.alias,this.config.replaceOriginalName??!1)))):r:"object"!=typeof r||null===r?r:new Proxy(r,new a6(this.config))}}function a2(e,t){return Object.entries(e).reduce((e,[r,n])=>{if("string"!=typeof r)return e;let i=t?[...t,r]:[r];return i6(n,i9)||i6(n,aM)||i6(n,aM.Aliased)||i6(n,ab)?e.push({path:i,field:n}):i6(n,aj)?e.push(...a2(n[aj.Symbol.Columns],i)):e.push(...a2(n,i)),e},[])}function a5(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[e,t]of r.entries())if(t!==n[e])return!1;return!0}function a3(e,t){let r=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,r])=>i6(r,aM)||i6(r,i9)?[t,r]:[t,new aB(r,e[aj.Symbol.Columns][t])]);if(0===r.length)throw Error("No values to set");return Object.fromEntries(r)}function a8(e){return e[aj.Symbol.Columns]}function a9(e){return i6(e,ab)?e._.alias:i6(e,aV)?e[ax].name:i6(e,aM)?void 0:e[aj.Symbol.IsAlias]?e[aj.Symbol.Name]:e[aj.Symbol.BaseName]}function a7(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}"undefined"==typeof TextDecoder||new TextDecoder;class oe extends au{static [i4]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class ot extends oe{static [i4]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new or(e,this.config)}}class or extends ac{static [i4]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class on extends oe{static [i4]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new oi(e,this.config)}}class oi extends ac{static [i4]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function oa(e,t){let{name:r,config:n}=a7(e,t);return"number"===n.mode?new ot(r):new on(r)}class oo extends au{static [i4]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new os(e,this.config)}}class os extends ac{static [i4]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class ol extends au{static [i4]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new ou(e,this.config)}}class ou extends ac{static [i4]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function oc(e,t){let{name:r,config:n}=a7(e,t);return"number"===n.mode?new oo(r):new ol(r)}class od extends au{static [i4]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new of(e,this.config)}}class of extends ac{static [i4]="PgBoolean";getSQLType(){return"boolean"}}function op(e){return new od(e??"")}class oh extends au{static [i4]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new om(e,this.config)}}class om extends ac{static [i4]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function og(e,t={}){let{name:r,config:n}=a7(e,t);return new oh(r,n)}class oy extends au{static [i4]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new ov(e,this.config)}}class ov extends ac{static [i4]="PgCidr";getSQLType(){return"cidr"}}function o_(e){return new oy(e??"")}class ob extends au{static [i4]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new ow(e,this.config)}}class ow extends ac{static [i4]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function oS(e){return(t,r)=>{let{name:n,config:i}=a7(t,r);return new ob(n,i,e)}}class ox extends au{static [i4]="PgDateColumnBaseBuilder";defaultNow(){return this.default(aW`now()`)}}class oE extends ox{static [i4]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new ok(e,this.config)}}class ok extends ac{static [i4]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return"string"==typeof e?new Date(e):e}mapToDriverValue(e){return e.toISOString()}}class o$ extends ox{static [i4]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new oO(e,this.config)}}class oO extends ac{static [i4]="PgDateString";getSQLType(){return"date"}mapFromDriverValue(e){return"string"==typeof e?e:e.toISOString().slice(0,-14)}}function oP(e,t){let{name:r,config:n}=a7(e,t);return n?.mode==="date"?new oE(r):new o$(r)}class oT extends au{static [i4]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new oI(e,this.config)}}class oI extends ac{static [i4]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function oA(e){return new oT(e??"")}class oj extends au{static [i4]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new oN(e,this.config)}}class oN extends ac{static [i4]="PgInet";getSQLType(){return"inet"}}function oC(e){return new oj(e??"")}class oR extends oe{static [i4]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new oD(e,this.config)}}class oD extends ac{static [i4]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function oU(e){return new oR(e??"")}class oM extends au{static [i4]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new oz(e,this.config)}}class oz extends ac{static [i4]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function oL(e,t={}){let{name:r,config:n}=a7(e,t);return new oM(r,n)}class oJ extends au{static [i4]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new oB(e,this.config)}}class oB extends ac{static [i4]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function oW(e){return new oJ(e??"")}class oH extends au{static [i4]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new oq(e,this.config)}}class oq extends ac{static [i4]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function oZ(e){return new oH(e??"")}class oF extends au{static [i4]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new oK(e,this.config)}}class oK extends ac{static [i4]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class oV extends au{static [i4]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new oG(e,this.config)}}class oG extends ac{static [i4]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function oQ(e,t){let{name:r,config:n}=a7(e,t);return n?.mode&&"tuple"!==n.mode?new oV(r):new oF(r)}class oX extends au{static [i4]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new oY(e,this.config)}}class oY extends ac{static [i4]="PgMacaddr";getSQLType(){return"macaddr"}}function o0(e){return new oX(e??"")}class o1 extends au{static [i4]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new o4(e,this.config)}}class o4 extends ac{static [i4]="PgMacaddr8";getSQLType(){return"macaddr8"}}function o6(e){return new o1(e??"")}class o2 extends au{static [i4]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new o5(e,this.config)}}class o5 extends ac{static [i4]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class o3 extends au{static [i4]="PgNumericNumberBuilder";constructor(e,t,r){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=r}build(e){return new o8(e,this.config)}}class o8 extends ac{static [i4]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class o9 extends au{static [i4]="PgNumericBigIntBuilder";constructor(e,t,r){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=r}build(e){return new o7(e,this.config)}}class o7 extends ac{static [i4]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function se(e,t){let{name:r,config:n}=a7(e,t),i=n?.mode;return"number"===i?new o3(r,n?.precision,n?.scale):"bigint"===i?new o9(r,n?.precision,n?.scale):new o2(r,n?.precision,n?.scale)}class st extends au{static [i4]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new sr(e,this.config)}}class sr extends ac{static [i4]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class sn extends au{static [i4]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new si(e,this.config)}}class si extends ac{static [i4]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function sa(e,t){let{name:r,config:n}=a7(e,t);return n?.mode&&"tuple"!==n.mode?new sn(r):new st(r)}function so(e,t){let r=new DataView(new ArrayBuffer(8));for(let n=0;n<8;n++)r.setUint8(n,e[t+n]);return r.getFloat64(0,!0)}function ss(e){let t=function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}(e),r=0,n=t[0];r+=1;let i=new DataView(t.buffer),a=i.getUint32(r,1===n);if(r+=4,0x20000000&a&&(i.getUint32(r,1===n),r+=4),(65535&a)==1){let e=so(t,r),n=so(t,r+=8);return r+=8,[e,n]}throw Error("Unsupported geometry type")}class sl extends au{static [i4]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new su(e,this.config)}}class su extends ac{static [i4]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return ss(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class sc extends au{static [i4]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new sd(e,this.config)}}class sd extends ac{static [i4]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=ss(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function sf(e,t){let{name:r,config:n}=a7(e,t);return n?.mode&&"tuple"!==n.mode?new sc(r):new sl(r)}class sp extends au{static [i4]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new sh(e,this.config)}}class sh extends ac{static [i4]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function sm(e){return new sp(e??"")}class sg extends au{static [i4]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new sy(e,this.config)}}class sy extends ac{static [i4]="PgSerial";getSQLType(){return"serial"}}function sv(e){return new sg(e??"")}class s_ extends oe{static [i4]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new sb(e,this.config)}}class sb extends ac{static [i4]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function sw(e){return new s_(e??"")}class sS extends au{static [i4]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new sx(e,this.config)}}class sx extends ac{static [i4]="PgSmallSerial";getSQLType(){return"smallserial"}}function sE(e){return new sS(e??"")}class sk extends au{static [i4]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new s$(e,this.config)}}class s$ extends ac{static [i4]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function sO(e,t={}){let{name:r,config:n}=a7(e,t);return new sk(r,n)}class sP extends ox{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [i4]="PgTimeBuilder";build(e){return new sT(e,this.config)}}class sT extends ac{static [i4]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function sI(e,t={}){let{name:r,config:n}=a7(e,t);return new sP(r,n.withTimezone??!1,n.precision)}class sA extends ox{static [i4]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new sj(e,this.config)}}class sj extends ac{static [i4]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){return"string"==typeof e?new Date(this.withTimezone?e:e+"+0000"):e}mapToDriverValue=e=>e.toISOString()}class sN extends ox{static [i4]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new sC(e,this.config)}}class sC extends ac{static [i4]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue(e){if("string"==typeof e)return e;let t=e.toISOString().slice(0,-1).replace("T"," ");if(this.withTimezone){let r=e.getTimezoneOffset();return`${t}${r<=0?"+":"-"}${Math.floor(Math.abs(r)/60).toString().padStart(2,"0")}`}return t}}function sR(e,t={}){let{name:r,config:n}=a7(e,t);return n?.mode==="string"?new sN(r,n.withTimezone??!1,n.precision):new sA(r,n?.withTimezone??!1,n?.precision)}class sD extends au{static [i4]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(aW`gen_random_uuid()`)}build(e){return new sU(e,this.config)}}class sU extends ac{static [i4]="PgUUID";getSQLType(){return"uuid"}}function sM(e){return new sD(e??"")}class sz extends au{static [i4]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new sL(e,this.config)}}class sL extends ac{static [i4]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function sJ(e,t={}){let{name:r,config:n}=a7(e,t);return new sz(r,n)}class sB extends au{static [i4]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new sW(e,this.config)}}class sW extends ac{static [i4]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function sH(e,t){let{name:r,config:n}=a7(e,t);return new sB(r,n)}class sq extends au{static [i4]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new sZ(e,this.config)}}class sZ extends ac{static [i4]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function sF(e,t){let{name:r,config:n}=a7(e,t);return new sq(r,n)}class sK extends au{static [i4]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new sV(e,this.config)}}class sV extends ac{static [i4]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function sG(e,t){let{name:r,config:n}=a7(e,t);return new sK(r,n)}class sQ extends au{static [i4]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new sX(e,this.config)}}class sX extends ac{static [i4]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function sY(e,t){let{name:r,config:n}=a7(e,t);return new sQ(r,n)}let s0=Symbol.for("drizzle:PgInlineForeignKeys"),s1=Symbol.for("drizzle:EnableRLS");class s4 extends aj{static [i4]="PgTable";static Symbol=Object.assign({},aj.Symbol,{InlineForeignKeys:s0,EnableRLS:s1});[s0]=[];[s1]=!1;[aj.Symbol.ExtraConfigBuilder]=void 0;[aj.Symbol.ExtraConfigColumns]={}}let s6=(e,t,r)=>(function(e,t,r,n,i=e){let a=new s4(e,n,i),o="function"==typeof t?t({bigint:oa,bigserial:oc,boolean:op,char:og,cidr:o_,customType:oS,date:oP,doublePrecision:oA,inet:oC,integer:oU,interval:oL,json:oW,jsonb:oZ,line:oQ,macaddr:o0,macaddr8:o6,numeric:se,point:sa,geometry:sf,real:sm,serial:sv,smallint:sw,smallserial:sE,text:sO,time:sI,timestamp:sR,uuid:sM,varchar:sJ,bit:sH,halfvec:sF,sparsevec:sG,vector:sY}):t,s=Object.fromEntries(Object.entries(o).map(([e,t])=>{t.setName(e);let r=t.build(a);return a[s0].push(...t.buildForeignKeys(r,a)),[e,r]})),l=Object.fromEntries(Object.entries(o).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(a)]))),u=Object.assign(a,s);return u[aj.Symbol.Columns]=s,u[aj.Symbol.ExtraConfigColumns]=l,r&&(u[s4.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[s4.Symbol.EnableRLS]=!0,u)})})(e,t,r,void 0);class s2{constructor(e,t){this.name=e,this.value=t}static [i4]="PgCheckBuilder";brand;build(e){return new s5(e,this)}}class s5{constructor(e,t){this.table=e,this.name=t.name,this.value=t.value}static [i4]="PgCheck";name;value}class s3{constructor(e,t){this.unique=e,this.name=t}static [i4]="PgIndexBuilderOn";on(...e){return new s8(e.map(e=>{if(i6(e,aM))return e;let t=new af(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!1,this.name)}onOnly(...e){return new s8(e.map(e=>{if(i6(e,aM))return e;let t=new af(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,t}),this.unique,!0,this.name)}using(e,...t){return new s8(t.map(e=>{if(i6(e,aM))return e;let t=new af(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!0,this.name,e)}}class s8{static [i4]="PgIndexBuilder";config;constructor(e,t,r,n,i="btree"){this.config={name:n,columns:e,unique:t,only:r,method:i}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new s9(this.config,e)}}class s9{static [i4]="PgIndex";config;constructor(e,t){this.config={...e,table:t}}}class s7{constructor(e,t){this.name=e,t&&(this.as=t.as,this.for=t.for,this.to=t.to,this.using=t.using,this.withCheck=t.withCheck)}static [i4]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}class le{static [i4]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new lt(e,this.columns,this.name)}}class lt{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [i4]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[s4.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}let lr=Symbol.for("drizzle:PgViewConfig");function ln(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function li(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function la(e){return e}class lo{static [i4]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?ln:"camelCase"===e?li:la}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[aj.Symbol.Schema]??"public",r=e.table[aj.Symbol.OriginalName],n=`${t}.${r}.${e.name}`;return this.cache[n]||this.cacheTable(e.table),this.cache[n]}cacheTable(e){let t=e[aj.Symbol.Schema]??"public",r=e[aj.Symbol.OriginalName],n=`${t}.${r}`;if(!this.cachedTables[n]){for(let t of Object.values(e[aj.Symbol.Columns])){let e=`${n}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[n]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class ls extends Error{static [i4]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class ll extends Error{constructor(e,t,r){super(`Failed query: ${e}
params: ${t}`),this.query=e,this.params=t,this.cause=r,Error.captureStackTrace(this,ll),r&&(this.cause=r)}}class lu extends ls{static [i4]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}function lc(e,t){return"object"!=typeof t||null===t||!("mapToDriverValue"in t)||"function"!=typeof t.mapToDriverValue||aD(e)||i6(e,aB)||i6(e,aZ)||i6(e,i9)||i6(e,aj)||i6(e,aV)?e:new aB(e,t)}let ld=(e,t)=>aW`${e} = ${lc(t,e)}`,lf=(e,t)=>aW`${e} <> ${lc(t,e)}`;function lp(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new aM(1===t.length?t:[new aU("("),aW.join(t,new aU(" and ")),new aU(")")])}function lh(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new aM(1===t.length?t:[new aU("("),aW.join(t,new aU(" or ")),new aU(")")])}function lm(e){return aW`not ${e}`}let lg=(e,t)=>aW`${e} > ${lc(t,e)}`,ly=(e,t)=>aW`${e} >= ${lc(t,e)}`,lv=(e,t)=>aW`${e} < ${lc(t,e)}`,l_=(e,t)=>aW`${e} <= ${lc(t,e)}`;function lb(e,t){return Array.isArray(t)?0===t.length?aW`false`:aW`${e} in ${t.map(t=>lc(t,e))}`:aW`${e} in ${lc(t,e)}`}function lw(e,t){return Array.isArray(t)?0===t.length?aW`true`:aW`${e} not in ${t.map(t=>lc(t,e))}`:aW`${e} not in ${lc(t,e)}`}function lS(e){return aW`${e} is null`}function lx(e){return aW`${e} is not null`}function lE(e){return aW`exists ${e}`}function lk(e){return aW`not exists ${e}`}function l$(e,t,r){return aW`${e} between ${lc(t,e)} and ${lc(r,e)}`}function lO(e,t,r){return aW`${e} not between ${lc(t,e)} and ${lc(r,e)}`}function lP(e,t){return aW`${e} like ${t}`}function lT(e,t){return aW`${e} not like ${t}`}function lI(e,t){return aW`${e} ilike ${t}`}function lA(e,t){return aW`${e} not ilike ${t}`}function lj(e){return aW`${e} asc`}function lN(e){return aW`${e} desc`}class lC{constructor(e,t,r){this.sourceTable=e,this.referencedTable=t,this.relationName=r,this.referencedTableName=t[aj.Symbol.Name]}static [i4]="Relation";referencedTableName;fieldName}class lR{constructor(e,t){this.table=e,this.config=t}static [i4]="Relations"}class lD extends lC{constructor(e,t,r,n){super(e,t,r?.relationName),this.config=r,this.isNullable=n}static [i4]="One";withFieldName(e){let t=new lD(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class lU extends lC{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [i4]="Many";withFieldName(e){let t=new lU(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function lM(e){return{one:function(t,r){return new lD(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,r){return new lU(e,t,r)}}}class lz extends aV{static [i4]="PgViewBase"}class lL{static [i4]="PgDialect";casing;constructor(e){this.casing=new lo(e?.casing)}async migrate(e,t,r){let n="string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",i="string"==typeof r?"drizzle":r.migrationsSchema??"drizzle",a=aW`
			CREATE TABLE IF NOT EXISTS ${aW.identifier(i)}.${aW.identifier(n)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(aW`CREATE SCHEMA IF NOT EXISTS ${aW.identifier(i)}`),await t.execute(a);let o=(await t.all(aW`select id, hash, created_at from ${aW.identifier(i)}.${aW.identifier(n)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let r of e)if(!o||Number(o.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(aW.raw(e));await t.execute(aW`insert into ${aW.identifier(i)}.${aW.identifier(n)} ("hash", "created_at") values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[aW`with `];for(let[r,n]of e.entries())t.push(aW`${aW.identifier(n._.alias)} as (${n._.sql})`),r<e.length-1&&t.push(aW`, `);return t.push(aW` `),aW.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:n}){let i=this.buildWithCTE(n),a=r?aW` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,o=t?aW` where ${t}`:void 0;return aW`${i}delete from ${e}${o}${a}`}buildUpdateSet(e,t){let r=e[aj.Symbol.Columns],n=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),i=n.length;return aW.join(n.flatMap((e,n)=>{let a=r[e],o=a.onUpdateFn?.(),s=t[e]??(i6(o,aM)?o:aW.param(o,a)),l=aW`${aW.identifier(this.casing.getColumnCasing(a))} = ${s}`;return n<i-1?[l,aW.raw(", ")]:[l]}))}buildUpdateQuery({table:e,set:t,where:r,returning:n,withList:i,from:a,joins:o}){let s=this.buildWithCTE(i),l=e[s4.Symbol.Name],u=e[s4.Symbol.Schema],c=e[s4.Symbol.OriginalName],d=l===c?void 0:l,f=aW`${u?aW`${aW.identifier(u)}.`:void 0}${aW.identifier(c)}${d&&aW` ${aW.identifier(d)}`}`,p=this.buildUpdateSet(e,t),h=a&&aW.join([aW.raw(" from "),this.buildFromTable(a)]),m=this.buildJoins(o),g=n?aW` returning ${this.buildSelection(n,{isSingleTable:!a})}`:void 0,y=r?aW` where ${r}`:void 0;return aW`${s}update ${f} set ${p}${h}${m}${y}${g}`}buildSelection(e,{isSingleTable:t=!1}={}){let r=e.length,n=e.flatMap(({field:e},n)=>{let i=[];if(i6(e,aM.Aliased)&&e.isSelectionField)i.push(aW.identifier(e.fieldAlias));else if(i6(e,aM.Aliased)||i6(e,aM)){let r=i6(e,aM.Aliased)?e.sql:e;t?i.push(new aM(r.queryChunks.map(e=>i6(e,ac)?aW.identifier(this.casing.getColumnCasing(e)):e))):i.push(r),i6(e,aM.Aliased)&&i.push(aW` as ${aW.identifier(e.fieldAlias)}`)}else if(i6(e,i9))t?i.push(aW.identifier(this.casing.getColumnCasing(e))):i.push(e);else if(i6(e,ab)){let t=Object.entries(e._.selectedFields);if(1===t.length){let r=t[0][1],n=i6(r,aM)?r.decoder:i6(r,i9)?{mapFromDriverValue:e=>r.mapFromDriverValue(e)}:r.sql.decoder;n&&(e._.sql.decoder=n)}i.push(e)}return n<r-1&&i.push(aW`, `),i});return aW.join(n)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[r,n]of e.entries()){0===r&&t.push(aW` `);let i=n.table,a=n.lateral?aW` lateral`:void 0,o=n.on?aW` on ${n.on}`:void 0;if(i6(i,s4)){let e=i[s4.Symbol.Name],r=i[s4.Symbol.Schema],s=i[s4.Symbol.OriginalName],l=e===s?void 0:n.alias;t.push(aW`${aW.raw(n.joinType)} join${a} ${r?aW`${aW.identifier(r)}.`:void 0}${aW.identifier(s)}${l&&aW` ${aW.identifier(l)}`}${o}`)}else if(i6(i,aV)){let e=i[ax].name,r=i[ax].schema,s=i[ax].originalName,l=e===s?void 0:n.alias;t.push(aW`${aW.raw(n.joinType)} join${a} ${r?aW`${aW.identifier(r)}.`:void 0}${aW.identifier(s)}${l&&aW` ${aW.identifier(l)}`}${o}`)}else t.push(aW`${aW.raw(n.joinType)} join${a} ${i}${o}`);r<e.length-1&&t.push(aW` `)}return aW.join(t)}buildFromTable(e){if(i6(e,aj)&&e[aj.Symbol.IsAlias]){let t=aW`${aW.identifier(e[aj.Symbol.OriginalName])}`;return e[aj.Symbol.Schema]&&(t=aW`${aW.identifier(e[aj.Symbol.Schema])}.${t}`),aW`${t} ${aW.identifier(e[aj.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:t,fieldsFlat:r,where:n,having:i,table:a,joins:o,orderBy:s,groupBy:l,limit:u,offset:c,lockingClause:d,distinct:f,setOperators:p}){let h,m,g,y=r??a2(t);for(let e of y){let t;if(i6(e.field,i9)&&e.field.table[ae]!==(i6(a,ab)?a._.alias:i6(a,lz)?a[ax].name:i6(a,aM)?void 0:a[ae])&&(t=e.field.table,!o?.some(({alias:e})=>e===(t[aj.Symbol.IsAlias]?t[ae]:t[aj.Symbol.BaseName])))){let t=e.field.table[ae];throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let v=!o||0===o.length,_=this.buildWithCTE(e);f&&(h=!0===f?aW` distinct`:aW` distinct on (${aW.join(f.on,aW`, `)})`);let b=this.buildSelection(y,{isSingleTable:v}),w=this.buildFromTable(a),S=this.buildJoins(o),x=n?aW` where ${n}`:void 0,E=i?aW` having ${i}`:void 0;s&&s.length>0&&(m=aW` order by ${aW.join(s,aW`, `)}`),l&&l.length>0&&(g=aW` group by ${aW.join(l,aW`, `)}`);let k="object"==typeof u||"number"==typeof u&&u>=0?aW` limit ${u}`:void 0,$=c?aW` offset ${c}`:void 0,O=aW.empty();if(d){let e=aW` for ${aW.raw(d.strength)}`;d.config.of&&e.append(aW` of ${aW.join(Array.isArray(d.config.of)?d.config.of:[d.config.of],aW`, `)}`),d.config.noWait?e.append(aW` nowait`):d.config.skipLocked&&e.append(aW` skip locked`),O.append(e)}let P=aW`${_}select${h} ${b} from ${w}${S}${x}${g}${E}${m}${k}${$}${O}`;return p.length>0?this.buildSetOperations(P,p):P}buildSetOperations(e,t){let[r,...n]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===n.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),n)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:r,rightSelect:n,limit:i,orderBy:a,offset:o}}){let s,l=aW`(${e.getSQL()}) `,u=aW`(${n.getSQL()})`;if(a&&a.length>0){let e=[];for(let t of a)if(i6(t,ac))e.push(aW.identifier(t.name));else if(i6(t,aM)){for(let e=0;e<t.queryChunks.length;e++){let r=t.queryChunks[e];i6(r,ac)&&(t.queryChunks[e]=aW.identifier(r.name))}e.push(aW`${t}`)}else e.push(aW`${t}`);s=aW` order by ${aW.join(e,aW`, `)} `}let c="object"==typeof i||"number"==typeof i&&i>=0?aW` limit ${i}`:void 0,d=aW.raw(`${t} ${r?"all ":""}`),f=o?aW` offset ${o}`:void 0;return aW`${l}${d}${u}${s}${c}${f}`}buildInsertQuery({table:e,values:t,onConflict:r,returning:n,withList:i,select:a,overridingSystemValue_:o}){let s=[],l=Object.entries(e[aj.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),u=l.map(([,e])=>aW.identifier(this.casing.getColumnCasing(e)));if(a)i6(t,aM)?s.push(t):s.push(t.getSQL());else for(let[e,r]of(s.push(aW.raw("values ")),t.entries())){let n=[];for(let[e,t]of l){let i=r[e];if(void 0===i||i6(i,aB)&&void 0===i.value)if(void 0!==t.defaultFn){let e=t.defaultFn(),r=i6(e,aM)?e:aW.param(e,t);n.push(r)}else if(t.default||void 0===t.onUpdateFn)n.push(aW`default`);else{let e=t.onUpdateFn(),r=i6(e,aM)?e:aW.param(e,t);n.push(r)}else n.push(i)}s.push(n),e<t.length-1&&s.push(aW`, `)}let c=this.buildWithCTE(i),d=aW.join(s),f=n?aW` returning ${this.buildSelection(n,{isSingleTable:!0})}`:void 0,p=r?aW` on conflict ${r}`:void 0,h=!0===o?aW`overriding system value `:void 0;return aW`${c}insert into ${e} ${u} ${h}${d}${p}${f}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:r}){let n=t?aW` concurrently`:void 0,i=r?aW` with no data`:void 0;return aW`refresh materialized view${n} ${e}${i}`}prepareTyping(e){if(i6(e,oq)||i6(e,oB))return"json";if(i6(e,o5))return"decimal";if(i6(e,sT))return"time";if(i6(e,sj)||i6(e,sC))return"timestamp";if(i6(e,ok)||i6(e,oO))return"date";else if(i6(e,sU))return"uuid";else return"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:n,tableConfig:i,queryConfig:a,tableAlias:o,nestedQueryRelation:s,joinOn:l}){let u,c=[],d,f,p=[],h,m=[];if(!0===a)c=Object.entries(i.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:a0(t,o),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let n=Object.fromEntries(Object.entries(i.columns).map(([e,t])=>[e,a0(t,o)]));if(a.where){let e="function"==typeof a.where?a.where(n,{and:lp,between:l$,eq:ld,exists:lE,gt:lg,gte:ly,ilike:lI,inArray:lb,isNull:lS,isNotNull:lx,like:lP,lt:lv,lte:l_,ne:lf,not:lm,notBetween:lO,notExists:lk,notLike:lT,notIlike:lA,notInArray:lw,or:lh,sql:aW}):a.where;h=e&&a4(e,o)}let s=[],l=[];if(a.columns){let e=!1;for(let[t,r]of Object.entries(a.columns))void 0!==r&&t in i.columns&&(e||!0!==r||(e=!0),l.push(t));l.length>0&&(l=e?l.filter(e=>a.columns?.[e]===!0):Object.keys(i.columns).filter(e=>!l.includes(e)))}else l=Object.keys(i.columns);for(let e of l){let t=i.columns[e];s.push({tsKey:e,value:t})}let u=[];if(a.with&&(u=Object.entries(a.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:i.relations[e]}))),a.extras)for(let[e,t]of Object.entries("function"==typeof a.extras?a.extras(n,{sql:aW}):a.extras))s.push({tsKey:e,value:a1(t,o)});for(let{tsKey:e,value:t}of s)c.push({dbKey:i6(t,aM.Aliased)?t.fieldAlias:i.columns[e].name,tsKey:e,field:i6(t,i9)?a0(t,o):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let g="function"==typeof a.orderBy?a.orderBy(n,{sql:aW,asc:lj,desc:lN}):a.orderBy??[];for(let{tsKey:n,queryConfig:i,relation:s}of(Array.isArray(g)||(g=[g]),p=g.map(e=>i6(e,i9)?a0(e,o):a4(e,o)),d=a.limit,f=a.offset,u)){let a=function(e,t,r){if(i6(r,lD)&&r.config)return{fields:r.config.fields,references:r.config.references};let n=t[aC(r.referencedTable)];if(!n)throw Error(`Table "${r.referencedTable[aj.Symbol.Name]}" not found in schema`);let i=e[n];if(!i)throw Error(`Table "${n}" not found in schema`);let a=r.sourceTable,o=t[aC(a)];if(!o)throw Error(`Table "${a[aj.Symbol.Name]}" not found in schema`);let s=[];for(let e of Object.values(i.relations))(r.relationName&&r!==e&&e.relationName===r.relationName||!r.relationName&&e.referencedTable===r.sourceTable)&&s.push(e);if(s.length>1)throw r.relationName?Error(`There are multiple relations with name "${r.relationName}" in table "${n}"`):Error(`There are multiple relations between "${n}" and "${r.sourceTable[aj.Symbol.Name]}". Please specify relation name`);if(s[0]&&i6(s[0],lD)&&s[0].config)return{fields:s[0].config.references,references:s[0].config.fields};throw Error(`There is not enough information to infer relation "${o}.${r.fieldName}"`)}(t,r,s),l=r[aC(s.referencedTable)],u=`${o}_${n}`,d=lp(...a.fields.map((e,t)=>ld(a0(a.references[t],u),a0(e,o)))),f=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:r,table:e[l],tableConfig:t[l],queryConfig:i6(s,lD)?!0===i?{limit:1}:{...i,limit:1}:i,tableAlias:u,joinOn:d,nestedQueryRelation:s}),p=aW`${aW.identifier(u)}.${aW.identifier("data")}`.as(n);m.push({on:aW`true`,table:new ab(f.sql,{},u),alias:u,joinType:"left",lateral:!0}),c.push({dbKey:n,tsKey:n,field:p,relationTableTsKey:l,isJson:!0,selection:f.selection})}}if(0===c.length)throw new ls({message:`No fields selected for table "${i.tsName}" ("${o}")`});if(h=lp(l,h),s){let e=aW`json_build_array(${aW.join(c.map(({field:e,tsKey:t,isJson:r})=>r?aW`${aW.identifier(`${o}_${t}`)}.${aW.identifier("data")}`:i6(e,aM.Aliased)?e.sql:e),aW`, `)})`;i6(s,lU)&&(e=aW`coalesce(json_agg(${e}${p.length>0?aW` order by ${aW.join(p,aW`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:i.tsName,selection:c}];void 0!==d||void 0!==f||p.length>0?(u=this.buildSelectQuery({table:aY(n,o),fields:{},fieldsFlat:[{path:[],field:aW.raw("*")}],where:h,limit:d,offset:f,orderBy:p,setOperators:[]}),h=void 0,d=void 0,f=void 0,p=[]):u=aY(n,o),u=this.buildSelectQuery({table:i6(u,s4)?u:new ab(u,{},o),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:i6(e,i9)?a0(e,o):e})),joins:m,where:h,limit:d,offset:f,orderBy:p,setOperators:[]})}else u=this.buildSelectQuery({table:aY(n,o),fields:{},fieldsFlat:c.map(({field:e})=>({path:[],field:i6(e,i9)?a0(e,o):e})),joins:m,where:h,limit:d,offset:f,orderBy:p,setOperators:[]});return{tableTsKey:i.tsName,sql:u,selection:c}}}class lJ{static [i4]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class lB{static [i4]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let t,r=!!this.fields;return t=this.fields?this.fields:i6(e,ab)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):i6(e,lz)?e[ax].selectedFields:i6(e,aM)?{}:a8(e),new lH({table:e,fields:t,isPartialSelect:r,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class lW extends lJ{static [i4]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:t,isPartialSelect:r,session:n,dialect:i,withList:a,distinct:o}){for(const s of(super(),this.config={withList:a,table:e,fields:{...t},distinct:o,setOperators:[]},this.isPartialSelect=r,this.session=n,this.dialect=i,this._={selectedFields:t,config:this.config},this.tableName=a9(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},l7(e)))this.usedTables.add(s)}getUsedTables(){return[...this.usedTables]}createJoin(e,t){return(r,n)=>{let i=this.tableName,a=a9(r);for(let e of l7(r))this.usedTables.add(e);if("string"==typeof a&&this.config.joins?.some(e=>e.alias===a))throw Error(`Alias "${a}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof i&&(this.config.fields={[i]:this.config.fields}),"string"==typeof a&&!i6(r,aM))){let e=i6(r,ab)?r._.selectedFields:i6(r,aV)?r[ax].selectedFields:r[aj.Symbol.Columns];this.config.fields[a]=e}if("function"==typeof n&&(n=n(new Proxy(this.config.fields,new a6({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:n,table:r,joinType:e,alias:a,lateral:t}),"string"==typeof a)switch(e){case"left":this.joinsNotNullableMap[a]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[a]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[a]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[a]=!1}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,t){return r=>{let n="function"==typeof r?r(lZ()):r;if(!a5(this.getSelectedFields(),n.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:n}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new a6({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new a6({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new a6({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new a6({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){let t=[];if(t.push(...l7(this.config.table)),this.config.joins)for(let e of this.config.joins)t.push(...l7(e.table));return new Proxy(new ab(this.getSQL(),this.config.fields,e,!1,[...new Set(t)]),new a6({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new a6({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=void 0===e?{config:{},enable:!0,autoInvalidate:!0}:!1===e?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}}class lH extends lW{static [i4]="PgSelect";_prepare(e){let{session:t,config:r,dialect:n,joinsNotNullableMap:i,authToken:a,cacheConfig:o,usedTables:s}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:l}=r;return aS("drizzle.prepareQuery",()=>{let r=a2(l),u=t.prepareQuery(n.sqlToQuery(this.getSQL()),r,e,!0,void 0,{type:"select",tables:[...s]},o);return u.joinsNotNullableMap=i,u.setToken(a)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>aS("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}for(let e of[i8])for(let t of Object.getOwnPropertyNames(e.prototype))"constructor"!==t&&Object.defineProperty(lH.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t)||Object.create(null));function lq(e,t){return(r,n,...i)=>{let a=[n,...i].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of a)if(!a5(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(a)}}let lZ=()=>({union:lF,unionAll:lK,intersect:lV,intersectAll:lG,except:lQ,exceptAll:lX}),lF=lq("union",!1),lK=lq("union",!0),lV=lq("intersect",!1),lG=lq("intersect",!0),lQ=lq("except",!1),lX=lq("except",!0);class lY{static [i4]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=i6(e,lL)?e:void 0,this.dialectConfig=i6(e,lL)?void 0:e}$with=(e,t)=>{let r=this;return{as:n=>("function"==typeof n&&(n=n(r)),new Proxy(new aw(n.getSQL(),t??("getSelectedFields"in n?n.getSelectedFields()??{}:{}),e,!0),new a6({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new lB({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new lB({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,r){return new lB({fields:r??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new lB({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new lB({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new lB({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new lL(this.dialectConfig)),this.dialect}}class l0{constructor(e,t){this.name=e,this.schema=t}static [i4]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}}class l1 extends l0{static [i4]="PgViewBuilder";as(e){"function"==typeof e&&(e=e(new lY));let t=new a6({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),t);return new Proxy(new l3({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),t)}}class l4 extends l0{static [i4]="PgManualViewBuilder";columns;constructor(e,t,r){super(e,r),this.columns=a8(s6(e,t))}existing(){return new Proxy(new l3({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new a6({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new l3({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new a6({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class l6{constructor(e,t){this.name=e,this.schema=t}static [i4]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}}class l2 extends l6{static [i4]="PgMaterializedViewBuilder";as(e){"function"==typeof e&&(e=e(new lY));let t=new a6({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),t);return new Proxy(new l9({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),t)}}class l5 extends l6{static [i4]="PgManualMaterializedViewBuilder";columns;constructor(e,t,r){super(e,r),this.columns=a8(s6(e,t))}existing(){return new Proxy(new l9({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new a6({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new l9({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new a6({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class l3 extends lz{static [i4]="PgView";[lr];constructor({pgConfig:e,config:t}){super(t),e&&(this[lr]={with:e.with})}}let l8=Symbol.for("drizzle:PgMaterializedViewConfig");class l9 extends lz{static [i4]="PgMaterializedView";[l8];constructor({pgConfig:e,config:t}){super(t),this[l8]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}function l7(e){return i6(e,s4)?[e[aE]?`${e[aE]}.${e[aj.Symbol.BaseName]}`:e[aj.Symbol.BaseName]]:i6(e,ab)?e._.usedTables??[]:i6(e,aM)?e.usedTables??[]:[]}class ue extends i8{constructor(e,t,r,n){super(),this.session=t,this.dialect=r,this.config={table:e,withList:n}}static [i4]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[aj.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=a2(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return aS("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:l7(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>aS("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new a6({alias:this.config.table[ae],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class ut{constructor(e,t,r,n,i){this.table=e,this.session=t,this.dialect=r,this.withList=n,this.overridingSystemValue_=i}static [i4]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},r=this.table[aj.Symbol.Columns];for(let n of Object.keys(e)){let i=e[n];t[n]=i6(i,aM)?i:new aB(i,r[n])}return t});return new ur(this.table,t,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let t="function"==typeof e?e(new lY):e;if(!i6(t,aM)&&!a5(this.table[ak],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new ur(this.table,t,this.session,this.dialect,this.withList,!0)}}class ur extends i8{constructor(e,t,r,n,i,a,o){super(),this.session=r,this.dialect=n,this.config={table:e,values:t,withList:i,select:a,overridingSystemValue_:o}}static [i4]="PgInsert";config;cacheConfig;returning(e=this.config.table[aj.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=a2(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=aW`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?aW` where ${e.where}`:void 0;this.config.onConflict=aW`(${aW.raw(t)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?aW` where ${e.where}`:void 0,r=e.targetWhere?aW` where ${e.targetWhere}`:void 0,n=e.setWhere?aW` where ${e.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,a3(this.config.table,e.set)),a="";return a=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=aW`(${aW.raw(a)})${r} do update set ${i}${t}${n}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return aS("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:l7(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>aS("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new a6({alias:this.config.table[ae],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class un{constructor(e,t,r,n){this.table=e,this.session=t,this.dialect=r,this.withList=n}static [i4]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new ui(this.table,a3(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class ui extends i8{constructor(e,t,r,n,i){super(),this.session=r,this.dialect=n,this.config={set:t,table:e,withList:i,joins:[]},this.tableName=a9(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [i4]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let t=a9(e);return"string"==typeof t&&(this.joinsNotNullableMap[t]=!0),this.config.from=e,this}getTableLikeFields(e){return i6(e,s4)?e[aj.Symbol.Columns]:i6(e,ab)?e._.selectedFields:e[ax].selectedFields}createJoin(e){return(t,r)=>{let n=a9(t);if("string"==typeof n&&this.config.joins.some(e=>e.alias===n))throw Error(`Alias "${n}" is already used in this query`);if("function"==typeof r){let e=this.config.from&&!i6(this.config.from,aM)?this.getTableLikeFields(this.config.from):void 0;r=r(new Proxy(this.config.table[aj.Symbol.Columns],new a6({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new a6({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:r,table:t,joinType:e,alias:n}),"string"==typeof n)switch(e){case"left":this.joinsNotNullableMap[n]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[n]=!0;break;case"inner":this.joinsNotNullableMap[n]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[n]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[aj.Symbol.Columns]),this.config.from)){let t=a9(this.config.from);if("string"==typeof t&&this.config.from&&!i6(this.config.from,aM)){let r=this.getTableLikeFields(this.config.from);e[t]=r}for(let t of this.config.joins){let r=a9(t.table);if("string"==typeof r&&!i6(t.table,aM)){let n=this.getTableLikeFields(t.table);e[r]=n}}}return this.config.returningFields=e,this.config.returning=a2(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:l7(this.config.table)},this.cacheConfig);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new a6({alias:this.config.table[ae],sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class ua extends aM{constructor(e){super(ua.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=ua.buildCount(e.source,e.filters)}sql;token;static [i4]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return aW`(select count(*) from ${e}${aW.raw(" where ").if(t)}${t})`}static buildCount(e,t){return aW`select count(*) as count from ${e}${aW.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}class uo{constructor(e,t,r,n,i,a,o){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=a,this.session=o}static [i4]="PgRelationalQueryBuilder";findMany(e){return new us(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new us(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class us extends i8{constructor(e,t,r,n,i,a,o,s,l){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=a,this.session=o,this.config=s,this.mode=l}static [i4]="PgRelationalQuery";_prepare(e){return aS("drizzle.prepareQuery",()=>{let{query:t,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(e,r)=>{let n=e.map(e=>(function e(t,r,n,i,a=e=>e){let o={};for(let[s,l]of i.entries())if(l.isJson){let i=r.relations[l.tsKey],u=n[s],c="string"==typeof u?JSON.parse(u):u;o[l.tsKey]=i6(i,lD)?c&&e(t,t[l.relationTableTsKey],c,l.selection,a):c.map(r=>e(t,t[l.relationTableTsKey],r,l.selection,a))}else{let e,t=a(n[s]),r=l.field;e=i6(r,i9)?r:i6(r,aM)?r.decoder:r.sql.decoder,o[l.tsKey]=null===t?null:e.mapFromDriverValue(t)}return o})(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?n[0]:n})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return aS("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class ul extends i8{constructor(e,t,r,n){super(),this.execute=e,this.sql=t,this.query=r,this.mapBatchResult=n}static [i4]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class uu extends i8{constructor(e,t,r){super(),this.session=t,this.dialect=r,this.config={view:e}}static [i4]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return aS("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>aS("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class uc{constructor(e,t,r){if(this.dialect=e,this.session=t,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(const[n,i]of Object.entries(this._.schema))this.query[n]=new uo(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[n],i,e,t);this.$cache={invalidate:async e=>{}}}static [i4]="PgDatabase";query;$with=(e,t)=>{let r=this;return{as:n=>("function"==typeof n&&(n=n(new lY(r.dialect))),new Proxy(new aw(n.getSQL(),t??("getSelectedFields"in n?n.getSelectedFields()??{}:{}),e,!0),new a6({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new ua({source:e,filters:t,session:this.session})}$cache;with(...e){let t=this;return{select:function(r){return new lB({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new lB({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(r,n){return new lB({fields:n??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:r}})},update:function(r){return new un(r,t.session,t.dialect,e)},insert:function(r){return new ut(r,t.session,t.dialect,e)},delete:function(r){return new ue(r,t.session,t.dialect,e)}}}select(e){return new lB({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new lB({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new lB({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new un(e,this.session,this.dialect)}insert(e){return new ut(e,this.session,this.dialect)}delete(e){return new ue(e,this.session,this.dialect)}refreshMaterializedView(e){return new uu(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?aW.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(t),n=this.session.prepareQuery(r,void 0,void 0,!1);return new ul(()=>n.execute(void 0,this.authToken),t,r,e=>n.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}class ud{static [i4]="Cache"}class uf extends ud{strategy(){return"all"}static [i4]="NoopCache";async get(e){}async put(e,t,r,n){}async onMutate(e){}}async function up(e,t){let r=`${e}-${JSON.stringify(t)}`,n=new TextEncoder().encode(r);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",n))].map(e=>e.toString(16).padStart(2,"0")).join("")}class uh{constructor(e,t,r,n){this.query=e,this.cache=t,this.queryMetadata=r,this.cacheConfig=n,t&&"all"===t.strategy()&&void 0===n&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [i4]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,t,r){if(void 0===this.cache||i6(this.cache,uf)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await r()}catch(r){throw new ll(e,t,r)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[e]=await Promise.all([r(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return e}catch(r){throw new ll(e,t,r)}if(!this.cacheConfig)try{return await r()}catch(r){throw new ll(e,t,r)}if("select"===this.queryMetadata.type){let n=await this.cache.get(this.cacheConfig.tag??await up(e,t),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===n){let n;try{n=await r()}catch(r){throw new ll(e,t,r)}return await this.cache.put(this.cacheConfig.tag??await up(e,t),n,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),n}return n}try{return await r()}catch(r){throw new ll(e,t,r)}}}class um{constructor(e){this.dialect=e}static [i4]="PgSession";execute(e,t){return aS("drizzle.operation",()=>aS("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class ug extends uc{constructor(e,t,r,n=0){super(e,t,r),this.schema=r,this.nestedIndex=n}static [i4]="PgTransaction";rollback(){throw new lu}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),aW.raw(t.join(" "))}setTransaction(e){return this.session.execute(aW`set transaction ${this.getTransactionConfigSQL(e)}`)}}class uy extends uh{constructor(e,t,r,n,i,a,o,s,l,u){super({sql:t,params:r},i,a,o),this.client=e,this.queryString=t,this.params=r,this.logger=n,this.fields=s,this._isResponseInArrayMode=l,this.customResultMapper=u}static [i4]="PostgresJsPreparedQuery";async execute(e={}){return aS("drizzle.execute",async t=>{let r=aF(this.params,e);t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.logger.logQuery(this.queryString,r);let{fields:n,queryString:i,client:a,joinsNotNullableMap:o,customResultMapper:s}=this;if(!n&&!s)return aS("drizzle.driver.execute",()=>this.queryWithCache(i,r,async()=>await a.unsafe(i,r)));let l=await aS("drizzle.driver.execute",()=>(t?.setAttributes({"drizzle.query.text":i,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(i,r,async()=>await a.unsafe(i,r).values())));return aS("drizzle.mapResponse",()=>s?s(l):l.map(e=>(function(e,t,r){let n={},i=e.reduce((e,{path:i,field:a},o)=>{let s;s=i6(a,i9)?a:i6(a,aM)?a.decoder:i6(a,ab)?a._.sql.decoder:a.sql.decoder;let l=e;for(let[e,u]of i.entries())if(e<i.length-1)u in l||(l[u]={}),l=l[u];else{let e=t[o],c=l[u]=null===e?null:s.mapFromDriverValue(e);if(r&&i6(a,i9)&&2===i.length){let e=i[0];e in n?"string"==typeof n[e]&&n[e]!==a.table[ae]&&(n[e]=!1):n[e]=null===c&&a.table[ae]}}return e},{});if(r&&Object.keys(n).length>0)for(let[e,t]of Object.entries(n))"string"!=typeof t||r[t]||(i[e]=null);return i})(n,e,o)))})}all(e={}){return aS("drizzle.execute",async t=>{let r=aF(this.params,e);return t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.logger.logQuery(this.queryString,r),aS("drizzle.driver.execute",()=>(t?.setAttributes({"drizzle.query.text":this.queryString,"drizzle.query.params":JSON.stringify(r)}),this.queryWithCache(this.queryString,r,async()=>this.client.unsafe(this.queryString,r))))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class uv extends um{constructor(e,t,r,n={}){super(t),this.client=e,this.schema=r,this.options=n,this.logger=n.logger??new i3,this.cache=n.cache??new uf}static [i4]="PostgresJsSession";logger;cache;prepareQuery(e,t,r,n,i,a,o){return new uy(this.client,e.sql,e.params,this.logger,this.cache,a,o,t,n,i)}query(e,t){return this.logger.logQuery(e,t),this.client.unsafe(e,t).values()}queryObjects(e,t){return this.client.unsafe(e,t)}transaction(e,t){return this.client.begin(async r=>{let n=new uv(r,this.dialect,this.schema,this.options),i=new u_(this.dialect,n,this.schema);return t&&await i.setTransaction(t),e(i)})}}class u_ extends ug{constructor(e,t,r,n=0){super(e,t,r,n),this.session=t}static [i4]="PostgresJsTransaction";transaction(e){return this.session.client.savepoint(t=>{let r=new uv(t,this.dialect,this.schema,this.session.options);return e(new u_(this.dialect,r,this.schema))})}}class ub extends uc{static [i4]="PostgresJsDatabase"}function uw(e,t={}){let r,n,i=e=>e;for(let t of["1184","1082","1083","1114","1182","1185","1115","1231"])e.options.parsers[t]=i,e.options.serializers[t]=i;e.options.serializers["114"]=i,e.options.serializers["3802"]=i;let a=new lL({casing:t.casing});if(!0===t.logger?r=new i5:!1!==t.logger&&(r=t.logger),t.schema){let e=function(e,t){1===Object.keys(e).length&&"default"in e&&!i6(e.default,aj)&&(e=e.default);let r={},n={},i={};for(let[a,o]of Object.entries(e))if(i6(o,aj)){let e=aC(o),t=n[e];for(let n of(r[e]=a,i[a]={tsName:a,dbName:o[aj.Symbol.Name],schema:o[aj.Symbol.Schema],columns:o[aj.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(o[aj.Symbol.Columns])))n.primary&&i[a].primaryKey.push(n);let s=o[aj.Symbol.ExtraConfigBuilder]?.(o[aj.Symbol.ExtraConfigColumns]);if(s)for(let e of Object.values(s))i6(e,le)&&i[a].primaryKey.push(...e.columns)}else if(i6(o,lR)){let e,a=aC(o.table),s=r[a];for(let[r,l]of Object.entries(o.config(t(o.table))))if(s){let t=i[s];t.relations[r]=l,e&&t.primaryKey.push(...e)}else a in n||(n[a]={relations:{},primaryKey:e}),n[a].relations[r]=l}return{tables:i,tableNamesMap:r}}(t.schema,lM);n={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let o=new uv(e,a,n,{logger:r,cache:t.cache}),s=new ub(a,o,n);return s.$client=e,s.$cache=t.cache,s.$cache&&(s.$cache.invalidate=t.cache?.onMutate),s}function uS(...e){if("string"==typeof e[0])return uw(iX(e[0]),e[1]);if(function(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}(e[0])){let{connection:t,client:r,...n}=e[0];if(r)return uw(r,n);if("object"==typeof t&&void 0!==t.url){let{url:e,...r}=t;return uw(iX(e,r),n)}return uw(iX(t),n)}return uw(e[0],e[1])}(uS||(uS={})).mock=function(e){return uw({options:{parsers:{},serializers:{}}},e)};let ux=Object.freeze({status:"aborted"});function uE(e,t,r){function n(r,n){if(r._zod||Object.defineProperty(r,"_zod",{value:{def:n,constr:o,traits:new Set},enumerable:!1}),r._zod.traits.has(e))return;r._zod.traits.add(e),t(r,n);let i=o.prototype,a=Object.keys(i);for(let e=0;e<a.length;e++){let t=a[e];t in r||(r[t]=i[t].bind(r))}}let i=r?.Parent??Object;class a extends i{}function o(e){var t;let i=r?.Parent?new a:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}let uk=Symbol("zod_brand");class u$ extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class uO extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let uP={};function uT(e){return e&&Object.assign(uP,e),uP}function uI(e){return e}function uA(e){return e}function uj(e){}function uN(e){throw Error()}function uC(e){}function uR(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function uD(e,t="|"){return e.map(e=>ct(e)).join(t)}function uU(e,t){return"bigint"==typeof t?t.toString():t}function uM(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function uz(e){return null==e}function uL(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function uJ(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(n)){let e=n.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let a=r>i?r:i;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["$ZodAsyncError",()=>u$,"$ZodEncodeError",()=>uO,"$brand",0,uk,"$constructor",()=>uE,"NEVER",0,ux,"config",()=>uT,"globalConfig",0,uP],27438);let uB=Symbol("evaluating");function uW(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==uB)return void 0===n&&(n=uB,n=r()),n},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function uH(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function uq(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function uZ(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function uF(e){return uZ(e._zod.def)}function uK(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function uV(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})}function uG(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function uQ(e){return JSON.stringify(e)}function uX(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let uY="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function u0(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let u1=uM(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function u4(e){if(!1===u0(e))return!1;let t=e.constructor;if(void 0===t||"function"!=typeof t)return!0;let r=t.prototype;return!1!==u0(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function u6(e){return u4(e)?{...e}:Array.isArray(e)?[...e]:e}function u2(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let u5=new Set(["string","number","symbol"]),u3=new Set(["string","number","bigint","boolean","symbol","undefined"]);function u8(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u9(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function u7(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function ce(e){let t;return new Proxy({},{get:(r,n,i)=>(t??(t=e()),Reflect.get(t,n,i)),set:(r,n,i,a)=>(t??(t=e()),Reflect.set(t,n,i,a)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,i)=>(t??(t=e()),Reflect.defineProperty(t,n,i))})}function ct(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function cr(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let cn={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},ci={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ca(e,t){let r=e._zod.def,n=uZ(e._zod.def,{get shape(){let e={};for(let n in t){if(!(n in r.shape))throw Error(`Unrecognized key: "${n}"`);t[n]&&(e[n]=r.shape[n])}return uq(this,"shape",e),e},checks:[]});return u9(e,n)}function co(e,t){let r=e._zod.def,n=uZ(e._zod.def,{get shape(){let n={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return uq(this,"shape",n),n},checks:[]});return u9(e,n)}function cs(e,t){if(!u4(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=uZ(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return uq(this,"shape",r),r},checks:[]});return u9(e,n)}function cl(e,t){if(!u4(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return uq(this,"shape",r),r},checks:e._zod.def.checks};return u9(e,r)}function cu(e,t){let r=uZ(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return uq(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return u9(e,r)}function cc(e,t,r){let n=uZ(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return uq(this,"shape",i),i},checks:[]});return u9(t,n)}function cd(e,t,r){let n=uZ(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return uq(this,"shape",i),i},checks:[]});return u9(t,n)}function cf(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function cp(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function ch(e){return"string"==typeof e?e:e?.message}function cm(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=ch(e.inst?._zod.def?.error?.(e))??ch(t?.error?.(e))??ch(r.customError?.(e))??ch(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function cg(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function cy(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function cv(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}function c_(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function cb(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function cw(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function cS(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return cb(t+r)}function cx(e){return cw(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function cE(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function ck(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class c${constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,ci,"Class",()=>c$,"NUMBER_FORMAT_RANGES",0,cn,"aborted",()=>cf,"allowsEval",0,u1,"assert",()=>uC,"assertEqual",()=>uI,"assertIs",()=>uj,"assertNever",()=>uN,"assertNotEqual",()=>uA,"assignProp",()=>uq,"base64ToUint8Array",()=>cb,"base64urlToUint8Array",()=>cS,"cached",()=>uM,"captureStackTrace",0,uY,"cleanEnum",()=>c_,"cleanRegex",()=>uL,"clone",()=>u9,"cloneDef",()=>uF,"createTransparentProxy",()=>ce,"defineLazy",()=>uW,"esc",()=>uQ,"escapeRegex",()=>u8,"extend",()=>cs,"finalizeIssue",()=>cm,"floatSafeRemainder",()=>uJ,"getElementAtPath",()=>uK,"getEnumValues",()=>uR,"getLengthableOrigin",()=>cy,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>cg,"hexToUint8Array",()=>cE,"isObject",()=>u0,"isPlainObject",()=>u4,"issue",()=>cv,"joinValues",()=>uD,"jsonStringifyReplacer",()=>uU,"merge",()=>cu,"mergeDefs",()=>uZ,"normalizeParams",()=>u7,"nullish",()=>uz,"numKeys",()=>u2,"objectClone",()=>uH,"omit",()=>co,"optionalKeys",()=>cr,"partial",()=>cc,"pick",()=>ca,"prefixIssues",()=>cp,"primitiveTypes",0,u3,"promiseAllObject",()=>uV,"propertyKeyTypes",0,u5,"randomString",()=>uG,"required",()=>cd,"safeExtend",()=>cl,"shallowClone",()=>u6,"slugify",()=>uX,"stringifyPrimitive",()=>ct,"uint8ArrayToBase64",()=>cw,"uint8ArrayToBase64url",()=>cx,"uint8ArrayToHex",()=>ck,"unwrapMessage",()=>ch],86618);let cO=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,uU,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},cP=uE("$ZodError",cO),cT=uE("$ZodError",cO,{Parent:Error});function cI(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function cA(e,t=e=>e.message){let r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>n({issues:e}));else if("invalid_key"===i.code)n({issues:i.issues});else if("invalid_element"===i.code)n({issues:i.issues});else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(e),r}function cj(e,t=e=>e.message){let r={errors:[]},n=(e,i=[])=>{var a,o;for(let s of e.issues)if("invalid_union"===s.code&&s.errors.length)s.errors.map(e=>n({issues:e},s.path));else if("invalid_key"===s.code)n({issues:s.issues},s.path);else if("invalid_element"===s.code)n({issues:s.issues},s.path);else{let e=[...i,...s.path];if(0===e.length){r.errors.push(t(s));continue}let n=r,l=0;for(;l<e.length;){let r=e[l],i=l===e.length-1;"string"==typeof r?(n.properties??(n.properties={}),(a=n.properties)[r]??(a[r]={errors:[]}),n=n.properties[r]):(n.items??(n.items=[]),(o=n.items)[r]??(o[r]={errors:[]}),n=n.items[r]),i&&n.errors.push(t(s)),l++}}};return n(e),r}function cN(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function cC(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${cN(r.path)}`);return t.join("\n")}e.s(["$ZodError",0,cP,"$ZodRealError",0,cT,"flattenError",()=>cI,"formatError",()=>cA,"prettifyError",()=>cC,"toDotPath",()=>cN,"treeifyError",()=>cj],67021);let cR=e=>(t,r,n,i)=>{let a=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new u$;if(o.issues.length){let t=new(i?.Err??e)(o.issues.map(e=>cm(e,a,uT())));throw uY(t,i?.callee),t}return o.value},cD=cR(cT),cU=e=>async(t,r,n,i)=>{let a=n?Object.assign(n,{async:!0}):{async:!0},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){let t=new(i?.Err??e)(o.issues.map(e=>cm(e,a,uT())));throw uY(t,i?.callee),t}return o.value},cM=cU(cT),cz=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new u$;return a.issues.length?{success:!1,error:new(e??cP)(a.issues.map(e=>cm(e,i,uT())))}:{success:!0,data:a.value}},cL=cz(cT),cJ=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>cm(e,i,uT())))}:{success:!0,data:a.value}},cB=cJ(cT),cW=e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cR(e)(t,r,i)},cH=cW(cT),cq=e=>(t,r,n)=>cR(e)(t,r,n),cZ=cq(cT),cF=e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cU(e)(t,r,i)},cK=cF(cT),cV=e=>async(t,r,n)=>cU(e)(t,r,n),cG=cV(cT),cQ=e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cz(e)(t,r,i)},cX=cQ(cT),cY=e=>(t,r,n)=>cz(e)(t,r,n),c0=cY(cT),c1=e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return cJ(e)(t,r,i)},c4=c1(cT),c6=e=>async(t,r,n)=>cJ(e)(t,r,n),c2=c6(cT);e.s(["_decode",0,cq,"_decodeAsync",0,cV,"_encode",0,cW,"_encodeAsync",0,cF,"_parse",0,cR,"_parseAsync",0,cU,"_safeDecode",0,cY,"_safeDecodeAsync",0,c6,"_safeEncode",0,cQ,"_safeEncodeAsync",0,c1,"_safeParse",0,cz,"_safeParseAsync",0,cJ,"decode",0,cZ,"decodeAsync",0,cG,"encode",0,cH,"encodeAsync",0,cK,"parse",0,cD,"parseAsync",0,cM,"safeDecode",0,c0,"safeDecodeAsync",0,c2,"safeEncode",0,cX,"safeEncodeAsync",0,c4,"safeParse",0,cL,"safeParseAsync",0,cB],15143);let c5=/^[cC][^\s-]{8,}$/,c3=/^[0-9a-z]+$/,c8=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,c9=/^[0-9a-vA-V]{20}$/,c7=/^[A-Za-z0-9]{27}$/,de=/^[a-zA-Z0-9_-]{21}$/,dt=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,dr=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,dn=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,di=dn(4),da=dn(6),ds=dn(7),dl=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,du=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function dc(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let dd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,df=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dp=e=>{let t=u8(e??":");return RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},dh=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dm=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,dg=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,dy=/^[A-Za-z0-9_-]*$/,dv=/^\+(?:[0-9]){6,14}[0-9]$/,d_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",db=RegExp(`^${d_}$`);function dw(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function dS(e){return RegExp(`^${dw(e)}$`)}function dx(e){let t=dw({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return RegExp(`^${d_}T(?:${n})$`)}let dE=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},dk=/^-?\d+n?$/,d$=/^-?\d+$/,dO=/^-?\d+(?:\.\d+)?/,dP=/^(?:true|false)$/i,dT=/^null$/i,dI=/^undefined$/i,dA=/^[^A-Z]*$/,dj=/^[^a-z]*$/;function dN(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function dC(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let dR=dN(22,"=="),dD=dC(22),dU=dN(27,"="),dM=dC(27),dz=dN(43,"="),dL=dC(43),dJ=dN(64,""),dB=dC(64),dW=dN(86,"=="),dH=dC(86);e.s(["base64",0,dg,"base64url",0,dy,"bigint",0,dk,"boolean",0,dP,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,dh,"cidrv6",0,dm,"cuid",0,c5,"cuid2",0,c3,"date",0,db,"datetime",()=>dx,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,dt,"e164",0,dv,"email",0,dl,"emoji",()=>dc,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,dr,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,du,"integer",0,d$,"ipv4",0,dd,"ipv6",0,df,"ksuid",0,c7,"lowercase",0,dA,"mac",0,dp,"md5_base64",0,dR,"md5_base64url",0,dD,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,de,"null",()=>dT,"number",0,dO,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,dU,"sha1_base64url",0,dM,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,dz,"sha256_base64url",0,dL,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,dJ,"sha384_base64url",0,dB,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,dW,"sha512_base64url",0,dH,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,dE,"time",()=>dS,"ulid",0,c8,"undefined",()=>dI,"unicodeEmail",0,du,"uppercase",0,dj,"uuid",0,dn,"uuid4",0,di,"uuid6",0,da,"uuid7",0,ds,"xid",0,c9],21131);let dq=uE("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),dZ={number:"number",bigint:"bigint",object:"date"},dF=uE("$ZodCheckLessThan",(e,t)=>{dq.init(e,t);let r=dZ[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<n&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dK=uE("$ZodCheckGreaterThan",(e,t)=>{dq.init(e,t);let r=dZ[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>n&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dV=uE("$ZodCheckMultipleOf",(e,t)=>{dq.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===uJ(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),dG=uE("$ZodCheckNumberFormat",(e,t)=>{dq.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,a]=cn[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=i,n.maximum=a,r&&(n.pattern=d$)}),e._zod.check=o=>{let s=o.value;if(r){if(!Number.isInteger(s))return void o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}))}s<i&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),s>a&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:e})}}),dQ=uE("$ZodCheckBigIntFormat",(e,t)=>{dq.init(e,t);let[r,n]=ci[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=i=>{let a=i.value;a<r&&i.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>n&&i.issues.push({origin:"bigint",input:a,code:"too_big",maximum:n,inst:e})}}),dX=uE("$ZodCheckMaxSize",(e,t)=>{var r;dq.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!uz(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;n.size<=t.maximum||r.issues.push({origin:cg(n),code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),dY=uE("$ZodCheckMinSize",(e,t)=>{var r;dq.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!uz(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;n.size>=t.minimum||r.issues.push({origin:cg(n),code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),d0=uE("$ZodCheckSizeEquals",(e,t)=>{var r;dq.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!uz(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let n=r.value,i=n.size;if(i===t.size)return;let a=i>t.size;r.issues.push({origin:cg(n),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),d1=uE("$ZodCheckMaxLength",(e,t)=>{var r;dq.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!uz(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let i=cy(n);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),d4=uE("$ZodCheckMinLength",(e,t)=>{var r;dq.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!uz(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let i=cy(n);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),d6=uE("$ZodCheckLengthEquals",(e,t)=>{var r;dq.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!uz(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,i=n.length;if(i===t.length)return;let a=cy(n),o=i>t.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),d2=uE("$ZodCheckStringFormat",(e,t)=>{var r,n;dq.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),d5=uE("$ZodCheckRegex",(e,t)=>{d2.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),d3=uE("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=dA),d2.init(e,t)}),d8=uE("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=dj),d2.init(e,t)}),d9=uE("$ZodCheckIncludes",(e,t)=>{dq.init(e,t);let r=u8(t.includes),n=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),d7=uE("$ZodCheckStartsWith",(e,t)=>{dq.init(e,t);let r=RegExp(`^${u8(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),fe=uE("$ZodCheckEndsWith",(e,t)=>{dq.init(e,t);let r=RegExp(`.*${u8(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function ft(e,t,r){e.issues.length&&t.issues.push(...cp(r,e.issues))}let fr=uE("$ZodCheckProperty",(e,t)=>{dq.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>ft(r,e,t.property));ft(r,e,t.property)}}),fn=uE("$ZodCheckMimeType",(e,t)=>{dq.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),fi=uE("$ZodCheckOverwrite",(e,t)=>{dq.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,dq,"$ZodCheckBigIntFormat",0,dQ,"$ZodCheckEndsWith",0,fe,"$ZodCheckGreaterThan",0,dK,"$ZodCheckIncludes",0,d9,"$ZodCheckLengthEquals",0,d6,"$ZodCheckLessThan",0,dF,"$ZodCheckLowerCase",0,d3,"$ZodCheckMaxLength",0,d1,"$ZodCheckMaxSize",0,dX,"$ZodCheckMimeType",0,fn,"$ZodCheckMinLength",0,d4,"$ZodCheckMinSize",0,dY,"$ZodCheckMultipleOf",0,dV,"$ZodCheckNumberFormat",0,dG,"$ZodCheckOverwrite",0,fi,"$ZodCheckProperty",0,fr,"$ZodCheckRegex",0,d5,"$ZodCheckSizeEquals",0,d0,"$ZodCheckStartsWith",0,d7,"$ZodCheckStringFormat",0,d2,"$ZodCheckUpperCase",0,d8],36608);class fa{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>fa],73911);let fo={major:4,minor:1,patch:13};e.s(["version",0,fo],22824);let fs=uE("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=fo;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=cf(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,o=a._zod.check(e);if(o instanceof Promise&&r?.async===!1)throw new u$;if(n||o instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await o,e.issues.length!==t&&(i||(i=cf(e,t)))});else{if(e.issues.length===t)continue;i||(i=cf(e,t))}}return n?n.then(()=>e):e},r=(r,i,a)=>{if(cf(r))return r.aborted=!0,r;let o=t(i,n,a);if(o instanceof Promise){if(!1===a.async)throw new u$;return o.then(t=>e._zod.parse(t,a))}return e._zod.parse(o,a)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if("backward"===a.direction){let t=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,i,a)):r(t,i,a)}let o=e._zod.parse(i,a);if(o instanceof Promise){if(!1===a.async)throw new u$;return o.then(e=>t(e,n,a))}return t(o,n,a)}}e["~standard"]={validate:t=>{try{let r=cL(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return cB(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),fl=uE("$ZodString",(e,t)=>{fs.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??dE(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),fu=uE("$ZodStringFormat",(e,t)=>{d2.init(e,t),fl.init(e,t)}),fc=uE("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=dr),fu.init(e,t)}),fd=uE("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=dn(e))}else t.pattern??(t.pattern=dn());fu.init(e,t)}),ff=uE("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=dl),fu.init(e,t)}),fp=uE("$ZodURL",(e,t)=>{fu.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch(n){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),fh=uE("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=dc()),fu.init(e,t)}),fm=uE("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=de),fu.init(e,t)}),fg=uE("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=c5),fu.init(e,t)}),fy=uE("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=c3),fu.init(e,t)}),fv=uE("$ZodULID",(e,t)=>{t.pattern??(t.pattern=c8),fu.init(e,t)}),f_=uE("$ZodXID",(e,t)=>{t.pattern??(t.pattern=c9),fu.init(e,t)}),fb=uE("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=c7),fu.init(e,t)}),fw=uE("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=dx(t)),fu.init(e,t)}),fS=uE("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=db),fu.init(e,t)}),fx=uE("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=dS(t)),fu.init(e,t)}),fE=uE("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=dt),fu.init(e,t)}),fk=uE("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=dd),fu.init(e,t),e._zod.bag.format="ipv4"}),f$=uE("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=df),fu.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),fO=uE("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=dp(t.delimiter)),fu.init(e,t),e._zod.bag.format="mac"}),fP=uE("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=dh),fu.init(e,t)}),fT=uE("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=dm),fu.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(2!==n.length)throw Error();let[e,t]=n;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function fI(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let fA=uE("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=dg),fu.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{fI(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function fj(e){if(!dy.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return fI(t.padEnd(4*Math.ceil(t.length/4),"="))}let fN=uE("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=dy),fu.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{fj(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),fC=uE("$ZodE164",(e,t)=>{t.pattern??(t.pattern=dv),fu.init(e,t)});function fR(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}let fD=uE("$ZodJWT",(e,t)=>{fu.init(e,t),e._zod.check=r=>{fR(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),fU=uE("$ZodCustomStringFormat",(e,t)=>{fu.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),fM=uE("$ZodNumber",(e,t)=>{fs.init(e,t),e._zod.pattern=e._zod.bag.pattern??dO,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let i=r.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return r;let a="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),fz=uE("$ZodNumberFormat",(e,t)=>{dG.init(e,t),fM.init(e,t)}),fL=uE("$ZodBoolean",(e,t)=>{fs.init(e,t),e._zod.pattern=dP,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let i=r.value;return"boolean"==typeof i||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),fJ=uE("$ZodBigInt",(e,t)=>{fs.init(e,t),e._zod.pattern=dk,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),fB=uE("$ZodBigIntFormat",(e,t)=>{dQ.init(e,t),fJ.init(e,t)}),fW=uE("$ZodSymbol",(e,t)=>{fs.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return"symbol"==typeof n||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),t}}),fH=uE("$ZodUndefined",(e,t)=>{fs.init(e,t),e._zod.pattern=dI,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),t}}),fq=uE("$ZodNull",(e,t)=>{fs.init(e,t),e._zod.pattern=dT,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let n=t.value;return null===n||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),t}}),fZ=uE("$ZodAny",(e,t)=>{fs.init(e,t),e._zod.parse=e=>e}),fF=uE("$ZodUnknown",(e,t)=>{fs.init(e,t),e._zod.parse=e=>e}),fK=uE("$ZodNever",(e,t)=>{fs.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),fV=uE("$ZodVoid",(e,t)=>{fs.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),t}}),fG=uE("$ZodDate",(e,t)=>{fs.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let i=r.value,a=i instanceof Date;return a&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...a?{received:"Invalid Date"}:{},inst:e}),r}});function fQ(e,t,r){e.issues.length&&t.issues.push(...cp(r,e.issues)),t.value[r]=e.value}let fX=uE("$ZodArray",(e,t)=>{fs.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let a=[];for(let e=0;e<i.length;e++){let o=i[e],s=t.element._zod.run({value:o,issues:[]},n);s instanceof Promise?a.push(s.then(t=>fQ(t,r,e))):fQ(s,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function fY(e,t,r,n){e.issues.length&&t.issues.push(...cp(r,e.issues)),void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function f0(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=cr(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function f1(e,t,r,n,i,a){let o=[],s=i.keySet,l=i.catchall._zod,u=l.def.type;for(let i in t){if(s.has(i))continue;if("never"===u){o.push(i);continue}let a=l.run({value:t[i],issues:[]},n);a instanceof Promise?e.push(a.then(e=>fY(e,r,i,t))):fY(a,r,i,t)}return(o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let f4=uE("$ZodObject",(e,t)=>{let r;fs.init(e,t);let n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let i=uM(()=>f0(t));uW(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let a=t.catchall;e._zod.parse=(t,n)=>{r??(r=i.value);let o=t.value;if(!u0(o))return t.issues.push({expected:"object",code:"invalid_type",input:o,inst:e}),t;t.value={};let s=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:o[e],issues:[]},n);r instanceof Promise?s.push(r.then(r=>fY(r,t,e,o))):fY(r,t,e,o)}return a?f1(s,o,t,n,i.value,e):s.length?Promise.all(s).then(()=>t):t}}),f6=uE("$ZodObjectJIT",(e,t)=>{let r,n;f4.init(e,t);let i=e._zod.parse,a=uM(()=>f0(t)),o=!uP.jitless,s=o&&u1.value,l=t.catchall;e._zod.parse=(u,c)=>{n??(n=a.value);let d=u.value;return u0(d)?o&&s&&c?.async===!1&&!0!==c.jitless?(r||(r=(e=>{let t=new fa(["shape","payload","ctx"]),r=a.value,n=e=>{let t=uQ(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let i=Object.create(null),o=0;for(let e of r.keys)i[e]=`key_${o++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=i[e],a=uQ(e);t.write(`const ${r} = ${n(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let s=t.compile();return(t,r)=>s(e,t,r)})(t.shape)),u=r(u,c),l)?f1([],d,u,c,n,e):u:i(u,c):(u.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),u)}});function f2(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let i=e.filter(e=>!cf(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>cm(e,n,uT())))}),t)}let f5=uE("$ZodUnion",(e,t)=>{fs.init(e,t),uW(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),uW(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),uW(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),uW(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>uL(e.source)).join("|")})$`)}});let r=1===t.options.length,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let o=!1,s=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},a);if(t instanceof Promise)s.push(t),o=!0;else{if(0===t.issues.length)return t;s.push(t)}}return o?Promise.all(s).then(t=>f2(t,i,e,a)):f2(s,i,e,a)}}),f3=uE("$ZodDiscriminatedUnion",(e,t)=>{f5.init(e,t);let r=e._zod.parse;uW(e._zod,"propValues",()=>{let e={};for(let r of t.options){let n=r._zod.propValues;if(!n||0===Object.keys(n).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(n))for(let n of(e[t]||(e[t]=new Set),r))e[t].add(n)}return e});let n=uM(()=>{let e=t.options,r=new Map;for(let n of e){let e=n._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,n)}}return r});e._zod.parse=(i,a)=>{let o=i.value;if(!u0(o))return i.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),i;let s=n.value.get(o?.[t.discriminator]);return s?s._zod.run(i,a):t.unionFallback?r(i,a):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),i)}}),f8=uE("$ZodIntersection",(e,t)=>{fs.init(e,t),e._zod.parse=(e,r)=>{let n=e.value,i=t.left._zod.run({value:n,issues:[]},r),a=t.right._zod.run({value:n,issues:[]},r);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([t,r])=>f9(e,t,r)):f9(e,i,a)}});function f9(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),cf(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(u4(t)&&u4(r)){let n=Object.keys(r),i=Object.keys(t).filter(e=>-1!==n.indexOf(e)),a={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};a[n]=i.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}let f7=uE("$ZodTuple",(e,t)=>{fs.init(e,t);let r=t.items;e._zod.parse=(n,i)=>{let a=n.value;if(!Array.isArray(a))return n.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),n;n.value=[];let o=[],s=[...r].reverse().findIndex(e=>"optional"!==e._zod.optin),l=-1===s?0:r.length-s;if(!t.rest){let t=a.length>r.length,i=a.length<l-1;if(t||i)return n.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),n}let u=-1;for(let e of r){if(++u>=a.length&&u>=l)continue;let t=e._zod.run({value:a[u],issues:[]},i);t instanceof Promise?o.push(t.then(e=>pe(e,n,u))):pe(t,n,u)}if(t.rest)for(let e of a.slice(r.length)){u++;let r=t.rest._zod.run({value:e,issues:[]},i);r instanceof Promise?o.push(r.then(e=>pe(e,n,u))):pe(r,n,u)}return o.length?Promise.all(o).then(()=>n):n}});function pe(e,t,r){e.issues.length&&t.issues.push(...cp(r,e.issues)),t.value[r]=e.value}let pt=uE("$ZodRecord",(e,t)=>{fs.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!u4(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;let a=[],o=t.keyType._zod.values;if(o){let s;r.value={};let l=new Set;for(let e of o)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){l.add("number"==typeof e?e.toString():e);let o=t.valueType._zod.run({value:i[e],issues:[]},n);o instanceof Promise?a.push(o.then(t=>{t.issues.length&&r.issues.push(...cp(e,t.issues)),r.value[e]=t.value})):(o.issues.length&&r.issues.push(...cp(e,o.issues)),r.value[e]=o.value)}for(let e in i)l.has(e)||(s=s??[]).push(e);s&&s.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:s})}else for(let o of(r.value={},Reflect.ownKeys(i))){if("__proto__"===o)continue;let s=t.keyType._zod.run({value:o,issues:[]},n);if(s instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(s.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:s.issues.map(e=>cm(e,n,uT())),input:o,path:[o],inst:e}),r.value[s.value]=s.value;continue}let l=t.valueType._zod.run({value:i[o],issues:[]},n);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&r.issues.push(...cp(o,e.issues)),r.value[s.value]=e.value})):(l.issues.length&&r.issues.push(...cp(o,l.issues)),r.value[s.value]=l.value)}return a.length?Promise.all(a).then(()=>r):r}}),pr=uE("$ZodMap",(e,t)=>{fs.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;let a=[];for(let[o,s]of(r.value=new Map,i)){let l=t.keyType._zod.run({value:o,issues:[]},n),u=t.valueType._zod.run({value:s,issues:[]},n);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{pn(t,a,r,o,i,e,n)})):pn(l,u,r,o,i,e,n)}return a.length?Promise.all(a).then(()=>r):r}});function pn(e,t,r,n,i,a,o){e.issues.length&&(u5.has(typeof n)?r.issues.push(...cp(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:a,issues:e.issues.map(e=>cm(e,o,uT()))})),t.issues.length&&(u5.has(typeof n)?r.issues.push(...cp(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:a,key:n,issues:t.issues.map(e=>cm(e,o,uT()))})),r.value.set(e.value,t.value)}let pi=uE("$ZodSet",(e,t)=>{fs.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];for(let e of(r.value=new Set,i)){let i=t.valueType._zod.run({value:e,issues:[]},n);i instanceof Promise?a.push(i.then(e=>pa(e,r))):pa(i,r)}return a.length?Promise.all(a).then(()=>r):r}});function pa(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let po=uE("$ZodEnum",(e,t)=>{fs.init(e,t);let r=uR(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=RegExp(`^(${r.filter(e=>u5.has(typeof e)).map(e=>"string"==typeof e?u8(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let a=t.value;return n.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),ps=uE("$ZodLiteral",(e,t)=>{if(fs.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?u8(e):e?u8(e.toString()):String(e)).join("|")})$`),e._zod.parse=(n,i)=>{let a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),pl=uE("$ZodFile",(e,t)=>{fs.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),t}}),pu=uE("$ZodTransform",(e,t)=>{fs.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new uO(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(r.value=e,r));if(i instanceof Promise)throw new u$;return r.value=i,r}});function pc(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let pd=uE("$ZodOptional",(e,t)=>{fs.init(e,t),e._zod.optin="optional",e._zod.optout="optional",uW(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),uW(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${uL(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>pc(t,e.value)):pc(n,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),pf=uE("$ZodNullable",(e,t)=>{fs.init(e,t),uW(e._zod,"optin",()=>t.innerType._zod.optin),uW(e._zod,"optout",()=>t.innerType._zod.optout),uW(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${uL(e.source)}|null)$`):void 0}),uW(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),pp=uE("$ZodDefault",(e,t)=>{fs.init(e,t),e._zod.optin="optional",uW(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>ph(e,t)):ph(n,t)}});function ph(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let pm=uE("$ZodPrefault",(e,t)=>{fs.init(e,t),e._zod.optin="optional",uW(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),pg=uE("$ZodNonOptional",(e,t)=>{fs.init(e,t),uW(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(t=>py(t,e)):py(i,e)}});function py(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let pv=uE("$ZodSuccess",(e,t)=>{fs.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new uO("ZodSuccess");let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===n.issues.length,e)}}),p_=uE("$ZodCatch",(e,t)=>{fs.init(e,t),uW(e._zod,"optin",()=>t.innerType._zod.optin),uW(e._zod,"optout",()=>t.innerType._zod.optout),uW(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>cm(e,r,uT()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>cm(e,r,uT()))},input:e.value}),e.issues=[]),e)}}),pb=uE("$ZodNaN",(e,t)=>{fs.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),pw=uE("$ZodPipe",(e,t)=>{fs.init(e,t),uW(e._zod,"values",()=>t.in._zod.values),uW(e._zod,"optin",()=>t.in._zod.optin),uW(e._zod,"optout",()=>t.out._zod.optout),uW(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>pS(e,t.in,r)):pS(n,t.in,r)}let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>pS(e,t.out,r)):pS(n,t.out,r)}});function pS(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let px=uE("$ZodCodec",(e,t)=>{fs.init(e,t),uW(e._zod,"values",()=>t.in._zod.values),uW(e._zod,"optin",()=>t.in._zod.optin),uW(e._zod,"optout",()=>t.out._zod.optout),uW(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>pE(e,t,r)):pE(n,t,r)}{let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>pE(e,t,r)):pE(n,t,r)}}});function pE(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let n=t.transform(e.value,e);return n instanceof Promise?n.then(n=>pk(e,n,t.out,r)):pk(e,n,t.out,r)}{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(n=>pk(e,n,t.in,r)):pk(e,n,t.in,r)}}function pk(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}let p$=uE("$ZodReadonly",(e,t)=>{fs.init(e,t),uW(e._zod,"propValues",()=>t.innerType._zod.propValues),uW(e._zod,"values",()=>t.innerType._zod.values),uW(e._zod,"optin",()=>t.innerType?._zod?.optin),uW(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(pO):pO(n)}});function pO(e){return e.value=Object.freeze(e.value),e}let pP=uE("$ZodTemplateLiteral",(e,t)=>{fs.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let n=+!!t.startsWith("^"),i=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(n,i))}else if(null===e||u3.has(typeof e))r.push(u8(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,n)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),pT=uE("$ZodFunction",(e,t)=>(fs.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let n=Reflect.apply(t,this,e._def.input?cD(e._def.input,r):r);return e._def.output?cD(e._def.output,n):n}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let n=e._def.input?await cM(e._def.input,r):r,i=await Reflect.apply(t,this,n);return e._def.output?await cM(e._def.output,i):i}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new f7({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),pI=uE("$ZodPromise",(e,t)=>{fs.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),pA=uE("$ZodLazy",(e,t)=>{fs.init(e,t),uW(e._zod,"innerType",()=>t.getter()),uW(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),uW(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),uW(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),uW(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),pj=uE("$ZodCustom",(e,t)=>{dq.init(e,t),fs.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(t=>pN(t,r,n,e));pN(i,r,n,e)}});function pN(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(cv(e))}}function pC(e,t,r,n){let i=Math.abs(e),a=i%10,o=i%100;return o>=11&&o<=19?n:1===a?t:a>=2&&a<=4?r:n}function pR(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${ct(r.values[0])}`;return`Invalid option: expected one of ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${n.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}})}}function pD(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${ct(r.values[0])}`;return`  ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${uD(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}})}}e.s(["$ZodAny",0,fZ,"$ZodArray",0,fX,"$ZodBase64",0,fA,"$ZodBase64URL",0,fN,"$ZodBigInt",0,fJ,"$ZodBigIntFormat",0,fB,"$ZodBoolean",0,fL,"$ZodCIDRv4",0,fP,"$ZodCIDRv6",0,fT,"$ZodCUID",0,fg,"$ZodCUID2",0,fy,"$ZodCatch",0,p_,"$ZodCodec",0,px,"$ZodCustom",0,pj,"$ZodCustomStringFormat",0,fU,"$ZodDate",0,fG,"$ZodDefault",0,pp,"$ZodDiscriminatedUnion",0,f3,"$ZodE164",0,fC,"$ZodEmail",0,ff,"$ZodEmoji",0,fh,"$ZodEnum",0,po,"$ZodFile",0,pl,"$ZodFunction",0,pT,"$ZodGUID",0,fc,"$ZodIPv4",0,fk,"$ZodIPv6",0,f$,"$ZodISODate",0,fS,"$ZodISODateTime",0,fw,"$ZodISODuration",0,fE,"$ZodISOTime",0,fx,"$ZodIntersection",0,f8,"$ZodJWT",0,fD,"$ZodKSUID",0,fb,"$ZodLazy",0,pA,"$ZodLiteral",0,ps,"$ZodMAC",0,fO,"$ZodMap",0,pr,"$ZodNaN",0,pb,"$ZodNanoID",0,fm,"$ZodNever",0,fK,"$ZodNonOptional",0,pg,"$ZodNull",0,fq,"$ZodNullable",0,pf,"$ZodNumber",0,fM,"$ZodNumberFormat",0,fz,"$ZodObject",0,f4,"$ZodObjectJIT",0,f6,"$ZodOptional",0,pd,"$ZodPipe",0,pw,"$ZodPrefault",0,pm,"$ZodPromise",0,pI,"$ZodReadonly",0,p$,"$ZodRecord",0,pt,"$ZodSet",0,pi,"$ZodString",0,fl,"$ZodStringFormat",0,fu,"$ZodSuccess",0,pv,"$ZodSymbol",0,fW,"$ZodTemplateLiteral",0,pP,"$ZodTransform",0,pu,"$ZodTuple",0,f7,"$ZodType",0,fs,"$ZodULID",0,fv,"$ZodURL",0,fp,"$ZodUUID",0,fd,"$ZodUndefined",0,fH,"$ZodUnion",0,f5,"$ZodUnknown",0,fF,"$ZodVoid",0,fV,"$ZodXID",0,f_,"isValidBase64",()=>fI,"isValidBase64URL",()=>fj,"isValidJWT",()=>fR],39510);let pU=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},pM=e=>e.charAt(0).toUpperCase()+e.slice(1);function pz(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||0===r?"many":1===r?"one":"few"}function pL(e,t,r,n){let i=Math.abs(e),a=i%10,o=i%100;return o>=11&&o<=19?n:1===a?t:a>=2&&a<=4?r:n}function pJ(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${ct(r.values[0])}`;return` :    ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ,  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ,  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}}e.s([],79113);let pB=Symbol("ZodOutput"),pW=Symbol("ZodInput");class pH{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function pq(){return new pH}(L=globalThis).__zod_globalRegistry??(L.__zod_globalRegistry=pq());let pZ=globalThis.__zod_globalRegistry;function pF(e,t){return new e({type:"string",...u7(t)})}function pK(e,t){return new e({type:"string",coerce:!0,...u7(t)})}function pV(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...u7(t)})}function pG(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...u7(t)})}function pQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...u7(t)})}function pX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...u7(t)})}function pY(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...u7(t)})}function p0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...u7(t)})}function p1(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...u7(t)})}function p4(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...u7(t)})}function p6(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...u7(t)})}function p2(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...u7(t)})}function p5(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...u7(t)})}function p3(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...u7(t)})}function p8(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...u7(t)})}function p9(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...u7(t)})}function p7(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...u7(t)})}function he(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...u7(t)})}function ht(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...u7(t)})}function hr(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...u7(t)})}function hn(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...u7(t)})}function hi(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...u7(t)})}function ha(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...u7(t)})}function ho(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...u7(t)})}function hs(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...u7(t)})}e.s(["$ZodRegistry",()=>pH,"$input",0,pW,"$output",0,pB,"globalRegistry",0,pZ,"registry",()=>pq],52637);let hl={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function hu(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...u7(t)})}function hc(e,t){return new e({type:"string",format:"date",check:"string_format",...u7(t)})}function hd(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...u7(t)})}function hf(e,t){return new e({type:"string",format:"duration",check:"string_format",...u7(t)})}function hp(e,t){return new e({type:"number",checks:[],...u7(t)})}function hh(e,t){return new e({type:"number",coerce:!0,checks:[],...u7(t)})}function hm(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...u7(t)})}function hg(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...u7(t)})}function hy(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...u7(t)})}function hv(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...u7(t)})}function h_(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...u7(t)})}function hb(e,t){return new e({type:"boolean",...u7(t)})}function hw(e,t){return new e({type:"boolean",coerce:!0,...u7(t)})}function hS(e,t){return new e({type:"bigint",...u7(t)})}function hx(e,t){return new e({type:"bigint",coerce:!0,...u7(t)})}function hE(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...u7(t)})}function hk(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...u7(t)})}function h$(e,t){return new e({type:"symbol",...u7(t)})}function hO(e,t){return new e({type:"undefined",...u7(t)})}function hP(e,t){return new e({type:"null",...u7(t)})}function hT(e){return new e({type:"any"})}function hI(e){return new e({type:"unknown"})}function hA(e,t){return new e({type:"never",...u7(t)})}function hj(e,t){return new e({type:"void",...u7(t)})}function hN(e,t){return new e({type:"date",...u7(t)})}function hC(e,t){return new e({type:"date",coerce:!0,...u7(t)})}function hR(e,t){return new e({type:"nan",...u7(t)})}function hD(e,t){return new dF({check:"less_than",...u7(t),value:e,inclusive:!1})}function hU(e,t){return new dF({check:"less_than",...u7(t),value:e,inclusive:!0})}function hM(e,t){return new dK({check:"greater_than",...u7(t),value:e,inclusive:!1})}function hz(e,t){return new dK({check:"greater_than",...u7(t),value:e,inclusive:!0})}function hL(e){return hM(0,e)}function hJ(e){return hD(0,e)}function hB(e){return hU(0,e)}function hW(e){return hz(0,e)}function hH(e,t){return new dV({check:"multiple_of",...u7(t),value:e})}function hq(e,t){return new dX({check:"max_size",...u7(t),maximum:e})}function hZ(e,t){return new dY({check:"min_size",...u7(t),minimum:e})}function hF(e,t){return new d0({check:"size_equals",...u7(t),size:e})}function hK(e,t){return new d1({check:"max_length",...u7(t),maximum:e})}function hV(e,t){return new d4({check:"min_length",...u7(t),minimum:e})}function hG(e,t){return new d6({check:"length_equals",...u7(t),length:e})}function hQ(e,t){return new d5({check:"string_format",format:"regex",...u7(t),pattern:e})}function hX(e){return new d3({check:"string_format",format:"lowercase",...u7(e)})}function hY(e){return new d8({check:"string_format",format:"uppercase",...u7(e)})}function h0(e,t){return new d9({check:"string_format",format:"includes",...u7(t),includes:e})}function h1(e,t){return new d7({check:"string_format",format:"starts_with",...u7(t),prefix:e})}function h4(e,t){return new fe({check:"string_format",format:"ends_with",...u7(t),suffix:e})}function h6(e,t,r){return new fr({check:"property",property:e,schema:t,...u7(r)})}function h2(e,t){return new fn({check:"mime_type",mime:e,...u7(t)})}function h5(e){return new fi({check:"overwrite",tx:e})}function h3(e){return h5(t=>t.normalize(e))}function h8(){return h5(e=>e.trim())}function h9(){return h5(e=>e.toLowerCase())}function h7(){return h5(e=>e.toUpperCase())}function me(){return h5(e=>uX(e))}function mt(e,t,r){return new e({type:"array",element:t,...u7(r)})}function mr(e,t,r){return new e({type:"union",options:t,...u7(r)})}function mn(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...u7(n)})}function mi(e,t,r){return new e({type:"intersection",left:t,right:r})}function ma(e,t,r,n){let i=r instanceof fs,a=i?n:r;return new e({type:"tuple",items:t,rest:i?r:null,...u7(a)})}function mo(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...u7(n)})}function ms(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...u7(n)})}function ml(e,t,r){return new e({type:"set",valueType:t,...u7(r)})}function mu(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...u7(r)})}function mc(e,t,r){return new e({type:"enum",entries:t,...u7(r)})}function md(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...u7(r)})}function mf(e,t){return new e({type:"file",...u7(t)})}function mp(e,t){return new e({type:"transform",transform:t})}function mh(e,t){return new e({type:"optional",innerType:t})}function mm(e,t){return new e({type:"nullable",innerType:t})}function mg(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():u6(r)}})}function my(e,t,r){return new e({type:"nonoptional",innerType:t,...u7(r)})}function mv(e,t){return new e({type:"success",innerType:t})}function m_(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function mb(e,t,r){return new e({type:"pipe",in:t,out:r})}function mw(e,t){return new e({type:"readonly",innerType:t})}function mS(e,t,r){return new e({type:"template_literal",parts:t,...u7(r)})}function mx(e,t){return new e({type:"lazy",getter:t})}function mE(e,t){return new e({type:"promise",innerType:t})}function mk(e,t,r){let n=u7(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function m$(e,t,r){return new e({type:"custom",check:"custom",fn:t,...u7(r)})}function mO(e){let t=mP(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(cv(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(cv(e)))},e(r.value,r)));return t}function mP(e,t){let r=new dq({check:"custom",...u7(t)});return r._zod.check=e,r}function mT(e){let t=new dq({check:"describe"});return t._zod.onattach=[t=>{let r=pZ.get(t)??{};pZ.add(t,{...r,description:e})}],t._zod.check=()=>{},t}function mI(e){let t=new dq({check:"meta"});return t._zod.onattach=[t=>{let r=pZ.get(t)??{};pZ.add(t,{...r,...e})}],t._zod.check=()=>{},t}function mA(e,t){let r=u7(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(n=n.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(n),o=new Set(i),s=e.Codec??px,l=e.Boolean??fL,u=new s({type:"pipe",in:new(e.String??fl)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let n=e;return"sensitive"!==r.case&&(n=n.toLowerCase()),!!a.has(n)||!o.has(n)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...o],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?n[0]||"true":i[0]||"false",error:r.error});return u}function mj(e,t,r,n={}){let i=u7(n),a={...u7(n),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...i};return r instanceof RegExp&&(a.pattern=r),new e(a)}e.s(["TimePrecision",0,hl,"_any",()=>hT,"_array",()=>mt,"_base64",()=>hi,"_base64url",()=>ha,"_bigint",()=>hS,"_boolean",()=>hb,"_catch",()=>m_,"_check",()=>mP,"_cidrv4",()=>hr,"_cidrv6",()=>hn,"_coercedBigint",()=>hx,"_coercedBoolean",()=>hw,"_coercedDate",()=>hC,"_coercedNumber",()=>hh,"_coercedString",()=>pK,"_cuid",()=>p2,"_cuid2",()=>p5,"_custom",()=>mk,"_date",()=>hN,"_default",()=>mg,"_discriminatedUnion",()=>mn,"_e164",()=>ho,"_email",()=>pV,"_emoji",()=>p4,"_endsWith",()=>h4,"_enum",()=>mu,"_file",()=>mf,"_float32",()=>hg,"_float64",()=>hy,"_gt",()=>hM,"_gte",()=>hz,"_guid",()=>pG,"_includes",()=>h0,"_int",()=>hm,"_int32",()=>hv,"_int64",()=>hE,"_intersection",()=>mi,"_ipv4",()=>p7,"_ipv6",()=>he,"_isoDate",()=>hc,"_isoDateTime",()=>hu,"_isoDuration",()=>hf,"_isoTime",()=>hd,"_jwt",()=>hs,"_ksuid",()=>p9,"_lazy",()=>mx,"_length",()=>hG,"_literal",()=>md,"_lowercase",()=>hX,"_lt",()=>hD,"_lte",()=>hU,"_mac",()=>ht,"_map",()=>ms,"_max",()=>hU,"_maxLength",()=>hK,"_maxSize",()=>hq,"_mime",()=>h2,"_min",()=>hz,"_minLength",()=>hV,"_minSize",()=>hZ,"_multipleOf",()=>hH,"_nan",()=>hR,"_nanoid",()=>p6,"_nativeEnum",()=>mc,"_negative",()=>hJ,"_never",()=>hA,"_nonnegative",()=>hW,"_nonoptional",()=>my,"_nonpositive",()=>hB,"_normalize",()=>h3,"_null",()=>hP,"_nullable",()=>mm,"_number",()=>hp,"_optional",()=>mh,"_overwrite",()=>h5,"_pipe",()=>mb,"_positive",()=>hL,"_promise",()=>mE,"_property",()=>h6,"_readonly",()=>mw,"_record",()=>mo,"_refine",()=>m$,"_regex",()=>hQ,"_set",()=>ml,"_size",()=>hF,"_slugify",()=>me,"_startsWith",()=>h1,"_string",()=>pF,"_stringFormat",()=>mj,"_stringbool",()=>mA,"_success",()=>mv,"_superRefine",()=>mO,"_symbol",()=>h$,"_templateLiteral",()=>mS,"_toLowerCase",()=>h9,"_toUpperCase",()=>h7,"_transform",()=>mp,"_trim",()=>h8,"_tuple",()=>ma,"_uint32",()=>h_,"_uint64",()=>hk,"_ulid",()=>p3,"_undefined",()=>hO,"_union",()=>mr,"_unknown",()=>hI,"_uppercase",()=>hY,"_url",()=>p1,"_uuid",()=>pQ,"_uuidv4",()=>pX,"_uuidv6",()=>pY,"_uuidv7",()=>p0,"_void",()=>hj,"_xid",()=>p8,"describe",()=>mT,"meta",()=>mI],62061);class mN{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??pZ,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let n=e._zod.def,i=this.seen.get(e);if(i)return i.count++,t.schemaPath.includes(e)&&(i.cycle=t.path),i.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let o=e._zod.toJSONSchema?.();if(o)a.schema=o;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},i=e._zod.parent;if(i)a.ref=i,this.process(i,r),this.seen.get(i).isParent=!0;else{let t=a.schema;switch(n.type){case"string":{t.type="string";let{minimum:r,maximum:n,format:i,patterns:o,contentEncoding:s}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof n&&(t.maxLength=n),i&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[i]??i,""===t.format&&delete t.format),s&&(t.contentEncoding=s),o&&o.size>0){let e=[...o];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:n,format:i,multipleOf:a,exclusiveMaximum:o,exclusiveMinimum:s}=e._zod.bag;"string"==typeof i&&i.includes("int")?t.type="integer":t.type="number","number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=s,t.exclusiveMinimum=!0):t.exclusiveMinimum=s),"number"==typeof r&&(t.minimum=r,"number"==typeof s&&"draft-4"!==this.target&&(s>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=o,t.exclusiveMaximum=!0):t.exclusiveMaximum=o),"number"==typeof n&&(t.maximum=n,"number"==typeof o&&"draft-4"!==this.target&&(o<=n?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:i,maximum:a}=e._zod.bag;"number"==typeof i&&(t.minItems=i),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(n.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=n.shape;for(let n in e)t.properties[n]=this.process(e[n],{...r,path:[...r.path,"properties",n]});let i=new Set([...new Set(Object.keys(e))].filter(e=>{let t=n.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));i.size>0&&(t.required=Array.from(i)),n.catchall?._zod.def.type==="never"?t.additionalProperties=!1:n.catchall?n.catchall&&(t.additionalProperties=this.process(n.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":{let e=void 0!==n.discriminator,i=n.options.map((t,n)=>this.process(t,{...r,path:[...r.path,e?"oneOf":"anyOf",n]}));e?t.oneOf=i:t.anyOf=i;break}case"intersection":{let e=this.process(n.left,{...r,path:[...r.path,"allOf",0]}),i=this.process(n.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(i)?i.allOf:[i]];break}case"tuple":{t.type="array";let i="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",o=n.items.map((e,t)=>this.process(e,{...r,path:[...r.path,i,t]})),s=n.rest?this.process(n.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[n.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=o,s&&(t.items=s)):"openapi-3.0"===this.target?(t.items={anyOf:o},s&&t.items.anyOf.push(s),t.minItems=o.length,s||(t.maxItems=o.length)):(t.items=o,s&&(t.additionalItems=s));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(n.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(n.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=uR(n.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of n.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:n,maximum:i,mime:a}=e._zod.bag;void 0!==n&&(r.minLength=n),void 0!==i&&(r.maxLength=i),a?1===a.length?(r.contentMediaType=a[0],Object.assign(t,r)):t.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(n.innerType,r);"openapi-3.0"===this.target?(a.ref=n.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(n.innerType,r),a.ref=n.innerType;break;case"default":this.process(n.innerType,r),a.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue));break;case"prefault":this.process(n.innerType,r),a.ref=n.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break;case"catch":{let e;this.process(n.innerType,r),a.ref=n.innerType;try{e=n.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===n.in._zod.def.type?n.out:n.in:n.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(n.innerType,r),a.ref=n.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let s=this.metadataRegistry.get(e);return s&&Object.assign(a.schema,s),"input"===this.io&&function e(t,r){let n=r??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);let i=t._zod.def;if("transform"===i.type)return!0;if("array"===i.type)return e(i.element,n);if("set"===i.type)return e(i.valueType,n);if("lazy"===i.type)return e(i.getter(),n);if("promise"===i.type||"optional"===i.type||"nonoptional"===i.type||"nullable"===i.type||"readonly"===i.type||"default"===i.type||"prefault"===i.type)return e(i.innerType,n);if("intersection"===i.type)return e(i.left,n)||e(i.right,n);if("record"===i.type||"map"===i.type)return e(i.keyType,n)||e(i.valueType,n);if("pipe"===i.type)return e(i.in,n)||e(i.out,n);if("object"===i.type){for(let t in i.shape)if(e(i.shape[t],n))return!0;return!1}if("union"===i.type){for(let t of i.options)if(e(t,n))return!0;return!1}if("tuple"===i.type){for(let t of i.items)if(e(t,n))return!0;if(i.rest&&e(i.rest,n))return!0}return!1}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},n=this.seen.get(e);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let i=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let n=r.external.registry.get(e[0])?.id,i=r.external.uri??(e=>e);if(n)return{ref:i(n)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${i("__shared")}#/${t}/${a}`}}if(e[1]===n)return{ref:"#"};let i=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:i+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:n}=i(e);t.def={...t.schema},n&&(t.defId=n);let a=t.schema;for(let e in a)delete a[e];a.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let n=t[1];if(e===t[0]){a(t);continue}if(r.external){let n=r.external.registry.get(t[0])?.id;if(e!==t[0]&&n){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||n.cycle||n.count>1&&"ref"===r.reused){a(t);continue}}let o=(e,t)=>{let r=this.seen.get(e),n=r.def??r.schema,i={...n};if(null===r.ref)return;let a=r.ref;if(r.ref=null,a){o(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(n.allOf=n.allOf??[],n.allOf.push(e)):(Object.assign(n,e),Object.assign(n,i))}r.isParent||this.override({zodSchema:e,jsonSchema:n,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())o(e[0],{target:this.target});let s={};if("draft-2020-12"===this.target?s.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?s.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?s.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");s.$id=r.external.uri(t)}Object.assign(s,n.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?s.$defs=l:s.definitions=l);try{return JSON.parse(JSON.stringify(s))}catch(e){throw Error("Error converting schema to JSON.")}}}function mC(e,t){if(e instanceof pH){let r=new mN(t),n={};for(let t of e._idmap.entries()){let[e,n]=t;r.process(n)}let i={},a={registry:e,uri:t?.uri,defs:n};for(let n of e._idmap.entries()){let[e,o]=n;i[e]=r.emit(o,{...t,external:a})}return Object.keys(n).length>0&&(i.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:n}),{schemas:i}}let r=new mN(t);return r.process(e),r.emit(e,t)}e.s(["JSONSchemaGenerator",()=>mN,"toJSONSchema",()=>mC],88513),e.s([],33145),e.s([],82811),e.s(["ZodAny",()=>ys,"ZodArray",()=>yy,"ZodBase64",()=>gU,"ZodBase64URL",()=>gz,"ZodBigInt",()=>g3,"ZodBigIntFormat",()=>g9,"ZodBoolean",()=>g2,"ZodCIDRv4",()=>gN,"ZodCIDRv6",()=>gR,"ZodCUID",()=>gy,"ZodCUID2",()=>g_,"ZodCatch",()=>y8,"ZodCodec",()=>vn,"ZodCustom",()=>vm,"ZodCustomStringFormat",()=>gq,"ZodDate",()=>ym,"ZodDefault",()=>yY,"ZodDiscriminatedUnion",()=>y$,"ZodE164",()=>gJ,"ZodEmail",()=>gt,"ZodEmoji",()=>gp,"ZodEnum",()=>yz,"ZodFile",()=>yH,"ZodFunction",()=>vp,"ZodGUID",()=>gn,"ZodIPv4",()=>gO,"ZodIPv6",()=>gA,"ZodIntersection",()=>yP,"ZodJWT",()=>gW,"ZodKSUID",()=>gk,"ZodLazy",()=>vu,"ZodLiteral",()=>yB,"ZodMAC",()=>gT,"ZodMap",()=>yR,"ZodNaN",()=>y7,"ZodNanoID",()=>gm,"ZodNever",()=>yd,"ZodNonOptional",()=>y6,"ZodNull",()=>ya,"ZodNullable",()=>yG,"ZodNumber",()=>gG,"ZodNumberFormat",()=>gX,"ZodObject",()=>yb,"ZodOptional",()=>yK,"ZodPipe",()=>vt,"ZodPrefault",()=>y1,"ZodPromise",()=>vd,"ZodReadonly",()=>va,"ZodRecord",()=>yj,"ZodSet",()=>yU,"ZodString",()=>m9,"ZodStringFormat",()=>ge,"ZodSuccess",()=>y5,"ZodSymbol",()=>yt,"ZodTemplateLiteral",()=>vs,"ZodTransform",()=>yZ,"ZodTuple",()=>yI,"ZodType",()=>m3,"ZodULID",()=>gw,"ZodURL",()=>gc,"ZodUUID",()=>ga,"ZodUndefined",()=>yn,"ZodUnion",()=>yE,"ZodUnknown",()=>yu,"ZodVoid",()=>yp,"ZodXID",()=>gx,"_ZodString",()=>m8,"_default",()=>y0,"_function",()=>vh,"any",()=>yl,"array",()=>yv,"base64",()=>gM,"base64url",()=>gL,"bigint",()=>g8,"boolean",()=>g5,"catch",()=>y9,"check",()=>vg,"cidrv4",()=>gC,"cidrv6",()=>gD,"codec",()=>vi,"cuid",()=>gv,"cuid2",()=>gb,"custom",()=>vy,"date",()=>yg,"describe",()=>vb,"discriminatedUnion",()=>yO,"e164",()=>gB,"email",()=>gr,"emoji",()=>gh,"enum",()=>yL,"file",()=>yq,"float32",()=>g0,"float64",()=>g1,"function",()=>vh,"guid",()=>gi,"hash",()=>gV,"hex",()=>gK,"hostname",()=>gF,"httpUrl",()=>gf,"instanceof",()=>vS,"int",()=>gY,"int32",()=>g4,"int64",()=>g7,"intersection",()=>yT,"ipv4",()=>gP,"ipv6",()=>gj,"json",()=>vE,"jwt",()=>gH,"keyof",()=>y_,"ksuid",()=>g$,"lazy",()=>vc,"literal",()=>yW,"looseObject",()=>yx,"mac",()=>gI,"map",()=>yD,"meta",()=>vw,"nan",()=>ve,"nanoid",()=>gg,"nativeEnum",()=>yJ,"never",()=>yf,"nonoptional",()=>y2,"null",()=>yo,"nullable",()=>yQ,"nullish",()=>yX,"number",()=>gQ,"object",()=>yw,"optional",()=>yV,"partialRecord",()=>yC,"pipe",()=>vr,"prefault",()=>y4,"preprocess",()=>vk,"promise",()=>vf,"readonly",()=>vo,"record",()=>yN,"refine",()=>vv,"set",()=>yM,"strictObject",()=>yS,"string",()=>m7,"stringFormat",()=>gZ,"stringbool",()=>vx,"success",()=>y3,"superRefine",()=>v_,"symbol",()=>yr,"templateLiteral",()=>vl,"transform",()=>yF,"tuple",()=>yA,"uint32",()=>g6,"uint64",()=>ye,"ulid",()=>gS,"undefined",()=>yi,"union",()=>yk,"unknown",()=>yc,"url",()=>gd,"uuid",()=>go,"uuidv4",()=>gs,"uuidv6",()=>gl,"uuidv7",()=>gu,"void",()=>yh,"xid",()=>gE],7855),e.i(39510),e.s(["$ZodAny",0,fZ,"$ZodArray",0,fX,"$ZodBase64",0,fA,"$ZodBase64URL",0,fN,"$ZodBigInt",0,fJ,"$ZodBigIntFormat",0,fB,"$ZodBoolean",0,fL,"$ZodCIDRv4",0,fP,"$ZodCIDRv6",0,fT,"$ZodCUID",0,fg,"$ZodCUID2",0,fy,"$ZodCatch",0,p_,"$ZodCodec",0,px,"$ZodCustom",0,pj,"$ZodCustomStringFormat",0,fU,"$ZodDate",0,fG,"$ZodDefault",0,pp,"$ZodDiscriminatedUnion",0,f3,"$ZodE164",0,fC,"$ZodEmail",0,ff,"$ZodEmoji",0,fh,"$ZodEnum",0,po,"$ZodFile",0,pl,"$ZodFunction",0,pT,"$ZodGUID",0,fc,"$ZodIPv4",0,fk,"$ZodIPv6",0,f$,"$ZodISODate",0,fS,"$ZodISODateTime",0,fw,"$ZodISODuration",0,fE,"$ZodISOTime",0,fx,"$ZodIntersection",0,f8,"$ZodJWT",0,fD,"$ZodKSUID",0,fb,"$ZodLazy",0,pA,"$ZodLiteral",0,ps,"$ZodMAC",0,fO,"$ZodMap",0,pr,"$ZodNaN",0,pb,"$ZodNanoID",0,fm,"$ZodNever",0,fK,"$ZodNonOptional",0,pg,"$ZodNull",0,fq,"$ZodNullable",0,pf,"$ZodNumber",0,fM,"$ZodNumberFormat",0,fz,"$ZodObject",0,f4,"$ZodObjectJIT",0,f6,"$ZodOptional",0,pd,"$ZodPipe",0,pw,"$ZodPrefault",0,pm,"$ZodPromise",0,pI,"$ZodReadonly",0,p$,"$ZodRecord",0,pt,"$ZodSet",0,pi,"$ZodString",0,fl,"$ZodStringFormat",0,fu,"$ZodSuccess",0,pv,"$ZodSymbol",0,fW,"$ZodTemplateLiteral",0,pP,"$ZodTransform",0,pu,"$ZodTuple",0,f7,"$ZodType",0,fs,"$ZodULID",0,fv,"$ZodURL",0,fp,"$ZodUUID",0,fd,"$ZodUndefined",0,fH,"$ZodUnion",0,f5,"$ZodUnknown",0,fF,"$ZodVoid",0,fV,"$ZodXID",0,f_,"clone",()=>u9,"isValidBase64",()=>fI,"isValidBase64URL",()=>fj,"isValidJWT",()=>fR],62429);var mR=e.i(21131),mR=mR,mD=e.i(86618),mD=mD;e.s([],64328),e.s(["ZodISODate",()=>mz,"ZodISODateTime",()=>mU,"ZodISODuration",()=>mW,"ZodISOTime",()=>mJ,"date",()=>mL,"datetime",()=>mM,"duration",()=>mH,"time",()=>mB],51047);let mU=uE("ZodISODateTime",(e,t)=>{fw.init(e,t),ge.init(e,t)});function mM(e){return hu(mU,e)}let mz=uE("ZodISODate",(e,t)=>{fS.init(e,t),ge.init(e,t)});function mL(e){return hc(mz,e)}let mJ=uE("ZodISOTime",(e,t)=>{fx.init(e,t),ge.init(e,t)});function mB(e){return hd(mJ,e)}let mW=uE("ZodISODuration",(e,t)=>{fE.init(e,t),ge.init(e,t)});function mH(e){return hf(mW,e)}let mq=(e,t)=>{cP.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>cA(e,t)},flatten:{value:t=>cI(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,uU,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,uU,2)}},isEmpty:{get:()=>0===e.issues.length}})},mZ=uE("ZodError",mq),mF=uE("ZodError",mq,{Parent:Error});e.s(["ZodError",0,mZ,"ZodRealError",0,mF],15874);let mK=cR(mF),mV=cU(mF),mG=cz(mF),mQ=cJ(mF),mX=cW(mF),mY=cq(mF),m0=cF(mF),m1=cV(mF),m4=cQ(mF),m6=cY(mF),m2=c1(mF),m5=c6(mF);e.s(["decode",0,mY,"decodeAsync",0,m1,"encode",0,mX,"encodeAsync",0,m0,"parse",0,mK,"parseAsync",0,mV,"safeDecode",0,m6,"safeDecodeAsync",0,m5,"safeEncode",0,m4,"safeEncodeAsync",0,m2,"safeParse",0,mG,"safeParseAsync",0,mQ],48804);let m3=uE("ZodType",(e,t)=>(fs.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(mD.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>u9(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>mK(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>mG(e,t,r),e.parseAsync=async(t,r)=>mV(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>mQ(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>mX(e,t,r),e.decode=(t,r)=>mY(e,t,r),e.encodeAsync=async(t,r)=>m0(e,t,r),e.decodeAsync=async(t,r)=>m1(e,t,r),e.safeEncode=(t,r)=>m4(e,t,r),e.safeDecode=(t,r)=>m6(e,t,r),e.safeEncodeAsync=async(t,r)=>m2(e,t,r),e.safeDecodeAsync=async(t,r)=>m5(e,t,r),e.refine=(t,r)=>e.check(vv(t,r)),e.superRefine=t=>e.check(mO(t)),e.overwrite=t=>e.check(h5(t)),e.optional=()=>yV(e),e.nullable=()=>yQ(e),e.nullish=()=>yV(yQ(e)),e.nonoptional=t=>y2(e,t),e.array=()=>yv(e),e.or=t=>yk([e,t]),e.and=t=>yT(e,t),e.transform=t=>vr(e,yF(t)),e.default=t=>y0(e,t),e.prefault=t=>y4(e,t),e.catch=t=>y9(e,t),e.pipe=t=>vr(e,t),e.readonly=()=>vo(e),e.describe=t=>{let r=e.clone();return pZ.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>pZ.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return pZ.get(e);let r=e.clone();return pZ.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),m8=uE("_ZodString",(e,t)=>{fl.init(e,t),m3.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(hQ(...t)),e.includes=(...t)=>e.check(h0(...t)),e.startsWith=(...t)=>e.check(h1(...t)),e.endsWith=(...t)=>e.check(h4(...t)),e.min=(...t)=>e.check(hV(...t)),e.max=(...t)=>e.check(hK(...t)),e.length=(...t)=>e.check(hG(...t)),e.nonempty=(...t)=>e.check(hV(1,...t)),e.lowercase=t=>e.check(hX(t)),e.uppercase=t=>e.check(hY(t)),e.trim=()=>e.check(h8()),e.normalize=(...t)=>e.check(h3(...t)),e.toLowerCase=()=>e.check(h9()),e.toUpperCase=()=>e.check(h7()),e.slugify=()=>e.check(me())}),m9=uE("ZodString",(e,t)=>{fl.init(e,t),m8.init(e,t),e.email=t=>e.check(pV(gt,t)),e.url=t=>e.check(p1(gc,t)),e.jwt=t=>e.check(hs(gW,t)),e.emoji=t=>e.check(p4(gp,t)),e.guid=t=>e.check(pG(gn,t)),e.uuid=t=>e.check(pQ(ga,t)),e.uuidv4=t=>e.check(pX(ga,t)),e.uuidv6=t=>e.check(pY(ga,t)),e.uuidv7=t=>e.check(p0(ga,t)),e.nanoid=t=>e.check(p6(gm,t)),e.guid=t=>e.check(pG(gn,t)),e.cuid=t=>e.check(p2(gy,t)),e.cuid2=t=>e.check(p5(g_,t)),e.ulid=t=>e.check(p3(gw,t)),e.base64=t=>e.check(hi(gU,t)),e.base64url=t=>e.check(ha(gz,t)),e.xid=t=>e.check(p8(gx,t)),e.ksuid=t=>e.check(p9(gk,t)),e.ipv4=t=>e.check(p7(gO,t)),e.ipv6=t=>e.check(he(gA,t)),e.cidrv4=t=>e.check(hr(gN,t)),e.cidrv6=t=>e.check(hn(gR,t)),e.e164=t=>e.check(ho(gJ,t)),e.datetime=t=>e.check(mM(t)),e.date=t=>e.check(mL(t)),e.time=t=>e.check(mB(t)),e.duration=t=>e.check(mH(t))});function m7(e){return pF(m9,e)}let ge=uE("ZodStringFormat",(e,t)=>{fu.init(e,t),m8.init(e,t)}),gt=uE("ZodEmail",(e,t)=>{ff.init(e,t),ge.init(e,t)});function gr(e){return pV(gt,e)}let gn=uE("ZodGUID",(e,t)=>{fc.init(e,t),ge.init(e,t)});function gi(e){return pG(gn,e)}let ga=uE("ZodUUID",(e,t)=>{fd.init(e,t),ge.init(e,t)});function go(e){return pQ(ga,e)}function gs(e){return pX(ga,e)}function gl(e){return pY(ga,e)}function gu(e){return p0(ga,e)}let gc=uE("ZodURL",(e,t)=>{fp.init(e,t),ge.init(e,t)});function gd(e){return p1(gc,e)}function gf(e){return p1(gc,{protocol:/^https?$/,hostname:mR.domain,...mD.normalizeParams(e)})}let gp=uE("ZodEmoji",(e,t)=>{fh.init(e,t),ge.init(e,t)});function gh(e){return p4(gp,e)}let gm=uE("ZodNanoID",(e,t)=>{fm.init(e,t),ge.init(e,t)});function gg(e){return p6(gm,e)}let gy=uE("ZodCUID",(e,t)=>{fg.init(e,t),ge.init(e,t)});function gv(e){return p2(gy,e)}let g_=uE("ZodCUID2",(e,t)=>{fy.init(e,t),ge.init(e,t)});function gb(e){return p5(g_,e)}let gw=uE("ZodULID",(e,t)=>{fv.init(e,t),ge.init(e,t)});function gS(e){return p3(gw,e)}let gx=uE("ZodXID",(e,t)=>{f_.init(e,t),ge.init(e,t)});function gE(e){return p8(gx,e)}let gk=uE("ZodKSUID",(e,t)=>{fb.init(e,t),ge.init(e,t)});function g$(e){return p9(gk,e)}let gO=uE("ZodIPv4",(e,t)=>{fk.init(e,t),ge.init(e,t)});function gP(e){return p7(gO,e)}let gT=uE("ZodMAC",(e,t)=>{fO.init(e,t),ge.init(e,t)});function gI(e){return ht(gT,e)}let gA=uE("ZodIPv6",(e,t)=>{f$.init(e,t),ge.init(e,t)});function gj(e){return he(gA,e)}let gN=uE("ZodCIDRv4",(e,t)=>{fP.init(e,t),ge.init(e,t)});function gC(e){return hr(gN,e)}let gR=uE("ZodCIDRv6",(e,t)=>{fT.init(e,t),ge.init(e,t)});function gD(e){return hn(gR,e)}let gU=uE("ZodBase64",(e,t)=>{fA.init(e,t),ge.init(e,t)});function gM(e){return hi(gU,e)}let gz=uE("ZodBase64URL",(e,t)=>{fN.init(e,t),ge.init(e,t)});function gL(e){return ha(gz,e)}let gJ=uE("ZodE164",(e,t)=>{fC.init(e,t),ge.init(e,t)});function gB(e){return ho(gJ,e)}let gW=uE("ZodJWT",(e,t)=>{fD.init(e,t),ge.init(e,t)});function gH(e){return hs(gW,e)}let gq=uE("ZodCustomStringFormat",(e,t)=>{fU.init(e,t),ge.init(e,t)});function gZ(e,t,r={}){return mj(gq,e,t,r)}function gF(e){return mj(gq,"hostname",mR.hostname,e)}function gK(e){return mj(gq,"hex",mR.hex,e)}function gV(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,i=mR[n];if(!i)throw Error(`Unrecognized hash format: ${n}`);return mj(gq,n,i,t)}let gG=uE("ZodNumber",(e,t)=>{fM.init(e,t),m3.init(e,t),e.gt=(t,r)=>e.check(hM(t,r)),e.gte=(t,r)=>e.check(hz(t,r)),e.min=(t,r)=>e.check(hz(t,r)),e.lt=(t,r)=>e.check(hD(t,r)),e.lte=(t,r)=>e.check(hU(t,r)),e.max=(t,r)=>e.check(hU(t,r)),e.int=t=>e.check(gY(t)),e.safe=t=>e.check(gY(t)),e.positive=t=>e.check(hM(0,t)),e.nonnegative=t=>e.check(hz(0,t)),e.negative=t=>e.check(hD(0,t)),e.nonpositive=t=>e.check(hU(0,t)),e.multipleOf=(t,r)=>e.check(hH(t,r)),e.step=(t,r)=>e.check(hH(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function gQ(e){return hp(gG,e)}let gX=uE("ZodNumberFormat",(e,t)=>{fz.init(e,t),gG.init(e,t)});function gY(e){return hm(gX,e)}function g0(e){return hg(gX,e)}function g1(e){return hy(gX,e)}function g4(e){return hv(gX,e)}function g6(e){return h_(gX,e)}let g2=uE("ZodBoolean",(e,t)=>{fL.init(e,t),m3.init(e,t)});function g5(e){return hb(g2,e)}let g3=uE("ZodBigInt",(e,t)=>{fJ.init(e,t),m3.init(e,t),e.gte=(t,r)=>e.check(hz(t,r)),e.min=(t,r)=>e.check(hz(t,r)),e.gt=(t,r)=>e.check(hM(t,r)),e.gte=(t,r)=>e.check(hz(t,r)),e.min=(t,r)=>e.check(hz(t,r)),e.lt=(t,r)=>e.check(hD(t,r)),e.lte=(t,r)=>e.check(hU(t,r)),e.max=(t,r)=>e.check(hU(t,r)),e.positive=t=>e.check(hM(BigInt(0),t)),e.negative=t=>e.check(hD(BigInt(0),t)),e.nonpositive=t=>e.check(hU(BigInt(0),t)),e.nonnegative=t=>e.check(hz(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(hH(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function g8(e){return hS(g3,e)}let g9=uE("ZodBigIntFormat",(e,t)=>{fB.init(e,t),g3.init(e,t)});function g7(e){return hE(g9,e)}function ye(e){return hk(g9,e)}let yt=uE("ZodSymbol",(e,t)=>{fW.init(e,t),m3.init(e,t)});function yr(e){return h$(yt,e)}let yn=uE("ZodUndefined",(e,t)=>{fH.init(e,t),m3.init(e,t)});function yi(e){return hO(yn,e)}let ya=uE("ZodNull",(e,t)=>{fq.init(e,t),m3.init(e,t)});function yo(e){return hP(ya,e)}let ys=uE("ZodAny",(e,t)=>{fZ.init(e,t),m3.init(e,t)});function yl(){return hT(ys)}let yu=uE("ZodUnknown",(e,t)=>{fF.init(e,t),m3.init(e,t)});function yc(){return hI(yu)}let yd=uE("ZodNever",(e,t)=>{fK.init(e,t),m3.init(e,t)});function yf(e){return hA(yd,e)}let yp=uE("ZodVoid",(e,t)=>{fV.init(e,t),m3.init(e,t)});function yh(e){return hj(yp,e)}let ym=uE("ZodDate",(e,t)=>{fG.init(e,t),m3.init(e,t),e.min=(t,r)=>e.check(hz(t,r)),e.max=(t,r)=>e.check(hU(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function yg(e){return hN(ym,e)}let yy=uE("ZodArray",(e,t)=>{fX.init(e,t),m3.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(hV(t,r)),e.nonempty=t=>e.check(hV(1,t)),e.max=(t,r)=>e.check(hK(t,r)),e.length=(t,r)=>e.check(hG(t,r)),e.unwrap=()=>e.element});function yv(e,t){return mt(yy,e,t)}function y_(e){return yL(Object.keys(e._zod.def.shape))}let yb=uE("ZodObject",(e,t)=>{f6.init(e,t),m3.init(e,t),mD.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>yL(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:yc()}),e.loose=()=>e.clone({...e._zod.def,catchall:yc()}),e.strict=()=>e.clone({...e._zod.def,catchall:yf()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>mD.extend(e,t),e.safeExtend=t=>mD.safeExtend(e,t),e.merge=t=>mD.merge(e,t),e.pick=t=>mD.pick(e,t),e.omit=t=>mD.omit(e,t),e.partial=(...t)=>mD.partial(yK,e,t[0]),e.required=(...t)=>mD.required(y6,e,t[0])});function yw(e,t){return new yb({type:"object",shape:e??{},...mD.normalizeParams(t)})}function yS(e,t){return new yb({type:"object",shape:e,catchall:yf(),...mD.normalizeParams(t)})}function yx(e,t){return new yb({type:"object",shape:e,catchall:yc(),...mD.normalizeParams(t)})}let yE=uE("ZodUnion",(e,t)=>{f5.init(e,t),m3.init(e,t),e.options=t.options});function yk(e,t){return new yE({type:"union",options:e,...mD.normalizeParams(t)})}let y$=uE("ZodDiscriminatedUnion",(e,t)=>{yE.init(e,t),f3.init(e,t)});function yO(e,t,r){return new y$({type:"union",options:t,discriminator:e,...mD.normalizeParams(r)})}let yP=uE("ZodIntersection",(e,t)=>{f8.init(e,t),m3.init(e,t)});function yT(e,t){return new yP({type:"intersection",left:e,right:t})}let yI=uE("ZodTuple",(e,t)=>{f7.init(e,t),m3.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function yA(e,t,r){let n=t instanceof fs,i=n?r:t;return new yI({type:"tuple",items:e,rest:n?t:null,...mD.normalizeParams(i)})}let yj=uE("ZodRecord",(e,t)=>{pt.init(e,t),m3.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function yN(e,t,r){return new yj({type:"record",keyType:e,valueType:t,...mD.normalizeParams(r)})}function yC(e,t,r){let n=u9(e);return n._zod.values=void 0,new yj({type:"record",keyType:n,valueType:t,...mD.normalizeParams(r)})}let yR=uE("ZodMap",(e,t)=>{pr.init(e,t),m3.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function yD(e,t,r){return new yR({type:"map",keyType:e,valueType:t,...mD.normalizeParams(r)})}let yU=uE("ZodSet",(e,t)=>{pi.init(e,t),m3.init(e,t),e.min=(...t)=>e.check(hZ(...t)),e.nonempty=t=>e.check(hZ(1,t)),e.max=(...t)=>e.check(hq(...t)),e.size=(...t)=>e.check(hF(...t))});function yM(e,t){return new yU({type:"set",valueType:e,...mD.normalizeParams(t)})}let yz=uE("ZodEnum",(e,t)=>{po.init(e,t),m3.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{let i={};for(let n of e)if(r.has(n))i[n]=t.entries[n];else throw Error(`Key ${n} not found in enum`);return new yz({...t,checks:[],...mD.normalizeParams(n),entries:i})},e.exclude=(e,n)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new yz({...t,checks:[],...mD.normalizeParams(n),entries:i})}});function yL(e,t){return new yz({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...mD.normalizeParams(t)})}function yJ(e,t){return new yz({type:"enum",entries:e,...mD.normalizeParams(t)})}let yB=uE("ZodLiteral",(e,t)=>{ps.init(e,t),m3.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function yW(e,t){return new yB({type:"literal",values:Array.isArray(e)?e:[e],...mD.normalizeParams(t)})}let yH=uE("ZodFile",(e,t)=>{pl.init(e,t),m3.init(e,t),e.min=(t,r)=>e.check(hZ(t,r)),e.max=(t,r)=>e.check(hq(t,r)),e.mime=(t,r)=>e.check(h2(Array.isArray(t)?t:[t],r))});function yq(e){return mf(yH,e)}let yZ=uE("ZodTransform",(e,t)=>{pu.init(e,t),m3.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new uO(e.constructor.name);r.addIssue=n=>{"string"==typeof n?r.issues.push(mD.issue(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),r.issues.push(mD.issue(n)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}});function yF(e){return new yZ({type:"transform",transform:e})}let yK=uE("ZodOptional",(e,t)=>{pd.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yV(e){return new yK({type:"optional",innerType:e})}let yG=uE("ZodNullable",(e,t)=>{pf.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function yQ(e){return new yG({type:"nullable",innerType:e})}function yX(e){return yV(yQ(e))}let yY=uE("ZodDefault",(e,t)=>{pp.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function y0(e,t){return new yY({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():mD.shallowClone(t)}})}let y1=uE("ZodPrefault",(e,t)=>{pm.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function y4(e,t){return new y1({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():mD.shallowClone(t)}})}let y6=uE("ZodNonOptional",(e,t)=>{pg.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function y2(e,t){return new y6({type:"nonoptional",innerType:e,...mD.normalizeParams(t)})}let y5=uE("ZodSuccess",(e,t)=>{pv.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function y3(e){return new y5({type:"success",innerType:e})}let y8=uE("ZodCatch",(e,t)=>{p_.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function y9(e,t){return new y8({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let y7=uE("ZodNaN",(e,t)=>{pb.init(e,t),m3.init(e,t)});function ve(e){return hR(y7,e)}let vt=uE("ZodPipe",(e,t)=>{pw.init(e,t),m3.init(e,t),e.in=t.in,e.out=t.out});function vr(e,t){return new vt({type:"pipe",in:e,out:t})}let vn=uE("ZodCodec",(e,t)=>{vt.init(e,t),px.init(e,t)});function vi(e,t,r){return new vn({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let va=uE("ZodReadonly",(e,t)=>{p$.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function vo(e){return new va({type:"readonly",innerType:e})}let vs=uE("ZodTemplateLiteral",(e,t)=>{pP.init(e,t),m3.init(e,t)});function vl(e,t){return new vs({type:"template_literal",parts:e,...mD.normalizeParams(t)})}let vu=uE("ZodLazy",(e,t)=>{pA.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.getter()});function vc(e){return new vu({type:"lazy",getter:e})}let vd=uE("ZodPromise",(e,t)=>{pI.init(e,t),m3.init(e,t),e.unwrap=()=>e._zod.def.innerType});function vf(e){return new vd({type:"promise",innerType:e})}let vp=uE("ZodFunction",(e,t)=>{pT.init(e,t),m3.init(e,t)});function vh(e){return new vp({type:"function",input:Array.isArray(e?.input)?yA(e?.input):e?.input??yv(yc()),output:e?.output??yc()})}let vm=uE("ZodCustom",(e,t)=>{pj.init(e,t),m3.init(e,t)});function vg(e){let t=new dq({check:"custom"});return t._zod.check=e,t}function vy(e,t){return mk(vm,e??(()=>!0),t)}function vv(e,t={}){return m$(vm,e,t)}function v_(e){return mO(e)}let vb=mT,vw=mI;function vS(e,t={error:`Input not instance of ${e.name}`}){let r=new vm({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...mD.normalizeParams(t)});return r._zod.bag.Class=e,r}let vx=(...e)=>mA({Codec:vn,Boolean:g2,String:m9},...e);function vE(e){let t=vc(()=>yk([m7(e),gQ(),g5(),yo(),yv(t),yN(m7(),t)]));return t}function vk(e,t){return vr(yF(e),t)}let v$={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function vO(e){uT({customError:e})}function vP(){return uT().customError}function vT(e){return pK(m9,e)}function vI(e){return hh(gG,e)}function vA(e){return hw(g2,e)}function vj(e){return hx(g3,e)}function vN(e){return hC(ym,e)}J||(J={}),e.s(["ZodFirstPartyTypeKind",()=>J,"ZodIssueCode",0,v$,"getErrorMap",()=>vP,"setErrorMap",()=>vO],33137),e.s(["bigint",()=>vj,"boolean",()=>vA,"date",()=>vN,"number",()=>vI,"string",()=>vT],34512),uT(pR()),e.s([],54048),e.i(54048),e.i(82811),e.i(27438),e.i(15143),e.i(67021),e.i(62429),e.i(36608),e.i(22824);var vC=mD,vR=mR;e.i(79113),e.s(["ar",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${ct(r.values[0])}`;return`  :     : ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${n.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${uD(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}})}},"az",0,function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${ct(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])}`;return` :    ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=pC(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin??""}  ${n.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=pC(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin}  ${n.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"bg",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])}`;return` :    ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ca",0,function(){let e,t;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${ct(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${uD(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",n=e[r.origin]??null;if(n)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${n.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",n=e[r.origin]??null;if(n)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${n.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let e,t;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${ct(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${uD(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let e,t,r;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n=>{var i,a,o,s;switch(n.code){case"invalid_type":return`Ugyldigt input: forventede ${t[i=n.expected]??i}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(n.input)]??a}`;case"invalid_value":if(1===n.values.length)return`Ugyldig v\xe6rdi: forventede ${ct(n.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${uD(n.values,"|")}`;case"too_big":{let r=n.inclusive?"<=":"<",i=e[n.origin]??null,a=t[o=n.origin]??o;if(i)return`For stor: forventede ${a??"value"} ${i.verb} ${r} ${n.maximum.toString()} ${i.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${r} ${n.maximum.toString()}`}case"too_small":{let r=n.inclusive?">=":">",i=e[n.origin]??null,a=t[s=n.origin]??s;if(i)return`For lille: forventede ${a} ${i.verb} ${r} ${n.minimum.toString()} ${i.unit}`;return`For lille: forventede ${a} havde ${r} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ugyldig streng: skal starte med "${n.prefix}"`;if("ends_with"===n.format)return`Ugyldig streng: skal ende med "${n.suffix}"`;if("includes"===n.format)return`Ugyldig streng: skal indeholde "${n.includes}"`;if("regex"===n.format)return`Ugyldig streng: skal matche m\xf8nsteret ${n.pattern}`;return`Ugyldig ${r[n.format]??n.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${uD(n.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${n.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${n.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${ct(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${n.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${n.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${uD(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,pR,"eo",0,function(){let e,t;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiis ${r.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${ct(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${n.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${n.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}})}},"es",0,function(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let n={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${ct(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${uD(t.values,"|")}`;case"too_big":{let n=t.inclusive?"<=":"<",i=e[t.origin]??null,a=r(t.origin);if(i)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${n}${t.maximum.toString()} ${i.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${n}${t.maximum.toString()}`}case"too_small":{let n=t.inclusive?">=":">",i=e[t.origin]??null,a=r(t.origin);if(i)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${n}${t.minimum.toString()} ${i.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${n}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${n[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${uD(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}},"fa",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])} `;return` :    ${uD(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}})}},"fi",0,function(){let e,t;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${ct(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Liian suuri: ${n.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${n.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Liian pieni: ${n.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${n.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${uD(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${ct(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${uD(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Trop grand : ${r.origin??"valeur"} doit ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Trop petit : ${r.origin} doit ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${uD(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${ct(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",n=e[r.origin]??null;if(n)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${n.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",n=e[r.origin]??null;if(n)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${uD(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let e,t,r,n,i,a,o,s;return{localeError:(e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},r=t=>t?e[t]:void 0,n=t=>{let n=r(t);return n?n.label:t??e.unknown.label},i=e=>`${n(e)}`,a=e=>{let t=r(e);return"f"===(t?.gender??"m")?" ":" "},o=e=>e?t[e]??null:null,s={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},t=>{switch(t.code){case"invalid_type":{let r=n(t.expected),i=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"object";default:return t}})(t.input),a=e[i]?.label??i;return`  :   ${r},  ${a}`}case"invalid_value":{if(1===t.values.length)return`  :    ${ct(t.values[0])}`;let e=t.values.map(e=>ct(e));if(2===t.values.length)return`  :    ${e[0]}  ${e[1]}`;let r=e[e.length-1],n=e.slice(0,-1).join(", ");return`  :    ${n}  ${r}`}case"too_big":{let e=o(t.origin),r=i(t.origin??"value");if("string"===t.origin)return`${e?.longLabel??""} : ${r}   ${t.maximum.toString()} ${e?.unit??""} ${t.inclusive?" ":" "}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.maximum}`:` -${t.maximum}`;return` : ${r}   ${e}`}if("array"===t.origin||"set"===t.origin){let n="set"===t.origin?"":"",i=t.inclusive?`${t.maximum} ${e?.unit??""}  `:` -${t.maximum} ${e?.unit??""}`;return` : ${r} ${n}  ${i}`.trim()}let n=t.inclusive?"<=":"<",s=a(t.origin??"value");if(e?.unit)return`${e.longLabel} : ${r} ${s} ${n}${t.maximum.toString()} ${e.unit}`;return`${e?.longLabel??""} : ${r} ${s} ${n}${t.maximum.toString()}`}case"too_small":{let e=o(t.origin),r=i(t.origin??"value");if("string"===t.origin)return`${e?.shortLabel??""} : ${r}   ${t.minimum.toString()} ${e?.unit??""} ${t.inclusive?" ":""}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.minimum}`:` -${t.minimum}`;return` : ${r}   ${e}`}if("array"===t.origin||"set"===t.origin){let n="set"===t.origin?"":"";if(1===t.minimum&&t.inclusive){let e=(t.origin,"  ");return` : ${r} ${n}  ${e}`}let i=t.inclusive?`${t.minimum} ${e?.unit??""}  `:` -${t.minimum} ${e?.unit??""}`;return` : ${r} ${n}  ${i}`.trim()}let n=t.inclusive?">=":">",s=a(t.origin??"value");if(e?.unit)return`${e.shortLabel} : ${r} ${s} ${n}${t.minimum.toString()} ${e.unit}`;return`${e?.shortLabel??""} : ${r} ${s} ${n}${t.minimum.toString()}`}case"invalid_format":{if("starts_with"===t.format)return`    "${t.prefix}"`;if("ends_with"===t.format)return`    "${t.suffix}"`;if("includes"===t.format)return`   "${t.includes}"`;if("regex"===t.format)return`    ${t.pattern}`;let e=s[t.format],r=e?.label??t.format,n=e?.gender??"m";return`${r}  ${"f"===n?"":""}`}case"not_multiple_of":return`  :     ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"":""}  ${t.keys.length>1?"":""}: ${uD(t.keys,", ")}`;case"invalid_key":return`   `;case"invalid_union":return"  ";case"invalid_element":{let e=i(t.origin??"array");return`   ${e}`}default:return`  `}})}},"hu",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${ct(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${n.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${n.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"id",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${ct(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}},"is",0,function(){let e,t;return{localeError:(e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${ct(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${n.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${n.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${uD(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}})}},"it",0,function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${ct(r.values[0])}`;return`Opzione non valida: atteso uno tra ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${n.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${n.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${uD(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}},"ja",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${ct(r.values[0])}`;return`: ${uD(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""}${r.maximum.toString()}${n.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin}${r.minimum.toString()}${n.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${uD(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}})}},"ka",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])}`;return` :  - ${uD(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}})}},"kh",0,function(){return pD()},"km",0,pD,"ko",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])}  `;return` : ${uD(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,a=i?.unit??"";if(i)return`${r.origin??""}  : ${r.maximum.toString()}${a} ${t}${n}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${n}`}case"too_small":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,a=i?.unit??"";if(i)return`${r.origin??""}  : ${r.minimum.toString()}${a} ${t}${n}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${n}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${uD(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,n,i){let a=e[t]??null;return null===a?a:{unit:a.unit[r],verb:a.verb[i][n?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":var n;return`Gautas tipas ${pU(typeof(n=e.input),n)}, o tiktasi - ${pU(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${ct(e.values[0])}`;return`Privalo bti vienas i ${uD(e.values,"|")} pasirinkim`;case"too_big":{let r=pU(e.origin),n=t(e.origin,pz(Number(e.maximum)),e.inclusive??!1,"smaller");if(n?.verb)return`${pM(r??e.origin??"reikm")} ${n.verb} ${e.maximum.toString()} ${n.unit??"element"}`;let i=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${pM(r??e.origin??"reikm")} turi bti ${i} ${e.maximum.toString()} ${n?.unit}`}case"too_small":{let r=pU(e.origin),n=t(e.origin,pz(Number(e.minimum)),e.inclusive??!1,"bigger");if(n?.verb)return`${pM(r??e.origin??"reikm")} ${n.verb} ${e.minimum.toString()} ${n.unit??"element"}`;let i=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${pM(r??e.origin??"reikm")} turi bti ${i} ${e.minimum.toString()} ${n?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${uD(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=pU(e.origin);return`${pM(t??e.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${ct(r.values[0])}`;return` :    ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ms",0,function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${ct(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: dijangka ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${uD(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}},"nl",0,function(){let e,t;return{localeError:(e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${ct(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Te groot: verwacht dat ${r.origin??"waarde"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"elementen"}`;return`Te groot: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Te klein: verwacht dat ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Te klein: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}},"no",0,function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${ct(r.values[0])}`;return`Ugyldig valg: forventet en av ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${n.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${n.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${uD(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}},"ota",0,function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${ct(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${n.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${n.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${ct(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${n.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${n.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])} `;return` :    ${uD(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}})}},"pt",0,function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${ct(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${n.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${n.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])}`;return` :    ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=pL(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=pL(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}},"sl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${ct(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${n.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${n.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${uD(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}},"sv",0,function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${ct(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${n.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${uD(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}})}},"ta",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${ct(r.values[0])}`;return` :  ${uD(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${t}${r.minimum.toString()} ${n.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}})}},"th",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${ct(r.values[0])}`;return`:  ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${uD(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}})}},"tr",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${ct(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${n.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${uD(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return pJ()},"uk",0,pJ,"ur",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${ct(r.values[0])}  `;return` : ${uD(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${uD(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}})}},"vi",0,function(){let e,t;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${ct(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Qu\xe1 nh: mong i ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${uD(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let e,t;return{localeError:(e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${ct(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${n.verb} ${t}${r.maximum} ${n.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${n.verb} ${t}${r.minimum} ${n.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${uD(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}})}},"zhCN",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${ct(r.values[0])}`;return` ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${uD(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}})}},"zhTW",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${ct(r.values[0])}`;return` ${uD(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${uD(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}})}}],60544);var vD=e.i(60544);e.i(52637),e.i(73911),e.i(62061),e.i(88513);var vU=e.i(33145);e.s(["$ZodAny",0,fZ,"$ZodArray",0,fX,"$ZodAsyncError",()=>u$,"$ZodBase64",0,fA,"$ZodBase64URL",0,fN,"$ZodBigInt",0,fJ,"$ZodBigIntFormat",0,fB,"$ZodBoolean",0,fL,"$ZodCIDRv4",0,fP,"$ZodCIDRv6",0,fT,"$ZodCUID",0,fg,"$ZodCUID2",0,fy,"$ZodCatch",0,p_,"$ZodCheck",0,dq,"$ZodCheckBigIntFormat",0,dQ,"$ZodCheckEndsWith",0,fe,"$ZodCheckGreaterThan",0,dK,"$ZodCheckIncludes",0,d9,"$ZodCheckLengthEquals",0,d6,"$ZodCheckLessThan",0,dF,"$ZodCheckLowerCase",0,d3,"$ZodCheckMaxLength",0,d1,"$ZodCheckMaxSize",0,dX,"$ZodCheckMimeType",0,fn,"$ZodCheckMinLength",0,d4,"$ZodCheckMinSize",0,dY,"$ZodCheckMultipleOf",0,dV,"$ZodCheckNumberFormat",0,dG,"$ZodCheckOverwrite",0,fi,"$ZodCheckProperty",0,fr,"$ZodCheckRegex",0,d5,"$ZodCheckSizeEquals",0,d0,"$ZodCheckStartsWith",0,d7,"$ZodCheckStringFormat",0,d2,"$ZodCheckUpperCase",0,d8,"$ZodCodec",0,px,"$ZodCustom",0,pj,"$ZodCustomStringFormat",0,fU,"$ZodDate",0,fG,"$ZodDefault",0,pp,"$ZodDiscriminatedUnion",0,f3,"$ZodE164",0,fC,"$ZodEmail",0,ff,"$ZodEmoji",0,fh,"$ZodEncodeError",()=>uO,"$ZodEnum",0,po,"$ZodError",0,cP,"$ZodFile",0,pl,"$ZodFunction",0,pT,"$ZodGUID",0,fc,"$ZodIPv4",0,fk,"$ZodIPv6",0,f$,"$ZodISODate",0,fS,"$ZodISODateTime",0,fw,"$ZodISODuration",0,fE,"$ZodISOTime",0,fx,"$ZodIntersection",0,f8,"$ZodJWT",0,fD,"$ZodKSUID",0,fb,"$ZodLazy",0,pA,"$ZodLiteral",0,ps,"$ZodMAC",0,fO,"$ZodMap",0,pr,"$ZodNaN",0,pb,"$ZodNanoID",0,fm,"$ZodNever",0,fK,"$ZodNonOptional",0,pg,"$ZodNull",0,fq,"$ZodNullable",0,pf,"$ZodNumber",0,fM,"$ZodNumberFormat",0,fz,"$ZodObject",0,f4,"$ZodObjectJIT",0,f6,"$ZodOptional",0,pd,"$ZodPipe",0,pw,"$ZodPrefault",0,pm,"$ZodPromise",0,pI,"$ZodReadonly",0,p$,"$ZodRealError",0,cT,"$ZodRecord",0,pt,"$ZodRegistry",()=>pH,"$ZodSet",0,pi,"$ZodString",0,fl,"$ZodStringFormat",0,fu,"$ZodSuccess",0,pv,"$ZodSymbol",0,fW,"$ZodTemplateLiteral",0,pP,"$ZodTransform",0,pu,"$ZodTuple",0,f7,"$ZodType",0,fs,"$ZodULID",0,fv,"$ZodURL",0,fp,"$ZodUUID",0,fd,"$ZodUndefined",0,fH,"$ZodUnion",0,f5,"$ZodUnknown",0,fF,"$ZodVoid",0,fV,"$ZodXID",0,f_,"$brand",0,uk,"$constructor",()=>uE,"$input",0,pW,"$output",0,pB,"Doc",()=>fa,"JSONSchema",0,vU,"JSONSchemaGenerator",()=>mN,"NEVER",0,ux,"TimePrecision",0,hl,"_any",()=>hT,"_array",()=>mt,"_base64",()=>hi,"_base64url",()=>ha,"_bigint",()=>hS,"_boolean",()=>hb,"_catch",()=>m_,"_check",()=>mP,"_cidrv4",()=>hr,"_cidrv6",()=>hn,"_coercedBigint",()=>hx,"_coercedBoolean",()=>hw,"_coercedDate",()=>hC,"_coercedNumber",()=>hh,"_coercedString",()=>pK,"_cuid",()=>p2,"_cuid2",()=>p5,"_custom",()=>mk,"_date",()=>hN,"_decode",0,cq,"_decodeAsync",0,cV,"_default",()=>mg,"_discriminatedUnion",()=>mn,"_e164",()=>ho,"_email",()=>pV,"_emoji",()=>p4,"_encode",0,cW,"_encodeAsync",0,cF,"_endsWith",()=>h4,"_enum",()=>mu,"_file",()=>mf,"_float32",()=>hg,"_float64",()=>hy,"_gt",()=>hM,"_gte",()=>hz,"_guid",()=>pG,"_includes",()=>h0,"_int",()=>hm,"_int32",()=>hv,"_int64",()=>hE,"_intersection",()=>mi,"_ipv4",()=>p7,"_ipv6",()=>he,"_isoDate",()=>hc,"_isoDateTime",()=>hu,"_isoDuration",()=>hf,"_isoTime",()=>hd,"_jwt",()=>hs,"_ksuid",()=>p9,"_lazy",()=>mx,"_length",()=>hG,"_literal",()=>md,"_lowercase",()=>hX,"_lt",()=>hD,"_lte",()=>hU,"_mac",()=>ht,"_map",()=>ms,"_max",()=>hU,"_maxLength",()=>hK,"_maxSize",()=>hq,"_mime",()=>h2,"_min",()=>hz,"_minLength",()=>hV,"_minSize",()=>hZ,"_multipleOf",()=>hH,"_nan",()=>hR,"_nanoid",()=>p6,"_nativeEnum",()=>mc,"_negative",()=>hJ,"_never",()=>hA,"_nonnegative",()=>hW,"_nonoptional",()=>my,"_nonpositive",()=>hB,"_normalize",()=>h3,"_null",()=>hP,"_nullable",()=>mm,"_number",()=>hp,"_optional",()=>mh,"_overwrite",()=>h5,"_parse",0,cR,"_parseAsync",0,cU,"_pipe",()=>mb,"_positive",()=>hL,"_promise",()=>mE,"_property",()=>h6,"_readonly",()=>mw,"_record",()=>mo,"_refine",()=>m$,"_regex",()=>hQ,"_safeDecode",0,cY,"_safeDecodeAsync",0,c6,"_safeEncode",0,cQ,"_safeEncodeAsync",0,c1,"_safeParse",0,cz,"_safeParseAsync",0,cJ,"_set",()=>ml,"_size",()=>hF,"_slugify",()=>me,"_startsWith",()=>h1,"_string",()=>pF,"_stringFormat",()=>mj,"_stringbool",()=>mA,"_success",()=>mv,"_superRefine",()=>mO,"_symbol",()=>h$,"_templateLiteral",()=>mS,"_toLowerCase",()=>h9,"_toUpperCase",()=>h7,"_transform",()=>mp,"_trim",()=>h8,"_tuple",()=>ma,"_uint32",()=>h_,"_uint64",()=>hk,"_ulid",()=>p3,"_undefined",()=>hO,"_union",()=>mr,"_unknown",()=>hI,"_uppercase",()=>hY,"_url",()=>p1,"_uuid",()=>pQ,"_uuidv4",()=>pX,"_uuidv6",()=>pY,"_uuidv7",()=>p0,"_void",()=>hj,"_xid",()=>p8,"clone",()=>u9,"config",()=>uT,"decode",0,cZ,"decodeAsync",0,cG,"describe",()=>mT,"encode",0,cH,"encodeAsync",0,cK,"flattenError",()=>cI,"formatError",()=>cA,"globalConfig",0,uP,"globalRegistry",0,pZ,"isValidBase64",()=>fI,"isValidBase64URL",()=>fj,"isValidJWT",()=>fR,"locales",0,vD,"meta",()=>mI,"parse",0,cD,"parseAsync",0,cM,"prettifyError",()=>cC,"regexes",0,vR,"registry",()=>pq,"safeDecode",0,c0,"safeDecodeAsync",0,c2,"safeEncode",0,cX,"safeEncodeAsync",0,c4,"safeParse",0,cL,"safeParseAsync",0,cB,"toDotPath",()=>cN,"toJSONSchema",()=>mC,"treeifyError",()=>cj,"util",0,vC,"version",0,fo],13007);var vM=e.i(13007);e.i(7855),e.i(64328),e.s(["endsWith",()=>h4,"gt",()=>hM,"gte",()=>hz,"includes",()=>h0,"length",()=>hG,"lowercase",()=>hX,"lt",()=>hD,"lte",()=>hU,"maxLength",()=>hK,"maxSize",()=>hq,"mime",()=>h2,"minLength",()=>hV,"minSize",()=>hZ,"multipleOf",()=>hH,"negative",()=>hJ,"nonnegative",()=>hW,"nonpositive",()=>hB,"normalize",()=>h3,"overwrite",()=>h5,"positive",()=>hL,"property",()=>h6,"regex",()=>hQ,"size",()=>hF,"slugify",()=>me,"startsWith",()=>h1,"toLowerCase",()=>h9,"toUpperCase",()=>h7,"trim",()=>h8,"uppercase",()=>hY],85648),e.i(85648),e.i(15874),e.i(48804),e.i(33137),e.s(["$brand",0,uk,"ZodFirstPartyTypeKind",()=>J,"ZodIssueCode",0,v$,"config",()=>uT,"getErrorMap",()=>vP,"setErrorMap",()=>vO],63203),e.i(63203);var mR=mR,mD=mD,vz=e.i(51047),vL=e.i(34512);e.s(["$brand",0,uk,"$input",0,pW,"$output",0,pB,"NEVER",0,ux,"TimePrecision",0,hl,"ZodAny",0,ys,"ZodArray",0,yy,"ZodBase64",0,gU,"ZodBase64URL",0,gz,"ZodBigInt",0,g3,"ZodBigIntFormat",0,g9,"ZodBoolean",0,g2,"ZodCIDRv4",0,gN,"ZodCIDRv6",0,gR,"ZodCUID",0,gy,"ZodCUID2",0,g_,"ZodCatch",0,y8,"ZodCodec",0,vn,"ZodCustom",0,vm,"ZodCustomStringFormat",0,gq,"ZodDate",0,ym,"ZodDefault",0,yY,"ZodDiscriminatedUnion",0,y$,"ZodE164",0,gJ,"ZodEmail",0,gt,"ZodEmoji",0,gp,"ZodEnum",0,yz,"ZodError",0,mZ,"ZodFile",0,yH,"ZodFirstPartyTypeKind",()=>J,"ZodFunction",0,vp,"ZodGUID",0,gn,"ZodIPv4",0,gO,"ZodIPv6",0,gA,"ZodISODate",0,mz,"ZodISODateTime",0,mU,"ZodISODuration",0,mW,"ZodISOTime",0,mJ,"ZodIntersection",0,yP,"ZodIssueCode",0,v$,"ZodJWT",0,gW,"ZodKSUID",0,gk,"ZodLazy",0,vu,"ZodLiteral",0,yB,"ZodMAC",0,gT,"ZodMap",0,yR,"ZodNaN",0,y7,"ZodNanoID",0,gm,"ZodNever",0,yd,"ZodNonOptional",0,y6,"ZodNull",0,ya,"ZodNullable",0,yG,"ZodNumber",0,gG,"ZodNumberFormat",0,gX,"ZodObject",0,yb,"ZodOptional",0,yK,"ZodPipe",0,vt,"ZodPrefault",0,y1,"ZodPromise",0,vd,"ZodReadonly",0,va,"ZodRealError",0,mF,"ZodRecord",0,yj,"ZodSet",0,yU,"ZodString",0,m9,"ZodStringFormat",0,ge,"ZodSuccess",0,y5,"ZodSymbol",0,yt,"ZodTemplateLiteral",0,vs,"ZodTransform",0,yZ,"ZodTuple",0,yI,"ZodType",0,m3,"ZodULID",0,gw,"ZodURL",0,gc,"ZodUUID",0,ga,"ZodUndefined",0,yn,"ZodUnion",0,yE,"ZodUnknown",0,yu,"ZodVoid",0,yp,"ZodXID",0,gx,"_ZodString",0,m8,"_default",()=>y0,"_function",()=>vh,"any",()=>yl,"array",()=>yv,"base64",()=>gM,"base64url",()=>gL,"bigint",()=>g8,"boolean",()=>g5,"catch",()=>y9,"check",()=>vg,"cidrv4",()=>gC,"cidrv6",()=>gD,"clone",()=>u9,"codec",()=>vi,"coerce",0,vL,"config",()=>uT,"core",0,vM,"cuid",()=>gv,"cuid2",()=>gb,"custom",()=>vy,"date",()=>yg,"decode",0,mY,"decodeAsync",0,m1,"describe",0,vb,"discriminatedUnion",()=>yO,"e164",()=>gB,"email",()=>gr,"emoji",()=>gh,"encode",0,mX,"encodeAsync",0,m0,"endsWith",()=>h4,"enum",()=>yL,"file",()=>yq,"flattenError",()=>cI,"float32",()=>g0,"float64",()=>g1,"formatError",()=>cA,"function",()=>vh,"getErrorMap",()=>vP,"globalRegistry",0,pZ,"gt",()=>hM,"gte",()=>hz,"guid",()=>gi,"hash",()=>gV,"hex",()=>gK,"hostname",()=>gF,"httpUrl",()=>gf,"includes",()=>h0,"instanceof",()=>vS,"int",()=>gY,"int32",()=>g4,"int64",()=>g7,"intersection",()=>yT,"ipv4",()=>gP,"ipv6",()=>gj,"iso",0,vz,"json",()=>vE,"jwt",()=>gH,"keyof",()=>y_,"ksuid",()=>g$,"lazy",()=>vc,"length",()=>hG,"literal",()=>yW,"locales",0,vD,"looseObject",()=>yx,"lowercase",()=>hX,"lt",()=>hD,"lte",()=>hU,"mac",()=>gI,"map",()=>yD,"maxLength",()=>hK,"maxSize",()=>hq,"meta",0,vw,"mime",()=>h2,"minLength",()=>hV,"minSize",()=>hZ,"multipleOf",()=>hH,"nan",()=>ve,"nanoid",()=>gg,"nativeEnum",()=>yJ,"negative",()=>hJ,"never",()=>yf,"nonnegative",()=>hW,"nonoptional",()=>y2,"nonpositive",()=>hB,"normalize",()=>h3,"null",()=>yo,"nullable",()=>yQ,"nullish",()=>yX,"number",()=>gQ,"object",()=>yw,"optional",()=>yV,"overwrite",()=>h5,"parse",0,mK,"parseAsync",0,mV,"partialRecord",()=>yC,"pipe",()=>vr,"positive",()=>hL,"prefault",()=>y4,"preprocess",()=>vk,"prettifyError",()=>cC,"promise",()=>vf,"property",()=>h6,"readonly",()=>vo,"record",()=>yN,"refine",()=>vv,"regex",()=>hQ,"regexes",()=>mR,"registry",()=>pq,"safeDecode",0,m6,"safeDecodeAsync",0,m5,"safeEncode",0,m4,"safeEncodeAsync",0,m2,"safeParse",0,mG,"safeParseAsync",0,mQ,"set",()=>yM,"setErrorMap",()=>vO,"size",()=>hF,"slugify",()=>me,"startsWith",()=>h1,"strictObject",()=>yS,"string",()=>m7,"stringFormat",()=>gZ,"stringbool",0,vx,"success",()=>y3,"superRefine",()=>v_,"symbol",()=>yr,"templateLiteral",()=>vl,"toJSONSchema",()=>mC,"toLowerCase",()=>h9,"toUpperCase",()=>h7,"transform",()=>yF,"treeifyError",()=>cj,"trim",()=>h8,"tuple",()=>yA,"uint32",()=>g6,"uint64",()=>ye,"ulid",()=>gS,"undefined",()=>yi,"union",()=>yk,"unknown",()=>yc,"uppercase",()=>hY,"url",()=>gd,"util",()=>mD,"uuid",()=>go,"uuidv4",()=>gs,"uuidv6",()=>gl,"uuidv7",()=>gu,"void",()=>yh,"xid",()=>gE],62810);var vJ=e.i(62810);e.s(["default",0,vJ],80420),e.i(80420);let vB={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:0xffffff,INT32_MIN:-0x80000000,INT32_MAX:0x7fffffff,INT32_UNSIGNED_MAX:0xffffffff,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-0x8000000000000000n,INT64_MAX:0x7fffffffffffffffn,INT64_UNSIGNED_MAX:0xffffffffffffffffn};function vW(e,t){return t.includes(e.columnType)}function vH(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}let vq=vJ.union([vJ.string(),vJ.number(),vJ.boolean(),vJ.null()]),vZ=vJ.union([vq,vJ.record(vJ.string(),vJ.any()),vJ.array(vJ.any())]),vF=vJ.custom(e=>e instanceof Buffer);function vK(e){return aN(e)?a8(e):e[ax].selectedFields}function vV(e,t,r,n){let i={};for(let[a,o]of Object.entries(e)){if(!i6(o,i9)&&!i6(o,aM)&&!i6(o,aM.Aliased)&&"object"==typeof o){let e=aN(o)||"object"==typeof o&&null!==o&&aK in o?vK(o):o;i[a]=vV(e,t[a]??{},r,n);continue}let e=t[a];if(void 0!==e&&"function"!=typeof e){i[a]=e;continue}let s=i6(o,i9)?o:void 0,l=s?function e(t,r){let n,i=r?.zodInstance??vJ,a=r?.coerce??{};return vH(t)&&(n=t.enumValues.length?i.enum(t.enumValues):i.string()),n||(vW(t,["PgGeometry","PgPointTuple"])?n=i.tuple([i.number(),i.number()]):vW(t,["PgGeometryObject","PgPointObject"])?n=i.object({x:i.number(),y:i.number()}):vW(t,["PgHalfVector","PgVector"])?(n=i.array(i.number()),n=t.dimensions?n.length(t.dimensions):n):vW(t,["PgLine"])?n=i.tuple([i.number(),i.number(),i.number()]):vW(t,["PgLineABC"])?n=i.object({a:i.number(),b:i.number(),c:i.number()}):vW(t,["PgArray"])?(n=i.array(e(t.baseColumn,r)),n=t.size?n.length(t.size):n):"array"===t.dataType?n=i.array(i.any()):"number"===t.dataType?n=function(e,t,r){let n,i,a=e.getSQLType().includes("unsigned"),o=!1;vW(e,["MySqlTinyInt","SingleStoreTinyInt"])?(n=a?0:vB.INT8_MIN,i=a?vB.INT8_UNSIGNED_MAX:vB.INT8_MAX,o=!0):vW(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=a?0:vB.INT16_MIN,i=a?vB.INT16_UNSIGNED_MAX:vB.INT16_MAX,o=!0):vW(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=a?0:vB.INT24_MIN,i=a?vB.INT24_UNSIGNED_MAX:vB.INT24_MAX,o=vW(e,["MySqlMediumInt","SingleStoreMediumInt"])):vW(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=a?0:vB.INT32_MIN,i=a?vB.INT32_UNSIGNED_MAX:vB.INT32_MAX,o=!0):vW(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=a?0:vB.INT48_MIN,i=a?vB.INT48_UNSIGNED_MAX:vB.INT48_MAX):vW(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=(a=a||vW(e,["MySqlSerial","SingleStoreSerial"]))?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):vW(e,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,o=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let s=!0===r||r?.number?o?t.coerce.number():t.coerce.number().int():o?t.int():t.number();return s.gte(n).lte(i)}(t,i,a):"bigint"===t.dataType?n=function(e,t,r){let n=e.getSQLType().includes("unsigned"),i=n?0n:vB.INT64_MIN,a=n?vB.INT64_UNSIGNED_MAX:vB.INT64_MAX;return(!0===r||r?.bigint?t.coerce.bigint():t.bigint()).gte(i).lte(a)}(t,i,a):"boolean"===t.dataType?n=!0===a||a.boolean?i.coerce.boolean():i.boolean():"date"===t.dataType?n=!0===a||a.date?i.coerce.date():i.date():"string"===t.dataType?n=function(e,t,r){let n,i;if(vW(e,["PgUUID"]))return t.uuid();let a=!1;vW(e,["PgVarchar","SQLiteText"])?n=e.length:vW(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??vB.INT16_UNSIGNED_MAX:vW(e,["MySqlText","SingleStoreText"])&&(n="longtext"===e.textType?vB.INT32_UNSIGNED_MAX:"mediumtext"===e.textType?vB.INT24_UNSIGNED_MAX:"text"===e.textType?vB.INT16_UNSIGNED_MAX:vB.INT8_UNSIGNED_MAX),vW(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,a=!0),vW(e,["PgBinaryVector"])&&(i=/^[01]+$/,n=e.dimensions);let o=!0===r||r?.string?t.coerce.string():t.string();return o=i?o.regex(i):o,n&&a?o.length(n):n?o.max(n):o}(t,i,a):"json"===t.dataType?n=vZ:"custom"===t.dataType?n=i.any():"buffer"===t.dataType&&(n=vF)),n||(n=i.any()),n}(s,n):vJ.any(),u="function"==typeof e?e(l):l;!r.never(s)&&(i[a]=u,s&&(r.nullable(s)&&(i[a]=i[a].nullable()),r.optional(s)&&(i[a]=i[a].optional())))}return vJ.object(i)}let vG={never:()=>!1,optional:()=>!1,nullable:e=>!e.notNull},vQ={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},vX=(e,t)=>{if(vH(e))return((void 0)??vJ).enum(e.enumValues);return vV(vK(e),t??{},vG)},vY=(e,t)=>vV(vK(e),t??{},vQ),v0={PUBLIC:"public",USER:"user",MEMBER:"member",ADMIN:"admin"},v1=s6("users",{id:sO("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),email:sO("email").unique().notNull(),emailVerified:sR("email_verified",{mode:"date"}),name:sO("name"),image:sO("image"),role:sO("role").$default(()=>v0.USER).notNull(),lastLogin:sR("last_login",{mode:"date"}),createdAt:sR("created_at").defaultNow().notNull(),updatedAt:sR("updated_at").defaultNow().notNull()}),v4=s6("whiskies",{id:sO("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),name:sO("name").notNull(),distillery:sO("distillery").notNull(),region:sO("region").notNull(),country:sO("country").notNull(),type:sO("type").notNull(),abv:se("abv",{precision:4,scale:1}).notNull(),age:oU("age"),priceRange:sO("price_range"),description:sO("description").notNull(),tastingNotes:oZ("tasting_notes").$type().notNull(),coordinates:oZ("coordinates").$type().notNull(),flavorProfile:oZ("flavor_profile").$type().notNull(),imageUrl:sO("image_url"),createdAt:sR("created_at").defaultNow().notNull(),updatedAt:sR("updated_at").defaultNow().notNull()}),v6=s6("tastings",{id:sO("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),userId:sO("user_id").references(()=>v1.id,{onDelete:"cascade"}).notNull(),whiskyId:sO("whisky_id").references(()=>v4.id,{onDelete:"cascade"}).notNull(),rating:oU("rating").notNull(),notes:sO("notes"),tastingDate:sR("tasting_date",{mode:"date"}).notNull(),createdAt:sR("created_at").defaultNow().notNull(),updatedAt:sR("updated_at").defaultNow().notNull()}),v2=s6("tasting_notes",{id:sO("id").primaryKey().$defaultFn(()=>crypto.randomUUID()),tastingId:sO("tasting_id").references(()=>v6.id,{onDelete:"cascade"}).notNull(),note:sO("note").notNull(),intensity:oU("intensity").notNull(),createdAt:sR("created_at").defaultNow().notNull()}),v5=vY(v1),v3=vX(v1),v8=vY(v4),v9=vX(v4),v7=vY(v6),_e=vX(v6),_t=vY(v2),_r=vX(v2);e.s(["ParticipationStatus",0,{REGISTERED:"registered",ATTENDED:"attended",NO_SHOW:"no_show"},"UserRole",0,v0,"insertTastingNoteSchema",0,_t,"insertTastingSchema",0,v7,"insertUserSchema",0,v5,"insertWhiskySchema",0,v8,"selectTastingNoteSchema",0,_r,"selectTastingSchema",0,_e,"selectUserSchema",0,v3,"selectWhiskySchema",0,v9,"tastingNotes",0,v2,"tastings",0,v6,"users",0,v1,"whiskies",0,v4],18612);var _n=e.i(18612);let _i=uS(iX(process.env.DATABASE_URL,{prepare:!1}),{schema:_n}),_a={providers:[(0,nz.default)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})],callbacks:{async signIn({user:e,account:t,profile:r}){if(t?.provider==="google"&&e.email)try{let t=await _i.select().from(v1).where(ld(v1.email,e.email)).limit(1);0===t.length?await _i.insert(v1).values({id:e.id,email:e.email,name:e.name||null,image:e.image||null,emailVerified:new Date}):await _i.update(v1).set({name:e.name||t[0].name,image:e.image||t[0].image,emailVerified:t[0].emailVerified||new Date}).where(ld(v1.email,e.email))}catch(e){return console.error("Error creating/updating user:",e),!1}return!0},async session({session:e,token:t}){if(!t.sub)return e;try{let r=await _i.select({id:v1.id,role:v1.role}).from(v1).where(ld(v1.id,t.sub)).limit(1);if(0===r.length)return e;e.user&&(e.user.id=t.sub,e.user.role=r[0].role)}catch(e){console.error("Error verifying user in session callback:",e)}return e},async jwt({token:e,user:t,account:r}){if(t&&r?.provider==="google"&&t.email)try{let r=await _i.select({id:v1.id,role:v1.role}).from(v1).where(ld(v1.email,t.email)).limit(1);r.length>0?(e.sub=r[0].id,e.role=r[0].role,await _i.update(v1).set({lastLogin:new Date}).where(ld(v1.id,r[0].id))):console.error(`User ${t.email} not found in database after OAuth login`)}catch(e){console.error("Error fetching user from database:",e)}if(e.sub&&!t)try{let t=await _i.select({id:v1.id,role:v1.role}).from(v1).where(ld(v1.id,e.sub)).limit(1);0===t.length?(e.sub=void 0,e.role=void 0,console.warn(`User ${e.sub} not found in database, clearing token`)):e.role=t[0].role}catch(e){console.error("Error verifying user in database:",e)}return e}},pages:{signIn:"/signin"},session:{strategy:"jwt"}},_o=(0,nM.default)(_a);class _s{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class _l{constructor(e){this.generateIdentifier=e,this.kv=new _s}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}}class _u extends _l{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}}function _c(e,t){Object.entries(e).forEach(([e,r])=>t(r,e))}function _d(e,t){return -1!==e.indexOf(t)}function _f(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(t(n))return n}}class _p{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return function(e,t){let r=function(e){if("values"in Object)return Object.values(e);let t=[];for(let r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}(e);if("find"in r)return r.find(t);for(let e=0;e<r.length;e++){let n=r[e];if(t(n))return n}}(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}}let _h=e=>void 0===e,_m=e=>"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype),_g=e=>_m(e)&&0===Object.keys(e).length,_y=e=>Array.isArray(e),_v=e=>e instanceof Map,__=e=>e instanceof Set,_b=e=>"Symbol"===Object.prototype.toString.call(e).slice(8,-1),_w=e=>e instanceof Error,_S=e=>"number"==typeof e&&isNaN(e),_x=e=>e.replace(/\\/g,"\\\\").replace(/\./g,"\\."),_E=e=>e.map(String).map(_x).join("."),_k=(e,t)=>{let r=[],n="";for(let i=0;i<e.length;i++){let a=e.charAt(i);if(!t&&"\\"===a){let t=e.charAt(i+1);if("\\"===t){n+="\\",i++;continue}if("."!==t)throw Error("invalid path")}if("\\"===a&&"."===e.charAt(i+1)){n+=".",i++;continue}if("."===a){r.push(n),n="";continue}n+=a}let i=n;return r.push(i),r};function _$(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let _O=[_$(_h,"undefined",()=>null,()=>void 0),_$(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),_$(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),_$(_w,"Error",(e,t)=>{let r={name:e.name,message:e.message};return"cause"in e&&(r.cause=e.cause),t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r},(e,t)=>{let r=Error(e.message,{cause:e.cause});return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(t=>{r[t]=e[t]}),r}),_$(e=>e instanceof RegExp,"regexp",e=>""+e,e=>new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))),_$(__,"set",e=>[...e.values()],e=>new Set(e)),_$(_v,"map",e=>[...e.entries()],e=>new Map(e)),_$(e=>_S(e)||e===1/0||e===-1/0,"number",e=>_S(e)?"NaN":e>0?"Infinity":"-Infinity",Number),_$(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),_$(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function _P(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}let _T=_P((e,t)=>!!_b(e)&&!!t.symbolRegistry.getIdentifier(e),(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{let n=r.symbolRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown symbol");return n}),_I=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),_A=_P(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let r=_I[t[1]];if(!r)throw Error("Trying to deserialize unknown typed array");return new r(e)});function _j(e,t){return!!e?.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}let _N=_P(_j,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};let n={};return r.forEach(t=>{n[t]=e[t]}),n},(e,t,r)=>{let n=r.classRegistry.getValue(t[1]);if(!n)throw Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),_C=_P((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{let n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),_R=[_N,_T,_C,_A],_D=(e,t)=>{let r=_f(_R,r=>r.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};let n=_f(_O,r=>r.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},_U={};_O.forEach(e=>{_U[e.annotation]=e});let _M=(e,t)=>{if(t>e.size)throw Error("index out of bounds");let r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function _z(e){if(_d(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(_d(e,"prototype"))throw Error("prototype is not allowed as a property");if(_d(e,"constructor"))throw Error("constructor is not allowed as a property")}let _L=(e,t,r)=>{if(_z(t),0===t.length)return r(e);let n=e;for(let e=0;e<t.length-1;e++){let r=t[e];if(_y(n))n=n[+r];else if(_m(n))n=n[r];else if(__(n))n=_M(n,+r);else if(_v(n)){if(e===t.length-2)break;let i=+r,a=0==+t[++e]?"key":"value",o=_M(n,i);switch(a){case"key":n=o;break;case"value":n=n.get(o)}}}let i=t[t.length-1];if(_y(n)?n[+i]=r(n[+i]):_m(n)&&(n[i]=r(n[i])),__(n)){let e=_M(n,+i),t=r(e);e!==t&&(n.delete(e),n.add(t))}if(_v(n)){let e=_M(n,+t[t.length-2]);switch(0==+i?"key":"value"){case"key":{let t=r(e);n.set(t,n.get(e)),t!==e&&n.delete(e);break}case"value":n.set(e,r(n.get(e)))}}return e},_J=(e,t,r,n,i=[],a=[],o=new Map)=>{let s=(e=>"boolean"==typeof e||null===e||_h(e)||"number"==typeof e&&!isNaN(e)||"string"==typeof e||_b(e))(e);if(!s){let r;(r=t.get(e))?r.push(i):t.set(e,[i]);let a=o.get(e);if(a)return n?{transformedValue:null}:a}if(!(_m(e)||_y(e)||_v(e)||__(e)||_w(e)||_j(e,r))){let t=_D(e,r),n=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return s||o.set(e,n),n}if(_d(a,e))return{transformedValue:null};let l=_D(e,r),u=l?.value??e,c=_y(u)?[]:{},d={};_c(u,(s,l)=>{if("__proto__"===l||"constructor"===l||"prototype"===l)throw Error(`Detected property ${l}. This is a prototype pollution risk, please remove it from your object.`);let u=_J(s,t,r,n,[...i,l],[...a,e],o);c[l]=u.transformedValue,_y(u.annotations)?d[_x(l)]=u.annotations:_m(u.annotations)&&_c(u.annotations,(e,t)=>{d[_x(l)+"."+t]=e})});let f=_g(d)?{transformedValue:c,annotations:l?[l.type]:void 0}:{transformedValue:c,annotations:l?[l.type,d]:d};return s||o.set(e,f),f};function _B(e){return Object.prototype.toString.call(e).slice(8,-1)}function _W(e){return"Array"===_B(e)}class _H{constructor({dedupe:e=!1}={}){this.classRegistry=new _u,this.symbolRegistry=new _l(e=>e.description??""),this.customTransformerRegistry=new _p,this.allowedErrorProps=[],this.dedupe=e}serialize(e){var t;let r,n,i=new Map,a=_J(e,i,this,this.dedupe),o={json:a.transformedValue};a.annotations&&(o.meta={...o.meta,values:a.annotations});let s=(t=this.dedupe,r={},(i.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));let[i,...a]=e;0===i.length?n=a.map(_E):r[_E(i)]=a.map(_E)}),n)?_g(r)?[n]:[n,r]:_g(r)?void 0:r);return s&&(o.meta={...o.meta,referentialEqualities:s}),o.meta&&(o.meta.v=1),o}deserialize(e,t){var r,n,i,a;let{json:o,meta:s}=e,l=t?.inPlace?o:function e(t,r={}){return _W(t)?t.map(t=>e(t,r)):!function(e){if("Object"!==_B(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t)?t:[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)].reduce((n,i)=>{var a;let o;if("__proto__"===i||_W(r.props)&&!r.props.includes(i))return n;let s=e(t[i],r);return a=r.nonenumerable,"enumerable"==(o=({}).propertyIsEnumerable.call(t,i)?"enumerable":"nonenumerable")&&(n[i]=s),a&&"nonenumerable"===o&&Object.defineProperty(n,i,{value:s,enumerable:!1,writable:!0,configurable:!0}),n},{})}(o);return s?.values&&(r=l,n=s.values,i=s.v??0,a=this,function e(t,r,n,i=[]){if(!t)return;let a=n<1;if(!_y(t))return void _c(t,(t,o)=>e(t,r,n,[...i,..._k(o,a)]));let[o,s]=t;s&&_c(s,(t,o)=>{e(t,r,n,[...i,..._k(o,a)])}),r(o,i)}(n,(e,t)=>{r=_L(r,t,t=>((e,t,r)=>{if(_y(t))switch(t[0]){case"symbol":return _T.untransform(e,t,r);case"class":return _N.untransform(e,t,r);case"custom":return _C.untransform(e,t,r);case"typed-array":return _A.untransform(e,t,r);default:throw Error("Unknown transformation: "+t)}{let n=_U[t];if(!n)throw Error("Unknown transformation: "+t);return n.untransform(e,r)}})(t,e,a))},i),l=r),s?.referentialEqualities&&(l=function(e,t,r){let n=r<1;function i(t,r){let i=((e,t)=>{_z(t);for(let r=0;r<t.length;r++){let n=t[r];if(__(e))e=_M(e,+n);else if(_v(e)){let i=+n,a=0==+t[++r]?"key":"value",o=_M(e,i);switch(a){case"key":e=o;break;case"value":e=e.get(o)}}else e=e[n]}return e})(e,_k(r,n));t.map(e=>_k(e,n)).forEach(t=>{e=_L(e,t,()=>i)})}if(_y(t)){let[r,a]=t;r.forEach(t=>{e=_L(e,_k(t,n),()=>e)}),a&&_c(a,i)}else _c(t,i);return e}(l,s.referentialEqualities,s.v??0)),l}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e),{inPlace:!0})}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}}_H.defaultInstance=new _H,_H.serialize=_H.defaultInstance.serialize.bind(_H.defaultInstance),_H.deserialize=_H.defaultInstance.deserialize.bind(_H.defaultInstance),_H.stringify=_H.defaultInstance.stringify.bind(_H.defaultInstance),_H.parse=_H.defaultInstance.parse.bind(_H.defaultInstance),_H.registerClass=_H.defaultInstance.registerClass.bind(_H.defaultInstance),_H.registerSymbol=_H.defaultInstance.registerSymbol.bind(_H.defaultInstance),_H.registerCustom=_H.defaultInstance.registerCustom.bind(_H.defaultInstance),_H.allowErrorProps=_H.defaultInstance.allowErrorProps.bind(_H.defaultInstance),_H.serialize,_H.deserialize,_H.stringify,_H.parse,_H.registerClass,_H.registerCustom,_H.registerSymbol,_H.allowErrorProps;let _q=nU.context().create({transformer:_H});_q.createCallerFactory;let _Z=_q.router,_F=_q.procedure,_K=_q.procedure.use(({ctx:e,next:t})=>{if(!e.session?.user)throw Error("Unauthorized");return t({ctx:{...e,session:{...e.session,user:e.session.user}}})});var _V=vJ;let _G=_Z({getAll:_F.input(_V.object({search:_V.string().optional(),region:_V.string().optional(),type:_V.string().optional(),limit:_V.number().min(1).max(100).default(50),offset:_V.number().min(0).default(0)}).optional()).query(async({input:e})=>{let{search:t,region:r,type:n,limit:i=50,offset:a=0}=e||{},o=[];return t&&o.push(lI(v4.name,`%${t}%`)),r&&o.push(ld(v4.region,r)),n&&o.push(ld(v4.type,n)),await _i.select().from(v4).where(o.length>0?lp(...o):void 0).limit(i).offset(a)}),getById:_F.input(_V.object({id:_V.string()})).query(async({input:e})=>{let{id:t}=e,r=await _i.select().from(v4).where(ld(v4.id,t)).limit(1);if(0===r.length)throw Error("Whisky not found");return r[0]}),getNearby:_F.input(_V.object({lat:_V.number(),lng:_V.number(),radius:_V.number().default(1e3),limit:_V.number().min(1).max(50).default(20)})).query(async({input:e})=>{let{lat:t,lng:r,radius:n,limit:i}=e;return await _i.select().from(v4).limit(i)}),getStats:_F.query(async()=>{let e=await _i.select({count:aW`count(*)`}).from(v4),t=await _i.select({region:v4.region,count:aW`count(*)`}).from(v4).groupBy(v4.region),r=await _i.select({type:v4.type,count:aW`count(*)`}).from(v4).groupBy(v4.type);return{total:e[0]?.count||0,regions:t,types:r}})});var _V=vJ;let _Q=_Z({getProfile:_K.query(async({ctx:e})=>{let{session:t}=e;if(!t?.user?.id)throw Error("Unauthorized");let r=await _i.select().from(v1).where(ld(v1.id,t.user.id)).limit(1);if(0===r.length)throw Error("User not found");return r[0]}),updateProfile:_K.input(_V.object({name:_V.string().optional(),image:_V.string().optional()})).mutation(async({ctx:e,input:t})=>{let{session:r}=e;if(!r?.user?.id)throw Error("Unauthorized");return(await _i.update(v1).set({...t,updatedAt:new Date}).where(ld(v1.id,r.user.id)).returning())[0]})});var _V=vJ;let _X=_Z({create:_K.input(_V.object({whiskyId:_V.string(),rating:_V.number().min(1).max(5),notes:_V.string().optional(),tastingDate:_V.date(),tastingNotes:_V.array(_V.object({note:_V.string(),intensity:_V.number().min(1).max(5)})).optional()})).mutation(async({ctx:e,input:t})=>{let{session:r}=e;if(!r?.user?.id)throw Error("Unauthorized");let{whiskyId:n,rating:i,notes:a,tastingDate:o,tastingNotes:s}=t,l=(await _i.insert(v6).values({userId:r.user.id,whiskyId:n,rating:i,notes:a,tastingDate:o}).returning())[0];return s&&s.length>0&&await _i.insert(v2).values(s.map(e=>({tastingId:l.id,note:e.note,intensity:e.intensity}))),l}),update:_K.input(_V.object({id:_V.string(),rating:_V.number().min(1).max(5).optional(),notes:_V.string().optional(),tastingDate:_V.date().optional(),tastingNotes:_V.array(_V.object({note:_V.string(),intensity:_V.number().min(1).max(5)})).optional()})).mutation(async({ctx:e,input:t})=>{let{session:r}=e;if(!r?.user?.id)throw Error("Unauthorized");let{id:n,tastingNotes:i,...a}=t,o=await _i.update(v6).set({...a,updatedAt:new Date}).where(lp(ld(v6.id,n),ld(v6.userId,r.user.id))).returning();if(0===o.length)throw Error("Tasting not found or unauthorized");let s=o[0];return i&&(await _i.delete(v2).where(ld(v2.tastingId,n)),i.length>0&&await _i.insert(v2).values(i.map(e=>({tastingId:n,note:e.note,intensity:e.intensity})))),s}),delete:_K.input(_V.object({id:_V.string()})).mutation(async({ctx:e,input:t})=>{let{session:r}=e;if(!r?.user?.id)throw Error("Unauthorized");let{id:n}=t;if(await _i.delete(v2).where(ld(v2.tastingId,n)),0===(await _i.delete(v6).where(lp(ld(v6.id,n),ld(v6.userId,r.user.id))).returning()).length)throw Error("Tasting not found or unauthorized");return{success:!0}}),getUserTastings:_K.input(_V.object({limit:_V.number().min(1).max(100).default(20),offset:_V.number().min(0).default(0)}).optional()).query(async({ctx:e,input:t})=>{let{session:r}=e;if(!r?.user?.id)throw Error("Unauthorized");let{limit:n=20,offset:i=0}=t||{};return await _i.select({tasting:v6,whisky:{id:v4.id,name:v4.name,distillery:v4.distillery,region:v4.region}}).from(v6).innerJoin(v4,ld(v6.whiskyId,v4.id)).where(ld(v6.userId,r.user.id)).orderBy(lN(v6.tastingDate)).limit(n).offset(i)}),getByWhisky:_F.input(_V.object({whiskyId:_V.string(),limit:_V.number().min(1).max(50).default(10)})).query(async({input:e})=>{let{whiskyId:t,limit:r}=e;return await _i.select({tasting:v6,user:{id:v1.id,name:v1.name}}).from(v6).innerJoin(v1,ld(v6.userId,v1.id)).where(ld(v6.whiskyId,t)).orderBy(lN(v6.tastingDate)).limit(r)})});(k=B||(B={})).STRING="string",k.NUMBER="number",k.INTEGER="integer",k.BOOLEAN="boolean",k.ARRAY="array",k.OBJECT="object",($=W||(W={})).LANGUAGE_UNSPECIFIED="language_unspecified",$.PYTHON="python",(O=H||(H={})).OUTCOME_UNSPECIFIED="outcome_unspecified",O.OUTCOME_OK="outcome_ok",O.OUTCOME_FAILED="outcome_failed",O.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded";let _Y=["user","model","function","system"];(P=q||(q={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",P.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",P.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",P.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",P.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",P.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",(T=Z||(Z={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",T.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",T.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",T.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",T.BLOCK_NONE="BLOCK_NONE",(I=F||(F={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",I.NEGLIGIBLE="NEGLIGIBLE",I.LOW="LOW",I.MEDIUM="MEDIUM",I.HIGH="HIGH",(A=K||(K={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",A.SAFETY="SAFETY",A.OTHER="OTHER",(j=V||(V={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",j.STOP="STOP",j.MAX_TOKENS="MAX_TOKENS",j.SAFETY="SAFETY",j.RECITATION="RECITATION",j.LANGUAGE="LANGUAGE",j.BLOCKLIST="BLOCKLIST",j.PROHIBITED_CONTENT="PROHIBITED_CONTENT",j.SPII="SPII",j.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",j.OTHER="OTHER",(N=G||(G={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",N.RETRIEVAL_QUERY="RETRIEVAL_QUERY",N.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",N.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",N.CLASSIFICATION="CLASSIFICATION",N.CLUSTERING="CLUSTERING",(C=Q||(Q={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",C.AUTO="AUTO",C.ANY="ANY",C.NONE="NONE",(R=X||(X={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",R.MODE_DYNAMIC="MODE_DYNAMIC";class _0 extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class _1 extends _0{constructor(e,t){super(e),this.response=t}}class _4 extends _0{constructor(e,t,r,n){super(e),this.status=t,this.statusText=r,this.errorDetails=n}}class _6 extends _0{}class _2 extends _0{}(D=Y||(Y={})).GENERATE_CONTENT="generateContent",D.STREAM_GENERATE_CONTENT="streamGenerateContent",D.COUNT_TOKENS="countTokens",D.EMBED_CONTENT="embedContent",D.BATCH_EMBED_CONTENTS="batchEmbedContents";class _5{constructor(e,t,r,n,i){this.model=e,this.task=t,this.apiKey=r,this.stream=n,this.requestOptions=i}toString(){var e,t;let r=(null==(e=this.requestOptions)?void 0:e.apiVersion)||"v1beta",n=(null==(t=this.requestOptions)?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com",i=`${n}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}async function _3(e){var t,r;let n,i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",(r=e.requestOptions,n=[],(null==r?void 0:r.apiClient)&&n.push(r.apiClient),n.push("genai-js/0.24.1"),n.join(" "))),i.append("x-goog-api-key",e.apiKey);let a=null==(t=e.requestOptions)?void 0:t.customHeaders;if(a){if(!(a instanceof Headers))try{a=new Headers(a)}catch(e){throw new _6(`unable to convert customHeaders value ${JSON.stringify(a)} to Headers: ${e.message}`)}for(let[e,t]of a.entries()){if("x-goog-api-key"===e)throw new _6(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new _6(`Header name ${e} can only be set using the apiClient field`);i.append(e,t)}}return i}async function _8(e,t,r,n,i,a){let o=new _5(e,t,r,n,a);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let r=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}(a)),{method:"POST",headers:await _3(o),body:i})}}async function _9(e,t,r,n,i,a={},o=fetch){let{url:s,fetchOptions:l}=await _8(e,t,r,n,i,a);return _7(s,l,o)}async function _7(e,t,r=fetch){let n;try{n=await r(e,t)}catch(r){var i=r,a=e;let t=i;throw"AbortError"===t.name?(t=new _2(`Request aborted when fetching ${a.toString()}: ${i.message}`)).stack=i.stack:i instanceof _4||i instanceof _6||((t=new _0(`Error fetching from ${a.toString()}: ${i.message}`)).stack=i.stack),t}return n.ok||await be(n,e),n}async function be(e,t){let r,n="";try{let t=await e.json();n=t.error.message,t.error.details&&(n+=` ${JSON.stringify(t.error.details)}`,r=t.error.details)}catch(e){}throw new _4(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function bt(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),bi(e.candidates[0]))throw new _1(`${ba(e)}`,e);return function(e){var t,r,n,i;let a=[];if(null==(r=null==(t=e.candidates)?void 0:t[0].content)?void 0:r.parts)for(let t of null==(i=null==(n=e.candidates)?void 0:n[0].content)?void 0:i.parts)t.text&&a.push(t.text),t.executableCode&&a.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&a.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}(e)}if(e.promptFeedback)throw new _1(`Text not available. ${ba(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),bi(e.candidates[0]))throw new _1(`${ba(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),br(e)[0]}if(e.promptFeedback)throw new _1(`Function call not available. ${ba(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),bi(e.candidates[0]))throw new _1(`${ba(e)}`,e);return br(e)}if(e.promptFeedback)throw new _1(`Function call not available. ${ba(e)}`,e)},e}function br(e){var t,r,n,i;let a=[];if(null==(r=null==(t=e.candidates)?void 0:t[0].content)?void 0:r.parts)for(let t of null==(i=null==(n=e.candidates)?void 0:n[0].content)?void 0:i.parts)t.functionCall&&a.push(t.functionCall);return a.length>0?a:void 0}let bn=[V.RECITATION,V.SAFETY,V.LANGUAGE];function bi(e){return!!e.finishReason&&bn.includes(e.finishReason)}function ba(e){var t,r,n;let i="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)i+="Response was blocked",(null==(t=e.promptFeedback)?void 0:t.blockReason)&&(i+=` due to ${e.promptFeedback.blockReason}`),(null==(r=e.promptFeedback)?void 0:r.blockReasonMessage)&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null==(n=e.candidates)?void 0:n[0]){let t=e.candidates[0];bi(t)&&(i+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(i+=`: ${t.finishMessage}`))}return i}function bo(e){return this instanceof bo?(this.v=e,this):new bo(e)}"function"==typeof SuppressedError&&SuppressedError;let bs=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function bl(e){let t=[],r=e.getReader();for(;;){let{done:e,value:n}=await r.read();if(e)return bt(function(e){let t=e[e.length-1],r={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let n of t.candidates)if(r.candidates||(r.candidates=[]),r.candidates[e]||(r.candidates[e]={index:e}),r.candidates[e].citationMetadata=n.citationMetadata,r.candidates[e].groundingMetadata=n.groundingMetadata,r.candidates[e].finishReason=n.finishReason,r.candidates[e].finishMessage=n.finishMessage,r.candidates[e].safetyRatings=n.safetyRatings,n.content&&n.content.parts){r.candidates[e].content||(r.candidates[e].content={role:n.content.role||"user",parts:[]});let t={};for(let i of n.content.parts)i.text&&(t.text=i.text),i.functionCall&&(t.functionCall=i.functionCall),i.executableCode&&(t.executableCode=i.executableCode),i.codeExecutionResult&&(t.codeExecutionResult=i.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),r.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(r.usageMetadata=t.usageMetadata)}return r}(t));t.push(n)}}async function bu(e,t,r,n){return function(e){let t,[r,n]=(t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})).getReader(),new ReadableStream({start(e){let r="";return function n(){return t.read().then(({value:t,done:i})=>{let a;if(i)return r.trim()?void e.error(new _0("Failed to parse stream")):void e.close();let o=(r+=t).match(bs);for(;o;){try{a=JSON.parse(o[1])}catch(t){e.error(new _0(`Error parsing JSON response: "${o[1]}"`));return}e.enqueue(a),o=(r=r.substring(o[0].length)).match(bs)}return n()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new _2("Request aborted when reading from the stream"):new _0("Error reading from the stream")})}()}})).tee();return{stream:function(e){return function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||s(e,t)})})}function s(e,t){try{var r;(r=i[e](t)).value instanceof bo?Promise.resolve(r.value.v).then(l,u):c(a[0][2],r)}catch(e){c(a[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:r}=yield bo(t.read());if(r)break;yield yield bo(bt(e))}})}(r),response:bl(n)}}(await _9(t,Y.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n))}async function bc(e,t,r,n){let i=await _9(t,Y.GENERATE_CONTENT,e,!1,JSON.stringify(r),n);return{response:bt(await i.json())}}function bd(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)if(!e.role)return{role:"system",parts:e.parts};else return e}}function bf(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let r of e)"string"==typeof r?t.push({text:r}):t.push(r);var r=t;let n={role:"user",parts:[]},i={role:"function",parts:[]},a=!1,o=!1;for(let e of r)"functionResponse"in e?(i.parts.push(e),o=!0):(n.parts.push(e),a=!0);if(a&&o)throw new _0("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!o)throw new _0("No content is provided for sending chat message.");return a?n:i}function bp(e){let t;return t=e.contents?e:{contents:[bf(e)]},e.systemInstruction&&(t.systemInstruction=bd(e.systemInstruction)),t}let bh=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],bm={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function bg(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let r=null==(t=e.candidates[0])?void 0:t.content;if(void 0===r||void 0===r.parts||0===r.parts.length)return!1;for(let e of r.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}let by="SILENT_ERROR";class bv{constructor(e,t,r,n={}){this.model=t,this.params=r,this._requestOptions=n,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==r?void 0:r.history)&&(!function(e){let t=!1;for(let r of e){let{role:e,parts:n}=r;if(!t&&"user"!==e)throw new _0(`First content should be with role 'user', got ${e}`);if(!_Y.includes(e))throw new _0(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(_Y)}`);if(!Array.isArray(n))throw new _0("Content should have 'parts' property with an array of Parts");if(0===n.length)throw new _0("Each Content should have at least one part");let i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of n)for(let t of bh)t in e&&(i[t]+=1);let a=bm[e];for(let t of bh)if(!a.includes(t)&&i[t]>0)throw new _0(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,n,i,a,o,s;let l;await this._sendPromise;let u=bf(e),c={safetySettings:null==(r=this.params)?void 0:r.safetySettings,generationConfig:null==(n=this.params)?void 0:n.generationConfig,tools:null==(i=this.params)?void 0:i.tools,toolConfig:null==(a=this.params)?void 0:a.toolConfig,systemInstruction:null==(o=this.params)?void 0:o.systemInstruction,cachedContent:null==(s=this.params)?void 0:s.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>bc(this._apiKey,this.model,c,d)).then(e=>{var t;if(bg(e.response)){this._history.push(u);let r=Object.assign({parts:[],role:"model"},null==(t=e.response.candidates)?void 0:t[0].content);this._history.push(r)}else{let t=ba(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var r,n,i,a,o,s;await this._sendPromise;let l=bf(e),u={safetySettings:null==(r=this.params)?void 0:r.safetySettings,generationConfig:null==(n=this.params)?void 0:n.generationConfig,tools:null==(i=this.params)?void 0:i.tools,toolConfig:null==(a=this.params)?void 0:a.toolConfig,systemInstruction:null==(o=this.params)?void 0:o.systemInstruction,cachedContent:null==(s=this.params)?void 0:s.cachedContent,contents:[...this._history,l]},c=Object.assign(Object.assign({},this._requestOptions),t),d=bu(this._apiKey,this.model,u,c);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw Error(by)}).then(e=>e.response).then(e=>{if(bg(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=ba(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==by&&console.error(e)}),d}}async function b_(e,t,r,n){return(await _9(t,Y.COUNT_TOKENS,e,!1,JSON.stringify(r),n)).json()}async function bb(e,t,r,n){return(await _9(t,Y.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function bw(e,t,r,n){let i=r.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await _9(t,Y.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),n)).json()}class bS{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=bd(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;let n=bp(e),i=Object.assign(Object.assign({},this._requestOptions),t);return bc(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(r=this.cachedContent)?void 0:r.name},n),i)}async generateContentStream(e,t={}){var r;let n=bp(e),i=Object.assign(Object.assign({},this._requestOptions),t);return bu(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(r=this.cachedContent)?void 0:r.name},n),i)}startChat(e){var t;return new bv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(t=this.cachedContent)?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let r=function(e,t){var r;let n={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null==(r=null==t?void 0:t.cachedContent)?void 0:r.name,contents:[]},i=null!=e.generateContentRequest;if(e.contents){if(i)throw new _6("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(i)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{let t=bf(e);n.contents=[t]}return{generateContentRequest:n}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),n=Object.assign(Object.assign({},this._requestOptions),t);return b_(this.apiKey,this.model,r,n)}async embedContent(e,t={}){let r="string"==typeof e||Array.isArray(e)?{content:bf(e)}:e,n=Object.assign(Object.assign({},this._requestOptions),t);return bb(this.apiKey,this.model,r,n)}async batchEmbedContents(e,t={}){let r=Object.assign(Object.assign({},this._requestOptions),t);return bw(this.apiKey,this.model,e,r)}}var _V=vJ;let bx=new class{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new _0("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new bS(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new _6("Cached content must contain a `name` field.");if(!e.model)throw new _6("Cached content must contain a `model` field.");for(let r of["model","systemInstruction"])if((null==t?void 0:t[r])&&e[r]&&(null==t?void 0:t[r])!==e[r]){if("model"===r&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new _6(`Different value for "${r}" specified in modelParams (${t[r]}) and cachedContent (${e[r]})`)}let n=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new bS(this.apiKey,n,r)}}(process.env.GEMINI_API_KEY),bE=_Z({getRecommendation:_F.input(_V.object({preferences:_V.object({flavorProfile:_V.object({peat:_V.number().min(0).max(100).optional(),fruit:_V.number().min(0).max(100).optional(),floral:_V.number().min(0).max(100).optional(),spice:_V.number().min(0).max(100).optional(),wood:_V.number().min(0).max(100).optional(),sweetness:_V.number().min(0).max(100).optional()}).optional(),regions:_V.array(_V.string()).optional(),types:_V.array(_V.string()).optional(),priceRange:_V.string().optional(),experience:_V.enum(["beginner","intermediate","advanced"]).optional()}),context:_V.string().optional()})).query(async({input:e})=>{let{preferences:t,context:r}=e;try{let e=bx.getGenerativeModel({model:"gemini-1.5-flash"}),n=`You are an expert whisky sommelier for the Draycott Drams whisky club. Based on the following preferences, recommend whiskies from our collection.

User Preferences:
${t.flavorProfile?`- Flavor Profile: ${JSON.stringify(t.flavorProfile)}`:""}
${t.regions?.length?`- Preferred Regions: ${t.regions.join(", ")}`:""}
${t.types?.length?`- Preferred Types: ${t.types.join(", ")}`:""}
${t.priceRange?`- Price Range: ${t.priceRange}`:""}
${t.experience?`- Experience Level: ${t.experience}`:""}
${r?`- Additional Context: ${r}`:""}

Please provide 3 whisky recommendations with brief explanations of why they match the preferences. Format your response as JSON with the following structure:
{
  "recommendations": [
    {
      "name": "Whisky Name",
      "reason": "Brief explanation of why this whisky matches the preferences"
    }
  ]
}`,i=await e.generateContent(n),a=(await i.response).text();try{return JSON.parse(a)}catch(e){return{recommendations:[{name:"Unable to parse AI response",reason:"Please try again with different preferences"}]}}}catch(e){throw console.error("AI recommendation error:",e),Error("Unable to generate recommendations at this time")}}),analyzeTasting:_K.input(_V.object({whiskyName:_V.string(),tastingNotes:_V.array(_V.string()),rating:_V.number().min(1).max(5),personalNotes:_V.string().optional()})).query(async({input:e})=>{let{whiskyName:t,tastingNotes:r,rating:n,personalNotes:i}=e;try{let e=bx.getGenerativeModel({model:"gemini-1.5-flash"}),a=`You are an expert whisky sommelier analyzing a tasting experience for the Draycott Drams whisky club.

Whisky: ${t}
Tasting Notes: ${r.join(", ")}
Rating: ${n}/5
Personal Notes: ${i||"None provided"}

Please provide an analysis of this tasting experience. Include:
1. What flavors and characteristics were detected
2. How this compares to typical profiles for this whisky
3. Suggestions for pairing or future tastings
4. Any interesting observations about the tasting experience

Keep your response conversational and expert-level, around 200-300 words.`,o=await e.generateContent(a);return{analysis:(await o.response).text(),whiskyName:t,tastingNotes:r,rating:n}}catch(e){throw console.error("AI tasting analysis error:",e),Error("Unable to analyze tasting at this time")}}),chat:_F.input(_V.object({message:_V.string(),context:_V.array(_V.object({role:_V.enum(["user","assistant"]),content:_V.string()})).optional()})).mutation(async({input:e})=>{let{message:t,context:r=[]}=e;try{let e=bx.getGenerativeModel({model:"gemini-1.5-flash"}).startChat({history:[{role:"user",parts:[{text:"You are an AI sommelier for the Draycott Drams whisky club. You are knowledgeable about whisky, its production, tasting, and the specific whiskies in our collection. Be helpful, engaging, and expert-level in your responses. Keep responses conversational but informative."}]},{role:"model",parts:[{text:"I understand. I'm ready to help with whisky-related questions and discussions."}]},...r.map(e=>({role:"user"===e.role?"user":"model",parts:[{text:e.content}]}))]}),n=await e.sendMessage(t);return{response:(await n.response).text(),timestamp:new Date().toISOString()}}catch(e){throw console.error("AI chat error:",e),Error("Unable to respond at this time")}})}),bk=_Z({whisky:_G,user:_Q,tasting:_X,ai:bE}),b$=e=>nw({endpoint:"/api/trpc",req:e,router:bk,createContext:async()=>({db:_i,session:await _o()})});e.s(["GET",()=>b$,"POST",()=>b$],20259);var bO=e.i(20259);let bP=new ee.AppRouteRouteModule({definition:{kind:et.APP_ROUTE,page:"/api/trpc/[trpc]/route",pathname:"/api/trpc/[trpc]",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/trpc/[trpc]/route.ts",nextConfigOutput:"standalone",userland:bO}),{workAsyncStorage:bT,workUnitAsyncStorage:bI,serverHooks:bA}=bP;function bj(){return function(e){var t;let r;if(!0===globalThis[tx])return;let n=(t=globalThis.fetch,r=ej.cache(e=>[]),function(e,n){let i,a;if(n&&n.signal)return t(e,n);if("string"!=typeof e||n){let r,o="string"==typeof e||e instanceof URL?new Request(e,n):e;if("GET"!==o.method&&"HEAD"!==o.method||o.keepalive)return t(e,n);r=Array.from(o.headers.entries()).filter(([e])=>!eF.has(e.toLowerCase())),a=JSON.stringify([o.method,r,o.mode,o.redirect,o.credentials,o.referrer,o.referrerPolicy,o.integrity]),i=o.url}else a='["GET",[],null,"follow",null,null,null,null]',i=e;let o=r(i);for(let e=0,t=o.length;e<t;e+=1){let[t,r]=o[e];if(t===a)return r.then(()=>{let t=o[e][2];if(!t)throw Object.defineProperty(new eJ("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,n]=eZ(t);return o[e][2]=n,r})}let s=t(e,n),l=[a,s,null];return o.push(l),s.then(e=>{let[t,r]=eZ(e);return l[2]=r,t})});globalThis.fetch=function(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let n=async function(n,i){var a,o;let s;try{(s=new URL(n instanceof Request?n.url:n)).username="",s.password=""}catch{s=void 0}let l=(null==s?void 0:s.href)??"",u=(null==i||null==(a=i.method)?void 0:a.toUpperCase())||"GET",c=(null==i||null==(o=i.next)?void 0:o.internal)===!0,d="1"===process.env.NEXT_OTEL_FETCH_DISABLED,f=c?void 0:performance.timeOrigin+performance.now(),p=t.getStore(),h=r.getStore(),m=h?(0,eR.getCacheSignal)(h):null;m&&m.beginRead();let g=eT().trace(c?ea.internalFetch:el.fetch,{hideSpan:d,kind:ew.CLIENT,spanName:["fetch",u,l].filter(Boolean).join(" "),attributes:{"http.url":l,"http.method":u,"net.peer.name":null==s?void 0:s.hostname,"net.peer.port":(null==s?void 0:s.port)||void 0}},async()=>{var t;let r,a,o,s,u,d;if(c||!p||p.isDraftMode)return e(n,i);let g=n&&"object"==typeof n&&"string"==typeof n.method,y=e=>(null==i?void 0:i[e])||(g?n[e]:null),v=e=>{var t,r,a;return void 0!==(null==i||null==(t=i.next)?void 0:t[e])?null==i||null==(r=i.next)?void 0:r[e]:g?null==(a=n.next)?void 0:a[e]:void 0},_=v("revalidate"),b=_,w=function(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let a=e[i];if("string"!=typeof a?n.push({tag:a,reason:"invalid type, must be a string"}):a.length>256?n.push({tag:a,reason:"exceeded max length of 256"}):r.push(a),r.length>128){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(v("tags")||[],`fetch ${n.toString()}`);if(h)switch(h.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=h}if(r&&Array.isArray(w)){let e=r.tags??(r.tags=[]);for(let t of w)e.includes(t)||e.push(t)}let S=null==h?void 0:h.implicitTags,x=p.fetchCache;h&&"unstable-cache"===h.type&&(x="force-no-store");let E=!!p.isUnstableNoStore,k=y("cache"),$="";"string"==typeof k&&void 0!==b&&("force-cache"===k&&0===b||"no-store"===k&&(b>0||!1===b))&&(a=`Specified "cache: ${k}" and "revalidate: ${b}", only one should be specified.`,k=void 0,b=void 0);let O="no-cache"===k||"no-store"===k||"force-no-store"===x||"only-no-store"===x,P=!x&&!k&&!b&&p.forceDynamic;"force-cache"===k&&void 0===b?b=!1:(O||P)&&(b=0),("no-cache"===k||"no-store"===k)&&($=`cache: ${k}`),d=function(e,t){try{let r;if(!1===e)r=0xfffffffe;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(b,p.route);let T=y("headers"),I="function"==typeof(null==T?void 0:T.get)?T:new Headers(T||{}),A=I.get("authorization")||I.get("cookie"),j=!["get","head"].includes((null==(t=y("method"))?void 0:t.toLowerCase())||"get"),N=void 0==x&&(void 0==k||"default"===k)&&void 0==b,C=!!((A||j)&&(null==r?void 0:r.revalidate)===0),R=!1;if(!C&&N&&(p.isBuildTimePrerendering?R=!0:C=!0),N&&void 0!==h)switch(h.type){case"prerender":case"prerender-runtime":case"prerender-client":return m&&(m.endRead(),m=null),ez(h.renderSignal,p.route,"fetch()")}switch(x){case"force-no-store":$="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===k||void 0!==d&&d>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${l} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});$="fetchCache = only-no-store";break;case"only-cache":if("no-store"===k)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${l} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===b||0===b)&&($="fetchCache = force-cache",d=0xfffffffe)}if(void 0===d?"default-cache"!==x||E?"default-no-store"===x?(d=0,$="fetchCache = default-no-store"):E?(d=0,$="noStore call"):C?(d=0,$="auto no cache"):($="auto cache",d=r?r.revalidate:0xfffffffe):(d=0xfffffffe,$="fetchCache = default-cache"):$||($=`revalidate: ${d}`),!(p.forceStatic&&0===d)&&!C&&r&&d<r.revalidate){if(0===d){if(h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":return m&&(m.endRead(),m=null),ez(h.renderSignal,p.route,"fetch()")}eW(p,h,`revalidate: 0 fetch ${n} ${p.route}`)}r&&_===d&&(r.revalidate=d)}let D="number"==typeof d&&d>0,{incrementalCache:U}=p,M=!1;if(h)switch(h.type){case"request":case"cache":case"private-cache":M=h.isHmrRefresh??!1,s=h.serverComponentsHmrCache}if(U&&(D||s))try{o=await U.generateCacheKey(l,g?n:i)}catch(e){console.error("Failed to generate cache key for",n)}let z=p.nextFetchId??1;p.nextFetchId=z+1;let L=()=>{},J=async(t,r)=>{let u=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(g){let e=n,t={body:e._ogBody||e.body};for(let r of u)t[r]=e[r];n=new Request(e.url,t)}else if(i){let{_ogBody:e,body:r,signal:n,...a}=i;i={...a,body:e||r,signal:t?void 0:n}}let c={...i,next:{...null==i?void 0:i.next,fetchType:"origin",fetchIdx:z}};return e(n,c).then(async e=>{if(!t&&f&&tE(p,{start:f,url:l,cacheReason:r||$,cacheStatus:0===d||r?"skip":"miss",cacheWarning:a,status:e.status,method:c.method||"GET"}),200===e.status&&U&&o&&(D||s)){let t=d>=0xfffffffe?31536e3:d,r=D?{fetchCache:!0,fetchUrl:l,fetchIdx:z,tags:w,isImplicitBuildTimeCache:R}:void 0;switch(null==h?void 0:h.type){case"prerender":case"prerender-client":case"prerender-runtime":return tk(e,o,r,U,t,L);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return t$(p,e,o,r,U,s,t,n,L)}}return await L(),e}).catch(e=>{throw L(),e})},B=!1,W=!1;if(o&&U){let e;if(M&&s&&(e=s.get(o),W=!0),D&&!e){L=await U.lock(o);let t=p.isOnDemandRevalidate?null:await U.get(o,{kind:eG.FETCH,revalidate:d,fetchUrl:l,fetchIdx:z,tags:w,softTags:null==S?void 0:S.tags});if(N&&h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":await (tO||(tO=new Promise(e=>{setTimeout(()=>{tO=null,e()},0)})),tO)}if(t?await L():u="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===eV.FETCH)if(p.isStaticGeneration&&t.isStale)B=!0;else{if(t.isStale&&(p.pendingRevalidates??={},!p.pendingRevalidates[o])){let e=J(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{p.pendingRevalidates??={},delete p.pendingRevalidates[o||""]});e.catch(console.error),p.pendingRevalidates[o]=e}e=t.value.data}}if(e){f&&tE(p,{start:f,url:l,cacheReason:$,cacheStatus:W?"hmr":"hit",cacheWarning:a,status:e.status||200,method:(null==i?void 0:i.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(p.isStaticGeneration&&i&&"object"==typeof i){let{cache:e}=i;if("no-store"===e){if(h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":return m&&(m.endRead(),m=null),ez(h.renderSignal,p.route,"fetch()")}eW(p,h,`no-store fetch ${n} ${p.route}`)}let t="next"in i,{next:a={}}=i;if("number"==typeof a.revalidate&&r&&a.revalidate<r.revalidate){if(0===a.revalidate){if(h)switch(h.type){case"prerender":case"prerender-client":case"prerender-runtime":return ez(h.renderSignal,p.route,"fetch()")}eW(p,h,`revalidate: 0 fetch ${n} ${p.route}`)}p.forceStatic&&0===a.revalidate||(r.revalidate=a.revalidate)}t&&delete i.next}if(!o||!B)return J(!1,u);{let e=o;p.pendingRevalidates??={};let t=p.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=J(!0,u).then(eZ);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=p.pendingRevalidates)?void 0:t[e])&&delete p.pendingRevalidates[e]})).catch(()=>{}),p.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(m)try{return await g}finally{m&&m.endRead()}return g};return n.__nextPatched=!0,n.__nextGetStaticStore=()=>t,n._nextOriginalFetch=e,globalThis[tx]=!0,Object.defineProperty(n,"name",{value:"fetch",writable:!1}),n}(n,e)}({workAsyncStorage:bT,workUnitAsyncStorage:bI})}async function bN(e,t,r){var n;let i;bP.isDev&&(n=process.hrtime.bigint(),(i=e6(e)).devRequestTimingInternalsEnd=n,e[e4]=i);let a="/api/trpc/[trpc]/route";a=a.replace(/\/index$/,"")||"/";let o=await bP.prepare(e,t,{srcPage:a,multiZoneDraftMode:!1});if(!o)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:s,params:l,nextConfig:u,parsedUrl:c,isDraftMode:d,prerenderManifest:f,routerServerContext:p,isOnDemandRevalidate:h,revalidateOnlyGenerated:m,resolvedPathname:g,clientReferenceManifest:y,serverActionsManifest:v}=o,_=tP(a),b=!!(f.dynamicRoutes[_]||f.routes[g]),w=async()=>((null==p?void 0:p.render404)?await p.render404(e,t,c,!1):t.end("This page could not be found"),null);if(b&&!d){let e=!!f.routes[g],t=f.dynamicRoutes[_];if(t&&!1===t.fallback&&!e){if(u.experimental.adapterPath)return await w();throw new tJ.NoFallbackError}}let S=null;!b||bP.isDev||d||(S="/index"===(S=g)?"/":S);let x=!0===bP.isDev||!b,E=b&&!x;v&&y&&function({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:n}){var i;let a=null==(i=globalThis[tT])?void 0:i.clientReferenceManifestsPerPage;globalThis[tT]={clientReferenceManifestsPerPage:{...a,[tP(e)]:t},serverActionsManifest:r,serverModuleMap:n}}({page:a,clientReferenceManifest:y,serverActionsManifest:v,serverModuleMap:function({serverActionsManifest:e}){return new Proxy({},{get:(t,r)=>{var n,i,a;let o,s=null==(i=e.node)||null==(n=i[r])?void 0:n.workers;if(!s)return;let l=eD.workAsyncStorage.getStore();if(!(o=l?s[tt(a=l.page,"app")?a:"app"+a]:Object.values(s).at(0)))return;let{moduleId:u,async:c}=o;return{id:u,name:r,chunks:[],async:c}}})}({serverActionsManifest:v})});let k=e.method||"GET",$=eT(),O=$.getActiveScopeSpan(),P={params:l,prerenderManifest:f,renderOpts:{experimental:{authInterrupts:!!u.experimental.authInterrupts},cacheComponents:!!u.cacheComponents,supportsDynamicResponse:x,incrementalCache:e6(e,"incrementalCache"),cacheLifeProfiles:u.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n)=>bP.onRequestError(e,t,n,p)},sharedContext:{buildId:s}},T=new tU(e),I=new tM(t),A=tg.fromNodeNextRequest(T,function(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new th);let{signal:n}=tm(e);return n}(t));try{let n=async e=>bP.handle(A,P).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=$.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==er.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${k} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${k} ${a}`)}),i=!!e6(e,"minimalMode"),o=async o=>{var s,l;let c=async({previousCacheEntry:s})=>{try{if(!i&&h&&m&&!s)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let a=await n(o);e.fetchMetrics=P.renderOpts.fetchMetrics;let l=P.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let u=P.renderOpts.collectedTags;if(!b)return await tL(T,I,a,P.renderOpts.pendingWaitUntil),null;{let e=await a.blob(),t=e3(a.headers);u&&(t[eI]=u),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==P.renderOpts.collectedRevalidate&&!(P.renderOpts.collectedRevalidate>=0xfffffffe)&&P.renderOpts.collectedRevalidate,n=void 0===P.renderOpts.collectedExpire||P.renderOpts.collectedExpire>=0xfffffffe?void 0:P.renderOpts.collectedExpire;return{value:{kind:eV.APP_ROUTE,status:a.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==s?void 0:s.isStale)&&await bP.onRequestError(e,t,{routerKind:"App Router",routePath:a,routeType:"route",revalidateReason:tz({isStaticGeneration:E,isOnDemandRevalidate:h})},p),t}},g=await bP.handleResponse({req:e,nextConfig:u,cacheKey:S,routeKind:et.APP_ROUTE,isFallback:!1,prerenderManifest:f,isRoutePPREnabled:!1,isOnDemandRevalidate:h,revalidateOnlyGenerated:m,responseGenerator:c,waitUntil:r.waitUntil,isMinimalMode:i});if(!b)return null;if((null==g||null==(s=g.value)?void 0:s.kind)!==eV.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==g||null==(l=g.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});i||t.setHeader("x-nextjs-cache",h?"REVALIDATED":g.isMiss?"MISS":g.isStale?"STALE":"HIT"),d&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let y=e2(g.value.headers);return i&&b||y.delete(eI),!g.cacheControl||t.getHeader("Cache-Control")||y.get("Cache-Control")||y.set("Cache-Control",function({revalidate:e,expire:t}){let r="number"==typeof e&&void 0!==t&&e<t?`, stale-while-revalidate=${t-e}`:"";return 0===e?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof e?`s-maxage=${e}${r}`:`s-maxage=31536000${r}`}(g.cacheControl)),await tL(T,I,new Response(g.value.body,{headers:y,status:g.value.status||200})),null};O?await o(O):await $.withPropagatedContext(e.headers,()=>$.trace(er.handleRequest,{spanName:`${k} ${a}`,kind:ew.SERVER,attributes:{"http.method":k,"http.target":e.url}},o))}catch(t){if(t instanceof tJ.NoFallbackError||await bP.onRequestError(e,t,{routerKind:"App Router",routePath:_,routeType:"route",revalidateReason:tz({isStaticGeneration:E,isOnDemandRevalidate:h})}),b)throw t;return await tL(T,I,new Response(null,{status:500})),null}}e.s(["handler",()=>bN,"patchFetch",()=>bj,"routeModule",()=>bP,"serverHooks",()=>bA,"workAsyncStorage",()=>bT,"workUnitAsyncStorage",()=>bI],47437)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__12658c44._.js.map